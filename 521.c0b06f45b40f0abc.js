"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[521],{59521:(So,W,c)=>{c.r(W),c.d(W,{HrmModule:()=>Uo});var x=c(35357),fe=c(17460),T=c(77579),m=c(82722),xe=c(74800),e=c(5e3),_=c(85094),ve=c(35265);let ye=(()=>{class n{constructor(t,o){this._changeDetectorRef=t,this.store=o,this._unsubscribeAll=new T.x}ngOnInit(){this.store.select(xe.R$).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{t&&(this.fuseNavigation=t),this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["ath-hrm"]],decls:1,vars:0,template:function(t,o){1&t&&e._UZ(0,"ath-content-menu")},dependencies:[ve.p],encapsulation:2,changeDetection:0}),n})();var U=c(86087),C=c(84847),B=c(39646),P=c(56451),O=c(78372),z=c(68675),Q=c(63900),h=c(54004);const X=n=>n.charges,ee=((0,_.P1)(X,n=>n.charge),(0,_.P1)(X,n=>n.charges));var H=c(63844),f=c(59784);class be{}var $=c(86428),a=c(93075),v=c(48966),b=c(22594),y=c(2491),k=c(71683),N=c(97156),F=c(57261),p=c(69808),D=c(47423),q=c(25245),d=c(67322),E=c(98833),w=c(32368);function Ze(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar cargo"),e.qZA())}function Ce(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Editar cargo"),e.qZA())}function Ae(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del cargo "),e.qZA())}function Te(n,r){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11)(4,"div",12)(5,"h6",13),e._uU(6,"Nombre"),e.qZA(),e.TgZ(7,"span",14),e._uU(8),e.qZA()(),e.TgZ(9,"div",15)(10,"h6",13),e._uU(11,"Descripci\xf3n"),e.qZA(),e.TgZ(12,"span",14),e._uU(13),e.qZA()()()()()()),2&n){const t=e.oxw();e.xp6(8),e.Oqu(t.data.charge.name||"Sin nombre"),e.xp6(5),e.Oqu(t.data.charge.description||"Sin descripci\xf3n")}}function Ie(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo es obligatorio. "),e.qZA())}function ke(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del cargo debe contener entre 3 y 255 caracteres. "),e.qZA())}function Fe(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe ser mayor que 0. "),e.qZA())}function De(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El salario debe contener solo n\xfameros. "),e.qZA())}function qe(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function Ee(n,r){if(1&n&&(e.TgZ(0,"div",16)(1,"div",9)(2,"form",17)(3,"mat-form-field",18)(4,"mat-label"),e._uU(5,"Nombre"),e.qZA(),e._UZ(6,"input",19),e.YNc(7,Ie,2,0,"mat-error",6),e.YNc(8,ke,2,0,"mat-error",6),e.qZA(),e.TgZ(9,"mat-form-field",20)(10,"mat-label"),e._uU(11,"Salario"),e.qZA(),e._UZ(12,"input",21),e.YNc(13,Fe,2,0,"mat-error",6),e.YNc(14,De,2,0,"mat-error",6),e.qZA(),e.TgZ(15,"mat-form-field",22)(16,"mat-label"),e._uU(17,"Descripci\xf3n"),e.qZA(),e._UZ(18,"mat-icon",23)(19,"textarea",24),e.YNc(20,qe,2,0,"mat-error",6),e.TgZ(21,"mat-hint",25),e._uU(22),e.qZA()(),e.TgZ(23,"div",26)(24,"span",27),e._uU(25,"Estado"),e.qZA(),e.TgZ(26,"mat-slide-toggle",28),e._uU(27),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.chargeForm)("autocomplete","off"),e.xp6(4),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del cargo"),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("name").hasError("maxlength")||t.chargeForm.get("name").hasError("minlength")),e.xp6(4),e.Q6J("formControlName","salary")("placeholder","Salario")("min",0)("max",99999),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("salary").hasError("min")),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("salary").hasError("pattern")&&!t.chargeForm.get("salary").hasError("min")),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(1),e.Q6J("ngIf",t.chargeForm.get("description").hasError("minlength")),e.xp6(2),e.hij("",(null==t.chargeForm.get("description").value?null:t.chargeForm.get("description").value.length)||0,"/1000"),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(1),e.hij(" ",!0===t.chargeForm.get("active").value?"Activo":"Inactivo"," ")}}const te=function(n){return{"cursor-not-allowed":n}};function Ue(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateCharge())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(3,te,t.chargeForm.invalid))}}function Qe(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",31),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createCharge())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("disabled",t.chargeForm.invalid)("ngClass",e.VKq(3,te,t.chargeForm.invalid))}}function we(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",29),e.ynx(2),e.TgZ(3,"button",30),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,Ue,3,5,"ng-container",6),e.YNc(6,Qe,3,5,"ng-container",6),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.data.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.data.dialogMode)}}let Je=(()=>{class n{constructor(t,o,i,s,l,u,g){this.data=t,this._dialogRef=o,this._formBuilder=i,this._fuseConfirmationService=s,this._chargesService=l,this._snackBar=u,this.store=g,this.dialogMode="view",this._unsubscribeAll=new T.x}ngOnInit(){this.store.select(b.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.chargeForm=this._formBuilder.group({id:[""],active:[!0,[a.kI.required]],merchantId:[this.currentMerchant.id,[a.kI.required]],name:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)]],description:["",[a.kI.minLength(5),a.kI.maxLength(1e3)]],salary:[0,[a.kI.min(0),a.kI.max(99999),y.L.onlyNumbersPattern()]]}),"edit"===this.data.dialogMode&&this.chargeForm.patchValue(this.data.charge)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createCharge(){const t=this.chargeForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._chargesService.createCharge(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateCharge(){const t=this.chargeForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Cargo",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._chargesService.updateCharge(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,o){return o.id||t}closeDialog(){this._dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.WI),e.Y36(v.so),e.Y36(a.qu),e.Y36(k.R),e.Y36(N.Z),e.Y36(F.ux),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["charges-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","mt-4","pt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"w-full","py-10","my-10"],[1,"mb-2","font-medium"],[1,"border-sm"],[1,"w-full","pb-4","my-10"],[1,"w-full","overflow-hidden"],[1,"grid","w-full","gap-4","mt-4","pt-4","border-t","sm:grid-cols-2",3,"formGroup","autocomplete"],[1,"col-span-1","mt-"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"w-full"],["matInput","","type","number",3,"formControlName","placeholder","min","max"],[1,"flex-auto","w-full","sm:col-span-2","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,Ze,2,0,"h2",2),e.YNc(4,Ce,2,0,"h2",2),e.YNc(5,Ae,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,Te,14,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,Ee,28,26,"div",5),e.BQk(),e.qZA(),e.YNc(11,we,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf","add"===o.data.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.charge.id&&"edit"===o.data.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.charge.id&&"view"===o.data.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===o.data.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===o.data.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==o.data.dialogMode))},dependencies:[p.mk,p.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.qQ,a.Fd,a.sg,a.u,D.lW,v.ZT,q.Hw,d.TO,d.KE,d.bx,d.hX,d.qo,E.Nt,w.Rr],encapsulation:2,changeDetection:0}),n})();var S=c(29071),j=c(20773),G=c(1235);function Ne(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"mat-form-field",21),e._UZ(2,"mat-icon",22)(3,"input",23),e.qZA(),e.TgZ(4,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createCharge())}),e._UZ(5,"mat-icon",25),e.TgZ(6,"span",26),e._uU(7,"Nuevo"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar cargos"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus")}}function Se(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-slide-toggle",43),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw(),l=s.$implicit,u=s.index,g=e.oxw(4);return e.KtG(g.updateChargeStatus(i,l,u))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked",t.active)("color","primary")}}function Ye(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-spinner",44),e.BQk()),2&n&&(e.xp6(1),e.Q6J("diameter",20)("color","primary"))}const Le=function(){return[""]};function Re(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",36)(2,"div",37),e._uU(3),e.qZA(),e.TgZ(4,"div",37),e._uU(5),e.qZA(),e.TgZ(6,"div",38),e._uU(7),e.ALo(8,"currency"),e.qZA(),e.TgZ(9,"div",39),e.YNc(10,Se,2,2,"ng-container",34),e.YNc(11,Ye,2,2,"ng-container",34),e.qZA(),e.TgZ(12,"div",40)(13,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.editCharge(s))}),e._UZ(14,"mat-icon",42),e.qZA(),e.TgZ(15,"button",41),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteCharge(s.id))}),e._UZ(16,"mat-icon",42),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit,o=r.index,i=e.oxw(4);e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.hij(" ",e.xi3(8,7,t.salary,e.DdM(10,Le))," "),e.xp6(3),e.Q6J("ngIf",!(i.isLoading&&i.selectedSlide===o)),e.xp6(1),e.Q6J("ngIf",i.isLoading&&i.selectedSlide===o),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Me(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Re,17,11,"ng-container",35),e.BQk()),2&n){const t=r.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",o.trackByFn)}}function Be(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",27)(2,"div",28)(3,"div",29),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",30),e._uU(6," Descripci\xf3n "),e.qZA(),e.TgZ(7,"div",31)(8,"span"),e._uU(9,"Salario"),e.qZA()(),e.TgZ(10,"div",32)(11,"span"),e._uU(12,"Activo"),e.qZA()(),e.TgZ(13,"div",33),e._uU(14," Acciones "),e.qZA()(),e.YNc(15,Me,2,2,"ng-container",34),e.ALo(16,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","salary"),e.xp6(3),e.Q6J("mat-sort-header","active"),e.xp6(5),e.Q6J("ngIf",e.lcZ(16,4,t.charges$))}}function Pe(n,r){if(1&n&&(e.ynx(0),e.YNc(1,Be,17,6,"ng-container",17),e.BQk()),2&n){const t=r.ngIf;e.oxw();const o=e.MAs(31);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",o)}}const Oe=function(n){return{"pointer-events-none":n}},ze=function(){return[10,25,50,100]};function He(n,r){if(1&n&&e._UZ(0,"mat-paginator",45),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,Oe,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,ze))("showFirstLastButtons",!0)}}function $e(n,r){if(1&n&&(e.TgZ(0,"div",46),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado cargos!":"\xa1No se ha creado creado ning\xfan cargo a\xfan!","")}}const je=function(){return["Super Administrador"]};let Ge=(()=>{class n{constructor(t,o,i,s,l,u){this._changeDetectorRef=t,this._chargeService=o,this._dialog=i,this._fuseConfirmationService=s,this._snackBar=l,this.store=u,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new a.NI(null),this._unsubscribeAll=new T.x}ngOnInit(){this.charges$=this.store.select(ee),this.store.select(b.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select($.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,O.b)(300),(0,z.O)(null),(0,Q.w)(t=>null!==t?(this.isLoading=!0,this._chargeService.findAllCharges(this.currentMerchant.id,0,10,"name","desc",t)):(0,B.of)()),(0,h.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,P.T)(this._sort.sortChange,this._paginator.page).pipe((0,Q.w)(()=>(this.isLoading=!0,this._chargeService.findAllCharges(this.currentMerchant.id,this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,h.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateChargeStatus(t,o,i){this.isLoading=!0,this.selectedSlide=i,this._chargeService.updateChargeStatus({id:o.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createCharge(){this._openDialog(new be,"add")}editCharge(t){this._openDialog(t,"edit")}deleteCharge(t){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el cargo? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._chargeService.removeCharge(t,this.pagination.page,this.pagination.size,"active","desc").pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})}trackByFn(t,o){return o.id||t}_openDialog(t,o){this._dialog.open(Je,{data:{charge:t,dialogMode:o},disableClose:!0,panelClass:"ath-dialog-panel"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(N.Z),e.Y36(v.uw),e.Y36(k.R),e.Y36(F.ux),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["charges"]],viewQuery:function(t,o){if(1&t&&(e.Gf(U.NW,5),e.Gf(C.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._paginator=i.first),e.iGM(i=e.CRH())&&(o._sort=i.first)}},decls:32,vars:11,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[4,"ngIf","ngIfElse"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons",4,"ngIf"],["noCharges",""],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","charges-table"],[3,"mat-sort-header"],[1,""],[1,"flex","justify-end",3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","charges-table"],[1,"truncate"],[1,"mr-4","text-right"],[1,"flex","justify-center","mr-4","text-center"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],[3,"diameter","color"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Cargos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Listado de Cargos "),e.qZA()()(),e.YNc(24,Ne,8,5,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,Pe,2,2,"ng-container",17),e.ALo(28,"async"),e.YNc(29,He,1,9,"mat-paginator",18),e.YNc(30,$e,2,1,"ng-template",null,19,e.W1O),e.qZA()()()),2&t){const i=e.MAs(31);e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(10,je)),e.xp6(3),e.Q6J("ngIf",e.lcZ(28,8,o.charges$))("ngIfElse",i),e.xp6(2),e.Q6J("ngIf",o.pagination.length>0)}},dependencies:[x.yS,p.mk,p.sg,p.O5,a.Fj,a.JJ,a.oH,S.PQ,D.lW,q.Hw,d.KE,d.qo,E.Nt,U.NW,j.Ou,w.Rr,C.YE,C.nU,G.gE,p.Ov,p.H9],encapsulation:2,data:{animation:H.L},changeDetection:0}),n})();const ne=n=>n.departments,oe=((0,_.P1)(ne,n=>n.department),(0,_.P1)(ne,n=>n.departments));var Z=c(18505),A=c(15450),re=c(75714),I=c(33921);const Ke=I.Ps`
    mutation CreateDepartment($createDepartmentInput: CreateDepartmentInput!) {
        createDepartment(createDepartmentInput: $createDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId
                name,
                description,
                active
            }
        }
    }
`,Ve=I.Ps`
    query FindAllDepartments($merchantId: String!, $page: Int, $size: Int! $sort: String, $order: Order, $search: String ) {
        findAllDepartments(merchantId: $merchantId, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,We=I.Ps`
    query FindAllActiveDepartments($merchantId: String!) {
        findAllActiveDepartments(merchantId: $merchantId) {
            id,
            name
        }
    }
`,Xe=I.Ps`
    query FindDepartmentById($departmentId: String!) {
        findDepartmentById(id: $departmentId ) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,et=I.Ps`
    mutation UpdateDepartment($updateDepartmentInput: UpdateDepartmentInput!) {
        updateDepartment(updateDepartmentInput: $updateDepartmentInput) {
            ok,
            message,

            department {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`,tt=I.Ps`
    mutation UpdateDepartmentStatus($updateEntityStatusInput: UpdateEntityStatusInput!) {
        updateDepartmentStatus(updateEntityStatusInput: $updateEntityStatusInput) {
            ok,
            message
        }
    }
`,nt=I.Ps`
    mutation RemoveDepartment($departmentId: String!) {
        removeDepartment(id: $departmentId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            departments {
                id,
                merchantId,
                name,
                description,
                active
            }
        }
    }
`;let Y=(()=>{class n{constructor(t,o){this.apolloProvider=t,this.store=o,this._apollo=this.apolloProvider.use("BALANC")}createDepartment(t){return this._apollo.mutate({mutation:Ke,variables:{createDepartmentInput:t},errorPolicy:"all"}).pipe((0,h.U)(({data:o})=>o?o.createDepartment:null),(0,Z.b)(o=>{o&&(this.store.dispatch((0,A.v$)({department:o.department})),this.store.dispatch((0,A.fH)({department:o.department})))}))}findAllDepartments(t,o=0,i=10,s="name",l="desc",u=null){return this._apollo.query({query:Ve,variables:{merchantId:t,page:o,size:i,sort:s,order:l,search:u},errorPolicy:"all"}).pipe((0,h.U)(({data:g})=>g?g.findAllDepartments:null),(0,Z.b)(g=>{g&&(this.store.dispatch((0,A.xt)({departments:g.departments})),this.store.dispatch((0,re.Jr)({pagination:g.pagination})))}))}findAllActiveDepartments(t){return this._apollo.query({query:We,variables:{merchantId:t},errorPolicy:"all"}).pipe((0,h.U)(({data:o})=>o?o.findAllActiveDepartments:null),(0,Z.b)(o=>{o&&this.store.dispatch((0,A.xt)({departments:o}))}))}findDepartmentById(t){return this._apollo.query({query:Xe,variables:{departmentId:t},errorPolicy:"all"}).pipe((0,h.U)(({data:o})=>o?o.findDepartmentById:null),(0,Z.b)(o=>{o&&this.store.dispatch((0,A.fH)({department:o.department}))}))}updateDepartment(t){return this._apollo.mutate({mutation:et,variables:{updateDepartmentInput:t},errorPolicy:"all"}).pipe((0,h.U)(({data:o})=>o?o.updateDepartment:null),(0,Z.b)(o=>{o&&(this.store.dispatch((0,A.j4)({department:o.department})),this.store.dispatch((0,A.fH)({department:o.department})))}))}updateDepartmentStatus(t){return this._apollo.mutate({mutation:tt,variables:{updateEntityStatusInput:t},errorPolicy:"all"}).pipe((0,h.U)(({data:o})=>o?o.updateDepartmentStatus:null),(0,Z.b)(o=>{o&&this.store.dispatch((0,A.nt)(t))}))}removeDepartment(t,o=0,i=10,s="name",l="desc",u=null){return this._apollo.mutate({mutation:nt,variables:{departmentId:t,page:o,size:i,sort:s,order:l,search:u},errorPolicy:"all"}).pipe((0,h.U)(({data:g})=>g?g.removeDepartment:null),(0,Z.b)(g=>{g&&(this.store.dispatch((0,A.$m)({id:t})),this.store.dispatch((0,re.Jr)({pagination:g.pagination})))}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(I._M),e.LFG(_.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function ot(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Agregar departamento"),e.qZA())}function rt(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Editar departamento "),e.qZA())}function it(n,r){1&n&&(e.TgZ(0,"h2",7),e._uU(1,"Detalles del departamento"),e.qZA())}function at(n,r){if(1&n&&(e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"div",11),e.ynx(4),e.TgZ(5,"div",12)(6,"mat-label",13),e._uU(7,"Nombre"),e.qZA(),e.TgZ(8,"div",14),e._uU(9),e.qZA()(),e.BQk(),e.ynx(10),e.TgZ(11,"div",12)(12,"mat-label",13),e._uU(13,"Nombre"),e.qZA(),e.TgZ(14,"div",14),e._uU(15),e.qZA()(),e.BQk(),e.qZA()()()()),2&n){const t=e.oxw();e.xp6(9),e.Oqu(t.data.department.name),e.xp6(6),e.Oqu(t.data.department.description)}}function st(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento es obligatorio. "),e.qZA())}function lt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del departamento debe contener entre 3 y 255 caracteres. "),e.qZA())}function ct(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La descripci\xf3n del cargo debe contener al menos 5 caracteres. "),e.qZA())}function mt(n,r){if(1&n&&(e.TgZ(0,"div",15)(1,"div",9)(2,"form",16)(3,"div",17)(4,"mat-form-field",18)(5,"mat-label"),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",19),e.YNc(8,st,2,0,"mat-error",6),e.YNc(9,lt,2,0,"mat-error",6),e.qZA()(),e.TgZ(10,"div",20)(11,"mat-form-field",21)(12,"mat-label"),e._uU(13,"Descripci\xf3n del Departamento"),e.qZA(),e._UZ(14,"mat-icon",22)(15,"textarea",23),e.YNc(16,ct,2,0,"mat-error",6),e.TgZ(17,"mat-hint",24),e._uU(18),e.qZA()()(),e.TgZ(19,"div",25)(20,"span",26),e._uU(21,"Estado"),e.qZA(),e.TgZ(22,"mat-slide-toggle",27),e._uU(23),e.qZA()()()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("formGroup",t.departmentForm)("autocomplete","off"),e.xp6(5),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del departamento"),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("name").hasError("maxlength")||t.departmentForm.get("name").hasError("minlength")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:menu-alt-2"),e.xp6(1),e.Q6J("formControlName","description")("rows",3)("spellcheck",!1)("minlength",5)("maxlength",1e3),e.xp6(1),e.Q6J("ngIf",t.departmentForm.get("description").hasError("minlength")),e.xp6(2),e.hij("",(null==t.departmentForm.get("description").value?null:t.departmentForm.get("description").value.length)||0,"/1000"),e.xp6(4),e.Q6J("formControlName","active")("color","primary"),e.xp6(1),e.hij(" ",!0===t.departmentForm.get("active").value?"Activo":"Inactivo"," ")}}const ie=function(n){return{"cursor-not-allowed":n}};function pt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.updateDepartment())}),e._uU(2," Actualizar "),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(3,ie,t.departmentForm.invalid))}}function dt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"button",30),e.NdJ("click",function(){e.CHM(t);const i=e.oxw(2);return e.KtG(i.createDepartment())}),e._uU(2," Agregar "),e.qZA(),e.BQk()}if(2&n){const t=e.oxw(2);e.xp6(1),e.Q6J("color","primary")("disabled",t.departmentForm.invalid)("ngClass",e.VKq(3,ie,t.departmentForm.invalid))}}function gt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",28),e.ynx(2),e.TgZ(3,"button",29),e._uU(4," Cancelar "),e.qZA(),e.BQk(),e.YNc(5,pt,3,5,"ng-container",6),e.YNc(6,dt,3,5,"ng-container",6),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(3),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("ngIf","edit"===t.dialogMode),e.xp6(1),e.Q6J("ngIf","add"===t.dialogMode)}}let ut=(()=>{class n{constructor(t,o,i,s,l,u,g){this.data=t,this._dialogRef=o,this._formBuilder=i,this._fuseConfirmationService=s,this._departmentsService=l,this._snackBar=u,this.store=g,this.dialogMode="view",this._unsubscribeAll=new T.x,this.dialogMode=t.dialogMode}ngOnInit(){this.store.select(b.Qs).pipe((0,m.R)(this._unsubscribeAll)).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.departmentForm=this._formBuilder.group({id:[""],active:[!0],merchantId:[this.currentMerchant.id,[a.kI.required]],name:["",[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)]],description:["",[a.kI.minLength(5),a.kI.maxLength(1e3)]]}),"edit"===this.dialogMode&&this.departmentForm.patchValue(this.data.department)}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createDepartment(){const t=this.departmentForm.getRawValue();delete t.id,this._fuseConfirmationService.open({title:"Crear Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._departmentsService.createDepartment(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}updateDepartment(){const t=this.departmentForm.getRawValue();this._fuseConfirmationService.open({title:"Actualizar Departamento",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._departmentsService.updateDepartment(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this.closeDialog())})})}trackByFn(t,o){return o.id||t}closeDialog(){this._dialogRef.close()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.WI),e.Y36(v.so),e.Y36(a.qu),e.Y36(k.R),e.Y36(Y),e.Y36(F.ux),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["department-detail"]],decls:12,vars:6,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],["class","text-2xl text-gray-400",4,"ngIf"],[1,"flex","flex-col","items-center","flex-auto","w-full","px-8","pb-6","sm:flex-row","sm:items-start","sm:pb-8"],["class","flex-auto",4,"ngIf"],["class","w-full overflow-hidden",4,"ngIf"],[4,"ngIf"],[1,"text-2xl","text-gray-400"],[1,"flex-auto"],[1,"flex"],[1,"flex","flex-col","w-full","pt-4","mt-4","border-t"],[1,"flex","flex-col","p-8","pb-0","sm:flex-row"],[1,"flex","sm:items-center"],[1,"font-semibold","min-w-56"],[1,"leading-6"],[1,"w-full","overflow-hidden"],[1,"flex","flex-col","w-full","pt-1","mt-4","border-t",3,"formGroup","autocomplete"],[1,"pt-5","sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[1,"pt-4","sm:col-span-2"],[1,"flex-auto","w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","spellcheck","minlength","maxlength"],[1,"text-right"],[1,"flex","flex-col","sm:col-span-2"],[1,"font-medium"],[1,"mt-1","sm:mt-3",3,"formControlName","color"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass","click"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0),e.ynx(1),e.TgZ(2,"div",1),e.YNc(3,ot,2,0,"h2",2),e.YNc(4,rt,2,0,"h2",2),e.YNc(5,it,2,0,"h2",2),e.qZA(),e.BQk(),e.TgZ(6,"div",3),e.ynx(7),e.YNc(8,at,16,2,"div",4),e.BQk(),e.ynx(9),e.YNc(10,mt,24,20,"div",5),e.BQk(),e.qZA(),e.YNc(11,gt,7,3,"ng-container",6),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf","add"===o.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.department.id&&"edit"===o.dialogMode),e.xp6(1),e.Q6J("ngIf",o.data.department.id&&"view"===o.dialogMode),e.xp6(3),e.Q6J("ngIf","view"===o.dialogMode),e.xp6(2),e.Q6J("ngIf","edit"===o.dialogMode||"add"),e.xp6(1),e.Q6J("ngIf","view"!==o.dialogMode))},dependencies:[p.mk,p.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.sg,a.u,D.lW,v.ZT,q.Hw,d.TO,d.KE,d.bx,d.hX,d.qo,E.Nt,w.Rr],encapsulation:2,changeDetection:0}),n})();class _t{}function ht(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"mat-form-field",21),e._UZ(2,"mat-icon",22)(3,"input",23),e.qZA(),e.TgZ(4,"button",24),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createDepartment())}),e._UZ(5,"mat-icon",25),e.TgZ(6,"span",26),e._uU(7,"Nuevo"),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar departamentos"),e.xp6(2),e.Q6J("svgIcon","heroicons_outline:plus")}}function ft(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-slide-toggle",41),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw(),l=s.$implicit,u=s.index,g=e.oxw(4);return e.KtG(g.updateDepartmentStatus(i,l,u))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked",t.active)("color","primary")}}function xt(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-spinner",42),e.BQk()),2&n&&(e.xp6(1),e.Q6J("diameter",20)("color","primary"))}function vt(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",35)(2,"div",36),e._uU(3),e.qZA(),e.TgZ(4,"div",36),e._uU(5),e.qZA(),e.TgZ(6,"div",37),e.YNc(7,ft,2,2,"ng-container",17),e.YNc(8,xt,2,2,"ng-container",17),e.qZA(),e.TgZ(9,"div",38)(10,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.editDepartment(s))}),e._UZ(11,"mat-icon",40),e.qZA(),e.TgZ(12,"button",39),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteDepartment(s))}),e._UZ(13,"mat-icon",40),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit,o=r.index,i=e.oxw(4);e.xp6(3),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.description," "),e.xp6(2),e.Q6J("ngIf",!(i.isLoading&&i.selectedSlide===o)),e.xp6(1),e.Q6J("ngIf",i.isLoading&&i.selectedSlide===o),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function yt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,vt,14,6,"ng-container",34),e.BQk()),2&n){const t=r.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",o.trackByFn)}}function bt(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"div",30),e._uU(4," Nombre "),e.qZA(),e.TgZ(5,"div",31),e._uU(6," Descripci\xf3n "),e.qZA(),e.TgZ(7,"div",32)(8,"span"),e._uU(9,"Activo"),e.qZA()(),e.TgZ(10,"div",33),e._uU(11," Acciones "),e.qZA()(),e.YNc(12,yt,2,2,"ng-container",17),e.ALo(13,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(3),e.Q6J("mat-sort-header","name"),e.xp6(4),e.Q6J("mat-sort-header","active"),e.xp6(5),e.Q6J("ngIf",e.lcZ(13,3,t.departments$))}}function Zt(n,r){if(1&n&&(e.ynx(0),e.YNc(1,bt,14,5,"ng-container",27),e.BQk()),2&n){const t=r.ngIf;e.oxw();const o=e.MAs(31);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",o)}}const Ct=function(n){return{"pointer-events-none":n}},At=function(){return[10,25,50,100]};function Tt(n,r){if(1&n&&e._UZ(0,"mat-paginator",43),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,Ct,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,At))("showFirstLastButtons",!0)}}function It(n,r){if(1&n&&(e.TgZ(0,"div",45),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado departamentos!":"\xa1No se ha creado ning\xfan departamento a\xfan!","")}}const ae=function(){return["Super Administrador"]};function kt(n,r){1&n&&e.YNc(0,It,2,1,"div",44),2&n&&e.Q6J("ngxPermissionsExcept",e.DdM(1,ae))}let Ft=(()=>{class n{constructor(t,o,i,s,l,u){this._changeDetectorRef=t,this._fuseConfirmationService=o,this._departmentService=i,this._snackBar=s,this.dialog=l,this.store=u,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new a.NI(null),this._unsubscribeAll=new T.x}ngOnInit(){this.departments$=this.store.select(oe),this.store.select(b.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select($.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,O.b)(300),(0,z.O)(null),(0,Q.w)(t=>null!==t?(this.isLoading=!0,this._departmentService.findAllDepartments(this.currentMerchant.id,0,10,"name","desc",t)):(0,B.of)()),(0,h.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,P.T)(this._sort.sortChange,this._paginator.page).pipe((0,Q.w)(()=>(this.isLoading=!0,this._departmentService.findAllDepartments(this.currentMerchant.id,this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction))),(0,h.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateDepartmentStatus(t,o,i){this.isLoading=!0,this.selectedSlide=i,this._departmentService.updateDepartmentStatus({id:o.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}createDepartment(){this._openDialog(new _t,"add")}editDepartment(t){this._openDialog(t,"edit")}deleteDepartment(t){this._fuseConfirmationService.open({title:"Eliminar Usuario",message:`\xbfEst\xe1 seguro que desea eliminar el departamento ${t.name}? Perder\xe1 el acceso a todos los datos asociados al mismo.`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._departmentService.removeDepartment(t.id,this.pagination.page,this.pagination.size,"active","desc").subscribe(s=>{this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck()})}),this._changeDetectorRef.markForCheck()}trackByFn(t,o){return o.id||t}_openDialog(t,o){this.dialog.open(ut,{data:{department:t,dialogMode:o},disableClose:!0,panelClass:"ath-dialog-panel"})}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(k.R),e.Y36(Y),e.Y36(F.ux),e.Y36(v.uw),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["departments"]],viewQuery:function(t,o){if(1&t&&(e.Gf(U.NW,5),e.Gf(C.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._paginator=i.first),e.iGM(i=e.CRH())&&(o._sort=i.first)}},decls:32,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[4,"ngIf"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons",4,"ngIf"],["noDepartments",""],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"click"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","departments-table","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5"],[3,"mat-sort-header"],[1,""],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","departments-table","md:px-8"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],[3,"checked","color","change"],[3,"diameter","color"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16 ",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Departamentos"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Departamentos "),e.qZA()()(),e.YNc(24,ht,8,5,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,Zt,2,2,"ng-container",17),e.ALo(28,"async"),e.YNc(29,Tt,1,9,"mat-paginator",18),e.YNc(30,kt,1,2,"ng-template",null,19,e.W1O),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,ae)),e.xp6(3),e.Q6J("ngIf",e.lcZ(28,7,o.departments$)),e.xp6(2),e.Q6J("ngIf",o.pagination.length>0))},dependencies:[x.yS,p.mk,p.sg,p.O5,a.Fj,a.JJ,a.oH,S.PQ,D.lW,q.Hw,d.KE,d.qo,E.Nt,U.NW,j.Ou,w.Rr,C.YE,C.nU,G.gE,p.Ov],encapsulation:2,data:{animation:H.L},changeDetection:0}),n})();var se=c(8035),J=c(17489),Dt=c(71329),qt=c(23166),Et=c(77446);function Ut(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El correo electr\xf3nico es obligatorio. "),e.qZA())}function Qt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El correo no posee un formato v\xe1lido. "),e.qZA())}function wt(n,r){1&n&&e._UZ(0,"mat-icon",23),2&n&&e.Q6J("svgIcon","mat_solid:visibility")}function Jt(n,r){1&n&&e._UZ(0,"mat-icon",23),2&n&&e.Q6J("svgIcon","mat_solid:visibility-off")}function Nt(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La contrase\xf1a es obligatoria. "),e.qZA())}function St(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1,' La contrase\xf1a deber\xe1 tener entre 8 y 100 caracteres e incluir may\xfasculas, min\xfasculas n\xfameros y s\xedmbolos como: ! " ? $ % ^ &. '),e.qZA())}function Yt(n,r){1&n&&e._UZ(0,"mat-icon",23),2&n&&e.Q6J("svgIcon","mat_solid:visibility")}function Lt(n,r){1&n&&e._UZ(0,"mat-icon",23),2&n&&e.Q6J("svgIcon","mat_solid:visibility-off")}function Rt(n,r){1&n&&(e.TgZ(0,"mat-error",24),e._uU(1," La contrase\xf1a es obligatoria "),e.qZA())}function Mt(n,r){if(1&n&&(e.TgZ(0,"mat-error"),e._uU(1),e.qZA()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.employeeUserForm.get("pwd2").getError("mustMatch")," ")}}function Bt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",29),e.NdJ("click",function(){e.CHM(t);const i=e.oxw().$implicit,s=e.oxw();return e.KtG(s.markRole(i.id,!i.checked))}),e.TgZ(1,"div",30),e._uU(2),e.qZA()()}if(2&n){const t=e.oxw().$implicit;e.xp6(2),e.hij(" ",t.description," ")}}function Pt(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"mat-checkbox",26),e.NdJ("change",function(i){const l=e.CHM(t).$implicit,u=e.oxw();return e.KtG(u.markRole(l.id,i.checked))}),e.TgZ(2,"span",27),e._uU(3),e.qZA()(),e.YNc(4,Bt,3,1,"div",28),e.qZA()}if(2&n){const t=r.$implicit;e.xp6(1),e.Q6J("color","primary")("color","primary")("checked",t.checked),e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",t.description)}}const Ot=function(n){return{"cursor-not-allowed":n}};let zt=(()=>{class n{constructor(t){this.data=t,this.roles=[],this._changeDetectorRef=(0,e.f3M)(e.sBO),this._dialogRef=(0,e.f3M)(v.so),this._formBuilder=(0,e.f3M)(a.qu),this._fuseConfirmationService=(0,e.f3M)(k.R),this._snackBar=(0,e.f3M)(F.ux),this._unsubscribeAll=new T.x,this._userService=(0,e.f3M)(Dt.K),this._rolesService=(0,e.f3M)(qt.N),this.store=(0,e.f3M)(_.yh)}ngOnInit(){this._rolesService.findAllActiveRoles().pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.roles=(0,J.cloneDeep)(t),this._changeDetectorRef.markForCheck()}),this.employeeUserForm=this._formBuilder.group({employeeId:[this.data.employee.id,[a.kI.required]],email:[null,[a.kI.email,a.kI.required]],pwd:["",[a.kI.minLength(8),a.kI.maxLength(100),y.L.strongPasWordPattern()]],pwd2:[""],roleId:[null,[a.kI.required]]},{validators:y.L.mustMatch("pwd","pwd2")})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}createUser(){const t=this.employeeUserForm.getRawValue();delete t.pwd2,this._fuseConfirmationService.open({title:"Crear usuario",message:"\xbfEst\xe1 seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._userService.createUserFromEmployee(t).subscribe(({data:s})=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.createUserFromEmployee.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"mat_solid:done"}}),this._dialogRef.close())})}),this._changeDetectorRef.markForCheck()}markRole(t,o){for(const i of this.roles)i.id===t&&o?(i.checked=!0,this.employeeUserForm.get("roleId").setValue(i.id)):i.checked=!1;this.roles.some(i=>i.checked)||this.employeeUserForm.get("roleId").setValue(null),this._changeDetectorRef.markForCheck()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(v.WI))},n.\u0275cmp=e.Xpm({type:n,selectors:[["hrm-employee-user-dialog"]],decls:42,vars:26,consts:[[1,"relative","flex","flex-col","w-full","h-full"],[1,"flex","flex-col","items-center","px-8","pt-4","space-y-1","text-center","sm:items-start","sm:mt-0","sm:pr-8","sm:text-left"],[1,"text-2xl","text-gray-400"],[1,"w-full","px-8","pb-6","overflow-hidden","sm:flex-row","sm:items-start","sm:pb-8"],[1,"grid","w-full","grid-cols-1","sm:grid-cols-2","gap-3","pt-6","mt-3","border-t","overflow-auto",3,"formGroup","autocomplete"],[1,"w-full","sm:col-span-2"],["matInput","","required","",3,"type","formControlName","placeholder"],[4,"ngIf"],[1,"w-full","col-span-1"],["type","password","placeholder","Contrase\xf1a","matInput","","required","",3,"formControlName","minlength","maxlength"],["passwordField1",""],["mat-icon-button","","type","button","matSuffix","",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],["type","password","placeholder","Repita la contrase\xf1a","matInput","","required","",3,"formControlName"],["passwordField2",""],["class","pb-5",4,"ngIf"],[1,"col-span-1","sm:col-span-2","h-50"],[1,"font-semibold"],[1,"grid","grid-cols-2","w-full","gap-4","mt-3","overflow-auto"],["class","relative  p-3 overflow-hidden border border-dashed rounded-sm cursor-pointer  border-primary-700 max-h-30 ",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-center","px-6","py-4","space-x-3","sm:justify-end","bg-gray-50","dark:bg-black","dark:bg-opacity-10"],["mat-stroked-button","",3,"matDialogClose"],["mat-flat-button","",3,"color","disabled","ngClass","click"],[1,"icon-size-5",3,"svgIcon"],[1,"pb-5"],[1,"relative","p-3","overflow-hidden","border","border-dashed","rounded-sm","cursor-pointer","border-primary-700","max-h-30"],[1,"absolute","top-2.5","left-3",3,"color","checked","change"],[1,"font-medium","truncate"],["class","h-full mt-8",3,"click",4,"ngIf"],[1,"h-full","mt-8",3,"click"],[1,"whitespace-pre-line","text-md","text-hint","line-clamp-3"]],template:function(t,o){if(1&t){const i=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"h2",2),e._uU(3,"Crear Usuario"),e.qZA()(),e.TgZ(4,"div",3)(5,"form",4)(6,"mat-form-field",5)(7,"mat-label"),e._uU(8,"Correo electr\xf3nico"),e.qZA(),e._UZ(9,"input",6),e.YNc(10,Ut,2,0,"mat-error",7),e.YNc(11,Qt,2,0,"mat-error",7),e.qZA(),e.TgZ(12,"mat-form-field",8)(13,"mat-label"),e._uU(14,"Contrase\xf1a"),e.qZA(),e._UZ(15,"input",9,10),e.TgZ(17,"button",11),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(16);return e.KtG(l.type="password"===l.type?"text":"password")}),e.YNc(18,wt,1,1,"mat-icon",12),e.YNc(19,Jt,1,1,"mat-icon",12),e.qZA(),e.YNc(20,Nt,2,0,"mat-error",7),e.YNc(21,St,2,0,"mat-error",7),e.qZA(),e.TgZ(22,"mat-form-field",8)(23,"mat-label"),e._uU(24,"Confirmar contrase\xf1a"),e.qZA(),e._UZ(25,"input",13,14),e.TgZ(27,"button",11),e.NdJ("click",function(){e.CHM(i);const l=e.MAs(26);return e.KtG(l.type="password"===l.type?"text":"password")}),e.YNc(28,Yt,1,1,"mat-icon",12),e.YNc(29,Lt,1,1,"mat-icon",12),e.qZA(),e.YNc(30,Rt,2,0,"mat-error",15),e.YNc(31,Mt,2,1,"mat-error",7),e.qZA(),e.TgZ(32,"div",16)(33,"span",17),e._uU(34,"Roles"),e.qZA(),e.TgZ(35,"div",18),e.YNc(36,Pt,5,5,"div",19),e.qZA()()()(),e.TgZ(37,"div",20)(38,"button",21),e._uU(39," Cancelar "),e.qZA(),e.TgZ(40,"button",22),e.NdJ("click",function(){return o.createUser()}),e._uU(41," Aceptar "),e.qZA()()()}if(2&t){const i=e.MAs(16),s=e.MAs(26);e.xp6(5),e.Q6J("formGroup",o.employeeUserForm)("autocomplete","off"),e.xp6(4),e.Q6J("type","email")("formControlName","email")("placeholder","Correo electr\xf3nico"),e.xp6(1),e.Q6J("ngIf",o.employeeUserForm.get("email").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeUserForm.get("email").hasError("email")),e.xp6(4),e.Q6J("formControlName","pwd")("minlength",8)("maxlength",100),e.xp6(3),e.Q6J("ngIf","password"===i.type),e.xp6(1),e.Q6J("ngIf","text"===i.type),e.xp6(1),e.Q6J("ngIf",o.employeeUserForm.get("pwd").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeUserForm.get("pwd").hasError("pattern")||o.employeeUserForm.get("pwd").hasError("minlength")),e.xp6(4),e.Q6J("formControlName","pwd2"),e.xp6(3),e.Q6J("ngIf","password"===s.type),e.xp6(1),e.Q6J("ngIf","text"===s.type),e.xp6(1),e.Q6J("ngIf",o.employeeUserForm.get("pwd2").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeUserForm.get("pwd2").hasError("mustMatch")),e.xp6(5),e.Q6J("ngForOf",o.roles),e.xp6(2),e.Q6J("matDialogClose","cancelled"),e.xp6(2),e.Q6J("color","primary")("disabled",o.employeeUserForm.invalid)("ngClass",e.VKq(24,Ot,o.employeeUserForm.invalid))}},dependencies:[p.mk,p.sg,p.O5,a._Y,a.Fj,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.sg,a.u,D.lW,Et.oG,v.ZT,q.Hw,d.TO,d.KE,d.hX,d.R9,E.Nt],encapsulation:2}),n})();var le=c(91172),ce=c(87238);const Ht=function(){return["new"]};function $t(n,r){if(1&n&&(e.TgZ(0,"div",20)(1,"mat-form-field",21),e._UZ(2,"mat-icon",22)(3,"input",23),e.qZA(),e.TgZ(4,"button",24),e._UZ(5,"mat-icon",25),e.TgZ(6,"span",26),e._uU(7,"Nuevo"),e.qZA()()()),2&n){const t=e.oxw();e.xp6(2),e.Q6J("svgIcon","heroicons_solid:search"),e.xp6(1),e.Q6J("formControl",t.searchInputControl)("autocomplete","off")("placeholder","Buscar empleados"),e.xp6(1),e.Q6J("routerLink",e.DdM(6,Ht)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:plus")}}function jt(n,r){if(1&n&&e._UZ(0,"img",50),2&n){const t=e.oxw().$implicit;e.Q6J("alt","Foto")("src",t.imageUrl,e.LSH)}}function Gt(n,r){1&n&&(e.TgZ(0,"div",51),e._uU(1," SIN FOTO "),e.qZA())}function Kt(n,r){if(1&n&&(e.TgZ(0,"div",52),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.department.name," ")}}function Vt(n,r){1&n&&(e.TgZ(0,"div",53),e._uU(1," No tiene asignado "),e.qZA())}function Wt(n,r){if(1&n&&(e.TgZ(0,"div",36),e._uU(1),e.qZA()),2&n){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.charge.name," ")}}function Xt(n,r){1&n&&(e.TgZ(0,"div",53),e._uU(1," No tiene asignado "),e.qZA())}function en(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-slide-toggle",54),e.NdJ("change",function(i){e.CHM(t);const s=e.oxw(),l=s.$implicit,u=s.index,g=e.oxw(4);return e.KtG(g.updateEmployeeStatus(i,l,u))}),e.qZA(),e.BQk()}if(2&n){const t=e.oxw().$implicit;e.xp6(1),e.Q6J("checked",t.active)("color","primary")}}function tn(n,r){1&n&&(e.ynx(0),e._UZ(1,"mat-spinner",55),e.BQk()),2&n&&(e.xp6(1),e.Q6J("diameter",20)("color","primary"))}const nn=function(n){return[n]};function on(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",35)(2,"div",36)(3,"div",37),e.YNc(4,jt,1,2,"img",38),e.YNc(5,Gt,2,0,"div",39),e.qZA()(),e.TgZ(6,"div",40),e._uU(7),e.qZA(),e.TgZ(8,"div",40),e._uU(9),e.qZA(),e.YNc(10,Kt,2,1,"div",41),e.YNc(11,Vt,2,0,"div",42),e.YNc(12,Wt,2,1,"div",43),e.YNc(13,Xt,2,0,"div",42),e.TgZ(14,"div",44),e.YNc(15,en,2,2,"ng-container",17),e.YNc(16,tn,2,2,"ng-container",17),e.qZA(),e.TgZ(17,"div",45)(18,"button",46),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.createUser(s))}),e._UZ(19,"mat-icon",47),e.qZA(),e.TgZ(20,"button",48),e._UZ(21,"mat-icon",47),e.qZA(),e.TgZ(22,"button",49),e.NdJ("click",function(){const s=e.CHM(t).$implicit,l=e.oxw(4);return e.KtG(l.deleteEmployee(s.id))}),e._UZ(23,"mat-icon",47),e.qZA()()(),e.BQk()}if(2&n){const t=r.$implicit,o=r.index,i=e.oxw(4);e.xp6(4),e.Q6J("ngIf",t.imageUrl),e.xp6(1),e.Q6J("ngIf",!t.imageUrl),e.xp6(2),e.hij(" ",t.code," "),e.xp6(2),e.lnq(" ",t.name," ",t.lastname1," ",t.lastname2?t.lastname2:""," "),e.xp6(1),e.Q6J("ngIf",t.department),e.xp6(1),e.Q6J("ngIf",!t.department),e.xp6(1),e.Q6J("ngIf",t.charge),e.xp6(1),e.Q6J("ngIf",!t.charge),e.xp6(2),e.Q6J("ngIf",!(i.isLoading&&i.selectedSlide===o)),e.xp6(1),e.Q6J("ngIf",i.isLoading&&i.selectedSlide===o),e.xp6(3),e.Q6J("svgIcon","mat_solid:person_add"),e.xp6(1),e.Q6J("routerLink",e.VKq(16,nn,t.id)),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:pencil"),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function rn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,on,24,18,"ng-container",34),e.BQk()),2&n){const t=r.ngIf,o=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",t)("ngForTrackBy",o.trackByFn)}}function an(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"div",28)(2,"div",29)(3,"div",30),e._uU(4," Foto "),e.qZA(),e.TgZ(5,"div",31),e._uU(6," C\xf3digo "),e.qZA(),e.TgZ(7,"div",31)(8,"span"),e._uU(9," Nombre y Apellidos "),e.qZA()(),e.TgZ(10,"div"),e._uU(11," Departamento "),e.qZA(),e.TgZ(12,"div"),e._uU(13," Cargo "),e.qZA(),e.TgZ(14,"div",32)(15,"span"),e._uU(16,"Activo"),e.qZA()(),e.TgZ(17,"div",33),e._uU(18," Acciones "),e.qZA()(),e.YNc(19,rn,2,2,"ng-container",17),e.ALo(20,"async"),e.qZA(),e.BQk()),2&n){const t=e.oxw(2);e.xp6(5),e.Q6J("mat-sort-header","code"),e.xp6(2),e.Q6J("mat-sort-header","name"),e.xp6(7),e.Q6J("mat-sort-header","active"),e.xp6(5),e.Q6J("ngIf",e.lcZ(20,4,t.employees$))}}function sn(n,r){if(1&n&&(e.ynx(0),e.YNc(1,an,21,6,"ng-container",27),e.BQk()),2&n){const t=r.ngIf;e.oxw();const o=e.MAs(31);e.xp6(1),e.Q6J("ngIf",t.length>0)("ngIfElse",o)}}const ln=function(n){return{"pointer-events-none":n}},cn=function(){return[10,25,50,100]};function mn(n,r){if(1&n&&e._UZ(0,"mat-paginator",56),2&n){const t=e.oxw();e.Q6J("ngClass",e.VKq(6,ln,t.isLoading))("length",t.pagination.length)("pageIndex",t.pagination.page)("pageSize",t.pagination.size)("pageSizeOptions",e.DdM(8,cn))("showFirstLastButtons",!0)}}function pn(n,r){if(1&n&&(e.TgZ(0,"div",58),e._uU(1),e.qZA()),2&n){const t=e.oxw(2);e.xp6(1),e.hij(" ",t.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!","")}}const me=function(){return["Super Administrador"]};function dn(n,r){1&n&&e.YNc(0,pn,2,1,"div",57),2&n&&e.Q6J("ngxPermissionsExcept",e.DdM(1,me))}let gn=(()=>{class n{constructor(t,o,i,s,l,u){this._changeDetectorRef=t,this._employeeService=o,this._fuseConfirmationService=i,this._snackBar=s,this._dialog=l,this.store=u,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new a.NI(null),this._unsubscribeAll=new T.x}ngOnInit(){this.employees$=this.store.select(se.ri),this.store.select(b.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.currentMerchant=t}),this.store.select($.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(t=>{this.pagination=t,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,O.b)(300),(0,z.O)(null),(0,Q.w)(t=>null!==t?(this.isLoading=!0,this._employeeService.findAllEmployees(this.currentMerchant.id,0,10,"name","desc",t)):(0,B.of)()),(0,h.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"asc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,P.T)(this._sort.sortChange,this._paginator.page).pipe((0,Q.w)(()=>(this.isLoading=!0,this._employeeService.findAllEmployees(this.currentMerchant.id,this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,h.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateEmployeeStatus(t,o,i){this.isLoading=!0,this.selectedSlide=i,this._employeeService.updateEmployeeStatus({id:o.id,active:t.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteEmployee(t){this._fuseConfirmationService.open({title:"Eliminar Empleado",message:"\xbfEsta seguro que desea Eliminar el empleado? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(i=>{"confirmed"===i&&this._employeeService.removeEmployee(t,this.pagination.page,this.pagination.size,"name","desc").pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._changeDetectorRef.markForCheck())})})}createUser(t){this._dialog.open(zt,{data:{employee:t},disableClose:!0,panelClass:"ath-dialog-panel"})}trackByFn(t,o){return o.id||t}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(e.sBO),e.Y36(le.M),e.Y36(k.R),e.Y36(F.ux),e.Y36(v.uw),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["employees"]],viewQuery:function(t,o){if(1&t&&(e.Gf(U.NW,5),e.Gf(C.YE,5)),2&t){let i;e.iGM(i=e.CRH())&&(o._paginator=i.first),e.iGM(i=e.CRH())&&(o._sort=i.first)}},decls:32,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[4,"ngIf"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons",4,"ngIf"],["noEmployees",""],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","employees-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-10","text-right"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","employees-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"truncate"],["class","",4,"ngIf"],["class","text-red-700",4,"ngIf"],["class","items-center",4,"ngIf"],[1,"flex","justify-center","mr-4","text-center"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","","matTooltip","Crear Usuario",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[1,""],[1,"text-red-700"],[3,"checked","color","change"],[3,"diameter","color"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],["class","p-8 text-4xl font-semibold tracking-tight text-center border-t sm:p-16",4,"ngxPermissionsExcept"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()()(),e.TgZ(16,"div",9)(17,"a",10),e._UZ(18,"mat-icon",6),e.TgZ(19,"span",11),e._uU(20,"Regresar"),e.qZA()()()(),e.TgZ(21,"div",12)(22,"div",13),e._uU(23," Empleados "),e.qZA()()(),e.YNc(24,$t,8,7,"div",14),e.qZA(),e.TgZ(25,"div",15)(26,"div",16),e.YNc(27,sn,2,2,"ng-container",17),e.ALo(28,"async"),e.YNc(29,mn,1,9,"mat-paginator",18),e.YNc(30,dn,1,2,"ng-template",null,19,e.W1O),e.qZA()()()),2&t&&(e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(6),e.Q6J("ngxPermissionsExcept",e.DdM(9,me)),e.xp6(3),e.Q6J("ngIf",e.lcZ(28,7,o.employees$)),e.xp6(2),e.Q6J("ngIf",o.pagination.length>0))},dependencies:[x.rH,x.yS,p.mk,p.sg,p.O5,a.Fj,a.JJ,a.oH,S.PQ,D.lW,q.Hw,d.KE,d.qo,E.Nt,U.NW,j.Ou,w.Rr,C.YE,C.nU,ce.gM,G.gE,p.Ov],encapsulation:2,data:{animation:H.L},changeDetection:0}),n})();var un=c(99987),K=c(61135),hn=(c(92340),c(40520));let pe=(()=>{class n{constructor(t){this._httpClient=t,this._scholarship=new K.X(null),this._salaryFreqs=new K.X(null),this._salaryMethods=new K.X(null)}get _scholarship$(){return this._scholarship.asObservable()}get _salaryFreqs$(){return this._salaryFreqs.asObservable()}get _salaryMethods$(){return this._salaryMethods.asObservable()}getScholarship(){return this._httpClient.get("assets/data/scholarship.json").pipe((0,h.U)(t=>t.sort((o,i)=>o.toLowerCase()<i.toLowerCase()?-1:o.toLowerCase()>i.toLowerCase()?1:void 0)),(0,Z.b)(t=>{this._scholarship.next(t)}))}getSalaryFrequency(){return this._httpClient.get("assets/data/salary-freqs.json").pipe((0,h.U)(t=>t.sort((o,i)=>o.toLowerCase()<i.toLowerCase()?-1:o.toLowerCase()>i.toLowerCase()?1:void 0)),(0,Z.b)(t=>{this._salaryFreqs.next(t)}))}getSalaryMethods(){return this._httpClient.get("assets/data/salary-methods.json").pipe((0,h.U)(t=>t.sort((o,i)=>o.toLowerCase()<i.toLowerCase()?-1:o.toLowerCase()>i.toLowerCase()?1:void 0)),(0,Z.b)(t=>{this._salaryMethods.next(t)}))}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(hn.eN))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var de=c(81158),fn=c(97231),ge=c(90508),V=c(86856),L=c(80288),ue=c(74107),xn=c(76768);function vn(n,r){1&n&&(e.ynx(0),e.TgZ(1,"a",83),e._uU(2,"Nuevo"),e.qZA(),e.BQk())}function yn(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"a",83),e._uU(2),e.qZA(),e.BQk()),2&n){const t=e.oxw();e.xp6(2),e.Oqu(t.selectedEmployee.name)}}function bn(n,r){1&n&&(e.ynx(0),e._uU(1," Nuevo "),e.BQk())}function Zn(n,r){if(1&n&&(e.ynx(0),e._uU(1),e.BQk()),2&n){const t=e.oxw();e.xp6(1),e.hij(" ",t.selectedEmployee.name," ")}}const R=function(n){return{"cursor-not-allowed":n}};function Cn(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createEmployee())}),e._UZ(1,"mat-icon",85),e.TgZ(2,"span",86),e._uU(3,"Guardar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,R,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function An(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateEmployee())}),e._UZ(1,"mat-icon",85),e.TgZ(2,"span",86),e._uU(3,"Actualizar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,R,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}function Tn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado es obligatorio. "),e.qZA())}function In(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function kn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El nombre del empleado no debe contener n\xfameros. "),e.qZA())}function Fn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado es obligatorio. "),e.qZA())}function Dn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function qn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El primer apellido del empleado no debe contener n\xfameros. "),e.qZA())}function En(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),e.qZA())}function Un(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El segundo apellido del empleado no debe contener n\xfameros. "),e.qZA())}function Qn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe escoger el g\xe9nero "),e.qZA())}function wn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n es obligatorio. "),e.qZA())}function Jn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),e.qZA())}function Nn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),e.qZA())}function Sn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"bank-account",87),e.NdJ("remove",function(i){e.CHM(t);const s=e.oxw();return e.KtG(s.removeBankAccount(i))}),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit,o=r.index,i=r.first,s=r.last,l=e.oxw();e.xp6(1),e.Q6J("bankAccountForm",t)("first",i)("last",s)("index",o)("currencies",l.currencies)}}function Yn(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Tel\xe9fonos"),e.qZA())}function Ln(n,r){if(1&n&&(e.ynx(0),e.TgZ(1,"mat-option",35)(2,"span",24),e._UZ(3,"span",93),e.TgZ(4,"span",94),e._uU(5),e.qZA(),e.TgZ(6,"span",95),e._uU(7),e.qZA()()(),e.BQk()),2&n){const t=r.$implicit;e.xp6(1),e.Q6J("value",t.code),e.xp6(4),e.Oqu(t.name),e.xp6(2),e.Oqu(t.code)}}function Rn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),e.qZA())}function Mn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),e.qZA())}function Bn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo sebe ser obligatorio. "),e.qZA())}function Pn(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function On(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}const _e=function(n){return{"mt-6":n}};function zn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",88)(2,"mat-form-field",89),e.YNc(3,Yn,2,0,"mat-label",9),e._UZ(4,"input",90),e.TgZ(5,"mat-select",91)(6,"mat-select-trigger")(7,"span",24)(8,"span",92),e._uU(9),e.qZA()()(),e.TgZ(10,"mat-option",35)(11,"span",24),e._UZ(12,"span",93),e.TgZ(13,"span",94),e._uU(14),e.ALo(15,"titlecase"),e.qZA(),e.TgZ(16,"span",95),e._uU(17),e.qZA()()(),e.YNc(18,Ln,8,3,"ng-container",43),e.qZA(),e.YNc(19,Rn,2,0,"mat-error",9),e.YNc(20,Mn,2,0,"mat-error",9),e.YNc(21,Bn,2,0,"mat-error",9),e.qZA(),e.TgZ(22,"mat-form-field",96),e.YNc(23,Pn,2,0,"mat-label",9),e._UZ(24,"mat-icon",36)(25,"input",97),e.YNc(26,On,2,0,"mat-error",9),e.qZA(),e.ynx(27),e.TgZ(28,"div",98)(29,"button",99),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removePhoneNumberField(s))}),e._UZ(30,"mat-icon",45),e.qZA()(),e.BQk(),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit,o=r.index,i=r.first,s=e.oxw();e.xp6(3),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("type","tel")("formControl",t.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),e.xp6(1),e.Q6J("formControl",t.get("stateCode")),e.xp6(4),e.Oqu(s.employeeForm.get("phoneNumbers").value[o].stateCode),e.xp6(1),e.Q6J("value","+535"),e.xp6(4),e.Oqu(e.lcZ(15,25,"celular")),e.xp6(3),e.Oqu("+535"),e.xp6(1),e.Q6J("ngForOf",s.statesCodes)("ngForTrackBy",s.trackByFn),e.xp6(1),e.Q6J("ngIf",t.get("phoneNumber").hasError("minlength")||t.get("phoneNumber").hasError("maxlength")),e.xp6(1),e.Q6J("ngIf",t.get("phoneNumber").hasError("pattern")),e.xp6(1),e.Q6J("ngIf",t.get("stateCode").hasError("required")),e.xp6(2),e.Q6J("ngIf",i),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(1),e.Q6J("ngIf",t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")),e.xp6(2),e.Q6J("ngClass",e.VKq(27,_e,i)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Hn(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Correos Electr\xf3nicos"),e.qZA())}function $n(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),e.qZA())}function jn(n,r){1&n&&(e.TgZ(0,"mat-label"),e._uU(1,"Etiqueta"),e.qZA())}function Gn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),e.qZA())}function Kn(n,r){if(1&n){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",100)(2,"mat-form-field",89),e.YNc(3,Hn,2,0,"mat-label",9),e._UZ(4,"mat-icon",36)(5,"input",101),e.YNc(6,$n,2,0,"mat-error",9),e.qZA(),e.TgZ(7,"mat-form-field",96),e.YNc(8,jn,2,0,"mat-label",9),e._UZ(9,"mat-icon",36)(10,"input",97),e.YNc(11,Gn,2,0,"mat-error",9),e.qZA(),e.ynx(12),e.TgZ(13,"div",98)(14,"button",102),e.NdJ("click",function(){const s=e.CHM(t).index,l=e.oxw();return e.KtG(l.removeEmailField(s))}),e._UZ(15,"mat-icon",45),e.qZA()(),e.BQk(),e.qZA(),e.BQk()}if(2&n){const t=r.$implicit,o=r.first;e.xp6(3),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:mail"),e.xp6(1),e.Q6J("formControl",t.get("email"))("spellcheck",!1),e.xp6(1),e.Q6J("ngIf",t.get("email").hasError("email")),e.xp6(2),e.Q6J("ngIf",o),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:tag"),e.xp6(1),e.Q6J("formControl",t.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),e.xp6(1),e.Q6J("ngIf",t.get("label").hasError("maxlength")||t.get("label").hasError("minlength")),e.xp6(2),e.Q6J("ngClass",e.VKq(14,_e,o)),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:trash")}}function Vn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el pa\xeds. "),e.qZA())}function Wn(n,r){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t," ")}}function Xn(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar una provincia. "),e.qZA())}function eo(n,r){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.city),e.xp6(1),e.hij(" ",t.city," ")}}function to(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un municipio. "),e.qZA())}function no(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),e.qZA())}function oo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n es obligatoria. "),e.qZA())}function ro(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),e.qZA())}function io(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," La fecha de contrataci\xf3n es obligatoria. "),e.qZA())}function ao(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un tipo de contrato. "),e.qZA())}function so(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," El tiempo del contrato debe poseer solo n\xfameros. "),e.qZA())}function lo(n,r){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij("",t.name," ")}}function co(n,r){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t.id),e.xp6(1),e.hij(" ",t.name,"")}}function mo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el cargo "),e.qZA())}function po(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar el nivel de escolaridad. "),e.qZA())}function go(n,r){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function uo(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar la frecuencia en el que efectuar\xe1 el pago "),e.qZA())}function _o(n,r){if(1&n&&(e.TgZ(0,"mat-option",35),e._uU(1),e.qZA()),2&n){const t=r.$implicit;e.Q6J("value",t),e.xp6(1),e.hij("",t," ")}}function ho(n,r){1&n&&(e.TgZ(0,"mat-error"),e._uU(1," Debe seleccionar un modo pago "),e.qZA())}function fo(n,r){if(1&n&&e._UZ(0,"img",103),2&n){const t=e.oxw();e.Q6J("alt","Product thumbnail image")("src",t.employeeForm.get("imageUrl").value,e.LSH)}}function xo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",104),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.removeImage())}),e._UZ(1,"mat-icon",105),e.qZA()}}function vo(n,r){1&n&&(e.TgZ(0,"div",106),e._uU(1," SIN IMAGEN "),e.qZA())}function yo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"div")(1,"input",107,108),e.NdJ("change",function(){e.CHM(t);const i=e.MAs(2),s=e.oxw();return e.KtG(s.uploadImage(i.files))}),e.qZA(),e.TgZ(3,"label",109)(4,"div",110),e._UZ(5,"mat-icon",45),e.TgZ(6,"span",46),e._uU(7," Agregar imagen "),e.qZA()()()()}2&n&&(e.xp6(1),e.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),e.xp6(4),e.Q6J("svgIcon","heroicons_solid:plus-circle"))}function bo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.createEmployee())}),e._UZ(1,"mat-icon",85),e.TgZ(2,"span",86),e._uU(3,"Guardar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,R,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:save")}}function Zo(n,r){if(1&n){const t=e.EpF();e.TgZ(0,"button",84),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.updateEmployee())}),e._UZ(1,"mat-icon",85),e.TgZ(2,"span",86),e._uU(3,"Actualizar"),e.qZA()()}if(2&n){const t=e.oxw();e.Q6J("disabled",t.employeeForm.invalid)("ngClass",e.VKq(3,R,t.employeeForm.invalid)),e.xp6(1),e.Q6J("svgIcon","heroicons_outline:refresh")}}let Co=(()=>{class n{constructor(t,o,i,s,l,u,g,Qo,wo,Jo,No){this._activatedRoute=t,this._changeDetectorRef=o,this._formBuilder=i,this._fuseConfirmationService=s,this._hrmService=l,this._employeesService=u,this._locationService=g,this._router=Qo,this._imagesService=wo,this._snackBar=Jo,this.store=No,this.cities=[],this.states=[],this.statesCodes=[],this.windowsMode="new",this.stateSelected="",this.currencies=[],this._unsubscribeAll=new T.x}ngOnInit(){var t;this.store.select(b.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.currentMerchant=i}),this.store.select(se.hf).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.selectedEmployee=i}),this.store.select(un.zd).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.currencies=i}),this.charges$=this.store.select(ee),this.departments$=this.store.select(oe),this.salaryFreqs$=this._hrmService._salaryFreqs$,this.salaryMethods$=this._hrmService._salaryMethods$,this._locationService.states$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.states=i,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.statesCodes=i,this._changeDetectorRef.markForCheck()}),this.employeeForm=this._formBuilder.group({id:[null],merchantId:[this.currentMerchant.id,[a.kI.required]],active:[!0],name:[null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],lastname1:[null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[a.kI.minLength(3),a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],gender:[null,[a.kI.required]],idNumber:[null,[a.kI.maxLength(11),a.kI.minLength(11),y.L.onlyNumbersPattern()]],bankAccounts:this._formBuilder.array([]),emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),address:[null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(255)]],country:[{value:"Cuba",disabled:!0},[a.kI.required]],state:[null,[a.kI.required]],city:[null,[a.kI.required]],zip:[null,[a.kI.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],dateOfJoining:[null],typeOfContract:[null],contractEndDate:[null],contractTime:[0,[y.L.onlyNumbersPattern()]],departmentId:[null],chargeId:[null],scholarship:[null],salaryFreq:[null],salaryMethod:[null],salaryLevel:[null],imageUrl:[null]}),null===(t=this.employeeForm.get("state"))||void 0===t||t.valueChanges.pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this._getCitiesByState(i),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({employeeId:i})=>{"new"!==i&&(this.windowsMode="edit"),this._fillEmployeeData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const t=this._formBuilder.group({bank:[null,[a.kI.maxLength(255)]],beneficiary:[null,[a.kI.maxLength(255),y.L.onlyAlphabetsWithAccentPattern()]],no:[null,[a.kI.required,a.kI.minLength(16),a.kI.maxLength(24)]],currency:[null],cardType:[""]});this.employeeForm.get("bankAccounts").push(t),this._changeDetectorRef.markForCheck()}removeBankAccount(t){this.employeeForm.get("bankAccounts").removeAt(t),this._changeDetectorRef.markForCheck()}addEmailField(){const t=this._formBuilder.group({email:["",[a.kI.email,a.kI.maxLength(255)]],label:["",[a.kI.minLength(3),a.kI.maxLength(255)]]});this.employeeForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.employeeForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({stateCode:["+535",[a.kI.required]],phoneNumber:["",[a.kI.minLength(7),a.kI.maxLength(7),y.L.onlyNumbersPattern()]],label:["",[a.kI.minLength(3),a.kI.maxLength(255)]]});this.employeeForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.employeeForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}createEmployee(){let t=this.employeeForm.getRawValue();delete t.id,t=J(t).omitBy(J.isNull).omitBy(J.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._employeesService.createEmployee(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}updateEmployee(){let t=this.employeeForm.getRawValue();t=J(t).omitBy(J.isNull).value(),this._fuseConfirmationService.open({title:"Actualizar empleado",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._employeesService.updateEmployee(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/hrm/employees"))})})}trackByFn(t,o){return o.id||t}uploadImage(t){if(!t.length)return;const i=t[0];i.size/1024/1024>1?this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"heroicons_solid:check"}}):!["image/jpeg","image/jpg","image/webp","image/png"].includes(i.type)||this._imagesService.uploadImage("HRM",i).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(s.imageUrl),"edit"===this.windowsMode?this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:s.imageUrl}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(l=>{l&&(this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:l.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck())}):this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(){const t=this.employeeForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar la imagen de este empleado?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._imagesService.removeImage(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{this.employeeForm.get("imageUrl").setValue(null),"edit"===this.windowsMode&&this._employeesService.updateEmployeeImage({id:this.selectedEmployee.id,imageUrl:null}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(l=>{l&&this._snackBar.openFromComponent(f.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:s.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck()})})})}_fillEmployeeData(){"new"!==this.windowsMode&&(this.employeeForm.get("emails").clear(),this.employeeForm.get("phoneNumbers").clear(),this.employeeForm.get("bankAccounts").clear(),this._setEmployeeDataOnForm(this.selectedEmployee),this._changeDetectorRef.markForCheck())}_getCitiesByState(t){t!==this.stateSelected&&this._locationService.getCitiesByState(t).pipe((0,m.R)(this._unsubscribeAll)).subscribe(o=>{this.cities=o,this._changeDetectorRef.markForCheck()})}_setEmployeeDataOnForm(t){this.employeeForm.patchValue(t),this._getCitiesByState(t.state);const o=[];t.emails.length>0&&t.emails.forEach(l=>{o.push(this._formBuilder.group({email:[l.email,[a.kI.email,a.kI.maxLength(255)]],label:[l.label,[a.kI.minLength(3),a.kI.maxLength(255)]]}))}),o.forEach(l=>{this.employeeForm.get("emails").push(l)});const i=[];t.phoneNumbers.length>0&&t.phoneNumbers.forEach(l=>{i.push(this._formBuilder.group({stateCode:[l.stateCode,[a.kI.required]],phoneNumber:[l.phoneNumber,[a.kI.minLength(7),a.kI.maxLength(7),y.L.onlyNumbersPattern()]],label:[l.label,[a.kI.minLength(3),a.kI.maxLength(255)]]}))}),i.forEach(l=>{this.employeeForm.get("phoneNumbers").push(l)});const s=[];t.bankAccounts.length>0&&(t.bankAccounts.forEach(l=>{s.push(this._formBuilder.group({bank:[l.bank,[a.kI.maxLength(255)]],beneficiary:[l.beneficiary,[y.L.onlyAlphabetsWithAccentPattern()]],no:[l.no,[a.kI.required,a.kI.minLength(16),a.kI.maxLength(24)]],currency:[l.currency],cardType:[l.cardType]}))}),s.forEach(l=>{this.employeeForm.get("bankAccounts").push(l)}))}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(x.gz),e.Y36(e.sBO),e.Y36(a.qu),e.Y36(k.R),e.Y36(pe),e.Y36(le.M),e.Y36(de.a),e.Y36(x.F0),e.Y36(fn.C),e.Y36(F.ux),e.Y36(_.yh))},n.\u0275cmp=e.Xpm({type:n,selectors:[["employee-detail"]],decls:292,vars:130,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/hrm/",1,"ml-1","text-primary-500","hover:underline"],["routerLink","/modules/hrm/employees",1,"ml-1","text-primary-500","hover:underline"],[4,"ngIf"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass","click",4,"ngIf"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],[3,"formGroup","autocomplete"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],["required","",3,"formControlName"],["value","masculino"],["value","femenino"],[3,"value"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","required","",3,"type","formControlName","maxlength","minlength"],[1,"flex","flex-col","sm:col-span-2"],[1,"items-start","font-medium"],[1,"mt-1",3,"color","formControlName"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"grid","w-full","gap-y-3","gap-x-6","sm:grid-cols-4"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matInput","","required","",3,"formControlName","minLength","maxlength"],["matPrefix","",3,"for"],["joinDatepicker",""],["matInput","",3,"matDatepicker","formControlName","placeholder"],[3,"formControlName"],["value","Determinado"],["value","Indeterminado"],["birthdayDatepicker",""],["matInput","","type","number",3,"formControlName","min"],["matSuffix","",1,"ml-1"],[3,"value",4,"ngFor","ngForOf"],["value","Primaria"],["value","Secundaria"],["value","TecnicoMedio"],["value","ObreroCalificado"],["value","MedioSuperior"],["value","Superior"],[1,"flex","flex-col"],[1,"flex","items-center","mt-3"],[1,"relative","flex","items-center","justify-center","mr-6","overflow-hidden","border","rounded","w-26","h-26","flex-0"],[3,"alt","src",4,"ngIf"],["mat-mini-fab","","class","absolute p-5 transition-opacity ease-linear delay-200 rounded-full opacity-50 bg-primary-500 hover:opacity-100",3,"click",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],[1,"ml-1","text-primary-700"],["mat-raised-button","",1,"ml-4","text-white","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[3,"svgIcon"],[1,"ml-2","mr-1"],[3,"bankAccountForm","first","last","index","currencies","remove"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],[3,"alt","src"],["mat-mini-fab","",1,"absolute","p-5","transition-opacity","ease-linear","delay-200","rounded-full","opacity-50","bg-primary-500","hover:opacity-100",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white","icon-size-5"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],["id","image-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageFileInput",""],["for","image-file-input","matRipple",""],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group"]],template:function(t,o){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),e._uU(7,"Inicio"),e.qZA()(),e.TgZ(8,"div",4),e._UZ(9,"mat-icon",6),e.TgZ(10,"a",7),e._uU(11,"Recursos Humanos"),e.qZA()(),e.TgZ(12,"div",4),e._UZ(13,"mat-icon",6),e.TgZ(14,"a",8),e._uU(15,"Empleados"),e.qZA()(),e.TgZ(16,"div",4),e._UZ(17,"mat-icon",6),e.YNc(18,vn,3,0,"ng-container",9),e.YNc(19,yn,3,1,"ng-container",9),e.TgZ(20,"a",10),e._uU(21,"Nuevo"),e.qZA()()(),e.TgZ(22,"div",11)(23,"a",12),e._UZ(24,"mat-icon",6),e.TgZ(25,"span",13),e._uU(26,"Regresar"),e.qZA()()()(),e.TgZ(27,"div",14)(28,"div",15),e.YNc(29,bn,2,0,"ng-container",9),e.YNc(30,Zn,2,1,"ng-container",9),e.qZA()()(),e.TgZ(31,"div",16),e.YNc(32,Cn,4,5,"button",17),e.YNc(33,An,4,5,"button",17),e.qZA()(),e.TgZ(34,"div",18)(35,"div",19)(36,"form",20)(37,"mat-accordion",21)(38,"mat-expansion-panel",22)(39,"mat-expansion-panel-header",23)(40,"mat-panel-title",24)(41,"div",25),e._uU(42," Informaci\xf3n General "),e.qZA()()(),e.TgZ(43,"div",26)(44,"div",27)(45,"mat-form-field",28)(46,"mat-label"),e._uU(47,"Nombre"),e.qZA(),e._UZ(48,"input",29),e.YNc(49,Tn,2,0,"mat-error",9),e.YNc(50,In,2,0,"mat-error",9),e.YNc(51,kn,2,0,"mat-error",9),e.qZA()(),e.TgZ(52,"div",27)(53,"mat-form-field",28)(54,"mat-label"),e._uU(55,"Primer Apellido"),e.qZA(),e._UZ(56,"input",30),e.YNc(57,Fn,2,0,"mat-error",9),e.YNc(58,Dn,2,0,"mat-error",9),e.YNc(59,qn,2,0,"mat-error",9),e.qZA()(),e.TgZ(60,"div",27)(61,"mat-form-field",28)(62,"mat-label"),e._uU(63,"Segundo Apellido"),e.qZA(),e._UZ(64,"input",31),e.YNc(65,En,2,0,"mat-error",9),e.YNc(66,Un,2,0,"mat-error",9),e.qZA()(),e.TgZ(67,"div",27)(68,"mat-form-field",28)(69,"mat-label"),e._uU(70,"G\xe9nero"),e.qZA(),e.TgZ(71,"mat-select",32)(72,"mat-option",33),e._uU(73,"Masculino"),e.qZA(),e.TgZ(74,"mat-option",34),e._uU(75,"Femenino"),e.qZA(),e.TgZ(76,"mat-option",35),e._uU(77,"Otro"),e.qZA()(),e.YNc(78,Qn,2,0,"mat-error",9),e.qZA()(),e.TgZ(79,"div",27)(80,"mat-form-field",28)(81,"mat-label"),e._uU(82,"N\xfamero de identidad"),e.qZA(),e._UZ(83,"mat-icon",36)(84,"input",37),e.YNc(85,wn,2,0,"mat-error",9),e.YNc(86,Jn,2,0,"mat-error",9),e.YNc(87,Nn,2,0,"mat-error",9),e.qZA()(),e.TgZ(88,"div",38)(89,"span",39),e._uU(90,"Estado"),e.qZA(),e.TgZ(91,"mat-slide-toggle",40),e._uU(92," Activo "),e.qZA()()()(),e.TgZ(93,"mat-expansion-panel")(94,"mat-expansion-panel-header",23)(95,"mat-panel-title",24)(96,"div",25),e._uU(97," Cuentas de banco "),e.qZA()()(),e.TgZ(98,"div",41)(99,"div",42),e.YNc(100,Sn,2,5,"ng-container",43),e.qZA(),e.TgZ(101,"div",44),e.NdJ("click",function(){return o.addBankAccount()}),e._UZ(102,"mat-icon",45),e.TgZ(103,"span",46),e._uU(104," Agregar Cuenta "),e.qZA()()()(),e.TgZ(105,"mat-expansion-panel")(106,"mat-expansion-panel-header",23)(107,"mat-panel-title",24)(108,"div",25),e._uU(109," Informaci\xf3n de contacto "),e.qZA()()(),e.TgZ(110,"div",47)(111,"div",27)(112,"div",48),e.YNc(113,zn,31,29,"ng-container",43),e.qZA(),e.TgZ(114,"div",49),e.NdJ("click",function(){return o.addPhoneNumberField()}),e._UZ(115,"mat-icon",45),e.TgZ(116,"span",46),e._uU(117,"Agregar tel\xe9fono"),e.qZA()()(),e.TgZ(118,"div",27)(119,"div",48),e.YNc(120,Kn,16,16,"ng-container",43),e.qZA(),e.TgZ(121,"div",49),e.NdJ("click",function(){return o.addEmailField()}),e._UZ(122,"mat-icon",45),e.TgZ(123,"span",46),e._uU(124,"Agregar correo electr\xf3nico"),e.qZA()()()()(),e.TgZ(125,"mat-expansion-panel",22)(126,"mat-expansion-panel-header",23)(127,"mat-panel-title",24)(128,"div",25),e._uU(129," Domicilio "),e.qZA()()(),e.TgZ(130,"div",41)(131,"div",50)(132,"div",27)(133,"mat-form-field",28)(134,"mat-label"),e._uU(135,"Pa\xeds"),e.qZA(),e.TgZ(136,"mat-select",32)(137,"mat-option",51),e._uU(138,"Cuba"),e.qZA()(),e._UZ(139,"mat-icon",52),e.YNc(140,Vn,2,0,"mat-error",9),e.qZA()(),e.TgZ(141,"div",27)(142,"mat-form-field",28)(143,"mat-label"),e._uU(144,"Provincia"),e.qZA(),e.TgZ(145,"mat-select",32),e.YNc(146,Wn,2,2,"mat-option",53),e.qZA(),e._UZ(147,"mat-icon",52),e.YNc(148,Xn,2,0,"mat-error",9),e.qZA()(),e.TgZ(149,"div",27)(150,"mat-form-field",28)(151,"mat-label"),e._uU(152,"Municipio"),e.qZA(),e.TgZ(153,"mat-select",32),e.YNc(154,eo,2,2,"mat-option",53),e.qZA(),e._UZ(155,"mat-icon",52),e.YNc(156,to,2,0,"mat-error",9),e.qZA()(),e.TgZ(157,"div",27)(158,"mat-form-field",54)(159,"mat-label"),e._uU(160,"C\xf3digo Postal"),e.qZA(),e._UZ(161,"input",55),e.YNc(162,no,2,0,"mat-error",9),e.qZA()(),e.TgZ(163,"div",56)(164,"mat-form-field",57)(165,"mat-label"),e._uU(166,"Direcci\xf3n"),e.qZA(),e._UZ(167,"mat-icon",36)(168,"textarea",58),e.YNc(169,oo,2,0,"mat-error",9),e.YNc(170,ro,2,0,"mat-error",9),e.qZA()()()()(),e.TgZ(171,"mat-expansion-panel")(172,"mat-expansion-panel-header",23)(173,"mat-panel-title",24)(174,"div",25),e._uU(175," Datos de incorporaci\xf3n "),e.qZA()()(),e.TgZ(176,"div",26)(177,"div",27)(178,"mat-form-field",28)(179,"mat-label"),e._uU(180,"Fecha de contrataci\xf3n"),e.qZA(),e._UZ(181,"mat-datepicker-toggle",59)(182,"mat-datepicker",null,60)(184,"input",61),e.YNc(185,io,2,0,"mat-error",9),e.qZA()(),e.TgZ(186,"div",27)(187,"mat-form-field",28)(188,"mat-label"),e._uU(189,"Tipo de contrato"),e.qZA(),e.TgZ(190,"mat-select",62)(191,"mat-option",63),e._uU(192,"Determinado"),e.qZA(),e.TgZ(193,"mat-option",64),e._uU(194,"Indeterminado"),e.qZA()(),e.YNc(195,ao,2,0,"mat-error",9),e.qZA()(),e.TgZ(196,"div",27)(197,"mat-form-field",28)(198,"mat-label"),e._uU(199,"Fecha de cierre del contrato"),e.qZA(),e._UZ(200,"mat-datepicker-toggle",59)(201,"mat-datepicker",null,65)(203,"input",61),e.qZA()(),e.TgZ(204,"div",27)(205,"mat-form-field",28)(206,"mat-label"),e._uU(207,"Tiempo del contrato"),e.qZA(),e._UZ(208,"mat-icon",36)(209,"input",66),e.TgZ(210,"span",67),e._uU(211,"D\xedas"),e.qZA(),e.YNc(212,so,2,0,"mat-error",9),e.qZA()()()(),e.TgZ(213,"mat-expansion-panel")(214,"mat-expansion-panel-header",23)(215,"mat-panel-title",24)(216,"div",25),e._uU(217," Departamento, cargo y escolaridad "),e.qZA()()(),e.TgZ(218,"div",41)(219,"div",50)(220,"div",27)(221,"mat-form-field",28)(222,"mat-label"),e._uU(223,"Departamento"),e.qZA(),e.TgZ(224,"mat-select",62),e.YNc(225,lo,2,2,"mat-option",68),e.ALo(226,"async"),e.qZA()()(),e.TgZ(227,"div",27)(228,"mat-form-field",28)(229,"mat-label"),e._uU(230,"Cargo"),e.qZA(),e.TgZ(231,"mat-select",62),e.YNc(232,co,2,2,"mat-option",68),e.ALo(233,"async"),e.qZA(),e.YNc(234,mo,2,0,"mat-error",9),e.qZA()(),e.TgZ(235,"div",27)(236,"mat-form-field",28)(237,"mat-label"),e._uU(238,"Escolaridad"),e.qZA(),e.TgZ(239,"mat-select",62)(240,"mat-option",69),e._uU(241,"Primaria"),e.qZA(),e.TgZ(242,"mat-option",70),e._uU(243,"Secundaria"),e.qZA(),e.TgZ(244,"mat-option",71),e._uU(245,"T\xe9cnico Medio"),e.qZA(),e.TgZ(246,"mat-option",72),e._uU(247,"Obrero Calificado"),e.qZA(),e.TgZ(248,"mat-option",73),e._uU(249,"Medio Superior"),e.qZA(),e.TgZ(250,"mat-option",74),e._uU(251,"Superior"),e.qZA()(),e.YNc(252,po,2,0,"mat-error",9),e.qZA()()()()(),e.TgZ(253,"mat-expansion-panel")(254,"mat-expansion-panel-header",23)(255,"mat-panel-title",24)(256,"div",25),e._uU(257," Salario "),e.qZA()()(),e.TgZ(258,"div",26)(259,"div",27)(260,"mat-form-field",28)(261,"mat-label"),e._uU(262,"Frecuencia"),e.qZA(),e.TgZ(263,"mat-select",62),e.YNc(264,go,2,2,"mat-option",68),e.ALo(265,"async"),e.qZA(),e.YNc(266,uo,2,0,"mat-error",9),e.qZA()(),e.TgZ(267,"div",27)(268,"mat-form-field",28)(269,"mat-label"),e._uU(270,"Modo de pago"),e.qZA(),e.TgZ(271,"mat-select",62),e.YNc(272,_o,2,2,"mat-option",68),e.ALo(273,"async"),e.qZA(),e.YNc(274,ho,2,0,"mat-error",9),e.qZA()()()(),e.TgZ(275,"mat-expansion-panel")(276,"mat-expansion-panel-header",23)(277,"mat-panel-title",24)(278,"div",25),e._uU(279," Imagen "),e.qZA()()(),e.TgZ(280,"div",26)(281,"div",75)(282,"div",76)(283,"div",77),e.YNc(284,fo,1,2,"img",78),e.YNc(285,xo,2,0,"button",79),e.YNc(286,vo,2,0,"div",80),e.qZA()(),e.YNc(287,yo,8,3,"div",9),e.qZA()()()()()()(),e.TgZ(288,"div",81)(289,"div",82),e.YNc(290,bo,4,5,"button",17),e.YNc(291,Zo,4,5,"button",17),e.qZA()()()),2&t){const i=e.MAs(183),s=e.MAs(202);e.xp6(9),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(4),e.Q6J("svgIcon","mat_solid:chevron_right"),e.xp6(1),e.Q6J("ngIf","new"===o.windowsMode),e.xp6(1),e.Q6J("ngIf","new"!==o.windowsMode),e.xp6(4),e.Q6J("routerLink","./.."),e.xp6(1),e.Q6J("svgIcon","mat_solid:chevron_left"),e.xp6(5),e.Q6J("ngIf","new"===o.windowsMode),e.xp6(1),e.Q6J("ngIf","new"!==o.windowsMode),e.xp6(2),e.Q6J("ngIf","new"===o.windowsMode),e.xp6(1),e.Q6J("ngIf","new"!==o.windowsMode),e.xp6(3),e.Q6J("formGroup",o.employeeForm)("autocomplete","off"),e.xp6(2),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("name").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("name").hasError("maxlength")||o.employeeForm.get("name").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("name").hasError("pattern")),e.xp6(5),e.Q6J("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("lastname1").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("lastname1").hasError("maxlength")||o.employeeForm.get("lastname2").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("lastname1").hasError("pattern")),e.xp6(5),e.Q6J("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("lastname2").hasError("maxlength")||o.employeeForm.get("lastname2").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("lastname2").hasError("pattern")),e.xp6(5),e.Q6J("formControlName","gender"),e.xp6(5),e.Q6J("value","otro"),e.xp6(2),e.Q6J("ngIf",o.employeeForm.get("gender").hasError("required")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:identification"),e.xp6(1),e.Q6J("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("idNumber").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("idNumber").hasError("maxlength")||o.employeeForm.get("idNumber").hasError("minlength")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("idNumber").hasError("pattern")),e.xp6(4),e.Q6J("color","primary")("formControlName","active"),e.xp6(3),e.Q6J("collapsedHeight","56px"),e.xp6(6),e.Q6J("ngForOf",o.employeeForm.get("bankAccounts").controls)("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("svgIcon","mat_solid:add_circle"),e.xp6(4),e.Q6J("collapsedHeight","56px"),e.xp6(7),e.Q6J("ngForOf",o.employeeForm.get("phoneNumbers").controls)("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(5),e.Q6J("ngForOf",o.employeeForm.get("emails").controls)("ngForTrackBy",o.trackByFn),e.xp6(2),e.Q6J("svgIcon","heroicons_solid:plus-circle"),e.xp6(3),e.Q6J("expanded",!0),e.xp6(1),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","country"),e.xp6(3),e.Q6J("svgIcon","heroicons_solid:globe"),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("country").hasError("required")),e.xp6(5),e.Q6J("formControlName","state"),e.xp6(1),e.Q6J("ngForOf",o.states)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:map"),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("state").hasError("required")),e.xp6(5),e.Q6J("formControlName","city"),e.xp6(1),e.Q6J("ngForOf",o.cities)("ngForTrackBy",o.trackByFn),e.xp6(1),e.Q6J("svgIcon","heroicons_solid:location-marker"),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("city").hasError("required")),e.xp6(5),e.Q6J("formControlName","zip")("max",99999),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("zip").hasError("pattern")),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:home"),e.xp6(1),e.Q6J("formControlName","address")("minLength",3)("maxlength",255),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("address").hasError("required")),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("address").hasError("maxlength")||o.employeeForm.get("address").hasError("minlength")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("for",i),e.xp6(3),e.Q6J("matDatepicker",i)("formControlName","dateOfJoining")("placeholder","Seleccione la fecha"),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("dateOfJoining").hasError("required")),e.xp6(5),e.Q6J("formControlName","typeOfContract"),e.xp6(5),e.Q6J("ngIf",o.employeeForm.get("typeOfContract").hasError("required")),e.xp6(5),e.Q6J("for",s),e.xp6(3),e.Q6J("matDatepicker",s)("formControlName","contractEndDate")("placeholder","Seleccione la fecha"),e.xp6(5),e.Q6J("svgIcon","heroicons_solid:clock"),e.xp6(1),e.Q6J("formControlName","contractTime")("min",0),e.xp6(3),e.Q6J("ngIf",o.employeeForm.get("contractTime").hasError("pattern")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(10),e.Q6J("formControlName","departmentId"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(226,122,o.departments$)),e.xp6(6),e.Q6J("formControlName","chargeId"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(233,124,o.charges$)),e.xp6(2),e.Q6J("ngIf",o.employeeForm.get("chargeId").hasError("required")),e.xp6(5),e.Q6J("formControlName","scholarship"),e.xp6(13),e.Q6J("ngIf",o.employeeForm.get("scholarship").hasError("required")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(9),e.Q6J("formControlName","salaryFreq"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(265,126,o.salaryFreqs$)),e.xp6(2),e.Q6J("ngIf",o.employeeForm.get("salaryFreq").hasError("required")),e.xp6(5),e.Q6J("formControlName","salaryMethod"),e.xp6(1),e.Q6J("ngForOf",e.lcZ(273,128,o.salaryMethods$)),e.xp6(2),e.Q6J("ngIf",o.employeeForm.get("salaryMethod").hasError("required")),e.xp6(2),e.Q6J("collapsedHeight","56px"),e.xp6(8),e.Q6J("ngIf",o.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",o.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",!o.employeeForm.get("imageUrl").value),e.xp6(1),e.Q6J("ngIf",!o.employeeForm.get("imageUrl").value),e.xp6(3),e.Q6J("ngIf","new"===o.windowsMode),e.xp6(1),e.Q6J("ngIf","new"!==o.windowsMode)}},dependencies:[x.yS,p.mk,p.sg,p.O5,a._Y,a.Fj,a.wV,a.JJ,a.JL,a.Q7,a.wO,a.nD,a.qQ,a.oH,a.sg,a.u,S.PQ,ge.ey,D.lW,V.Mq,V.hl,V.nW,L.pp,L.ib,L.yz,L.yK,q.Hw,d.TO,d.KE,d.hX,d.qo,d.R9,E.Nt,ge.wG,ue.gD,ue.$L,w.Rr,ce.gM,xn.w,p.Ov,p.rS],encapsulation:2,changeDetection:0}),n})();var M=c(70262);let Ao=(()=>{class n{constructor(t,o,i){this._chargesService=t,this._router=o,this.store=i,this.store.select(b.Qs).subscribe(s=>{this.merchant=s})}resolve(t,o){return this.merchant?this._chargesService.findAllCharges(this.merchant.id).pipe((0,M.K)(i=>this._router.navigateByUrl("/desktop"))):null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.Z),e.LFG(x.F0),e.LFG(_.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),To=(()=>{class n{constructor(t,o,i){this._chargesService=t,this._router=o,this.store=i,this.store.select(b.Qs).subscribe(s=>{this.merchant=s})}resolve(t,o){return this.merchant?this._chargesService.findAllActiveCharges(this.merchant.id).pipe((0,M.K)(i=>this._router.navigateByUrl("/desktop"))):null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(N.Z),e.LFG(x.F0),e.LFG(_.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Io=(()=>{class n{constructor(t,o,i){this._departmentsService=t,this._router=o,this.store=i,this.store.select(b.Qs).subscribe(s=>{this.merchant=s})}resolve(t,o){return this.merchant?this._departmentsService.findAllDepartments(this.merchant.id).pipe((0,M.K)(i=>this._router.navigateByUrl("/desktop"))):null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y),e.LFG(x.F0),e.LFG(_.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ko=(()=>{class n{constructor(t,o,i){this._departmentsService=t,this._router=o,this.store=i,this.store.select(b.Qs).subscribe(s=>{this.merchant=s})}resolve(t,o){return this.merchant?this._departmentsService.findAllActiveDepartments(this.merchant.id).pipe((0,M.K)(i=>this._router.navigateByUrl("/desktop"))):null}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(Y),e.LFG(x.F0),e.LFG(_.yh))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var he=c(84271),Fo=c(4128);let Do=(()=>{class n{constructor(t,o){this._hrmService=t,this._locationService=o}resolve(t,o){return(0,Fo.D)([this._hrmService.getScholarship(),this._hrmService.getSalaryMethods(),this._hrmService.getSalaryFrequency()])}}return n.\u0275fac=function(t){return new(t||n)(e.LFG(pe),e.LFG(de.a))},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var qo=c(90810);const Eo=[{path:"",component:ye},{path:"charges",component:Ge,resolve:{charges:Ao}},{path:"departments",component:Ft,resolve:{departments:Io}},{path:"employees",component:gn,resolve:{employees:he.Q}},{path:"employees/:employeeId",component:Co,resolve:{currencies:qo.Y,hrm:Do,employee:he.ci,charges:To,departments:ko}}];let Uo=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[x.Bz.forChild(Eo),fe.m]}),n})()}}]);