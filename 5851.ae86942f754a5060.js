"use strict";(self.webpackChunkatherp=self.webpackChunkatherp||[]).push([[5851],{75851:(Qr,ot,l)=>{l.r(ot),l.d(ot,{CrmModule:()=>Ar});var u=l(35357),it=l(17460),k=l(77579),m=l(82722),t=l(5e3),Tt=l(19602),j=l(29071),Q=l(25245);let At=(()=>{class n{constructor(e,i,a){this._activatedRoute=e,this._changeDetectorRef=i,this._router=a,this.merchantId="",this._unsubscribeAll=new k.x}ngOnInit(){this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({merchantId:e})=>{void 0!==e&&(this.merchantId=e,this._changeDetectorRef.markForCheck())})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(t.sBO),t.Y36(u.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["ath-crm"]],decls:38,vars:2,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],["routerLink","/desktop",1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"flex-auto","p-6","sm:p-10"],[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex","flex-col","w-full"],[1,"grid","grid-flow-row","grid-cols-1","mt-8","sm:grid-cols-2","lg:grid-cols-4","gap-y-12","sm:gap-x-4"],["routerLink","/modules/crm/customers",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"],[1,"flex","flex-col"],[1,"text-2xl","font-semibold","leading-tight"],[1,"text-md","text-secondary"],["routerLink","/modules/crm/contacts",1,"flex","items-center","justify-between","w-full","p-6","cursor-pointer","max-w-80","filter-info","hover:shadow-md"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t._uU(7,"Inicio"),t.qZA()(),t.TgZ(8,"div",4),t._UZ(9,"mat-icon",6),t.TgZ(10,"a",7),t._uU(11,"Gesti\xf3n de clientes"),t.qZA()()(),t.TgZ(12,"div",8)(13,"a",9),t._UZ(14,"mat-icon",6),t.TgZ(15,"span",10),t._uU(16,"Regresar"),t.qZA()()()(),t.TgZ(17,"div",11)(18,"div",12),t._uU(19," Gesti\xf3n de clientes "),t.qZA()()()(),t.TgZ(20,"div",13)(21,"div",14)(22,"div",15)(23,"div",12),t._uU(24," M\xf3dulos "),t.qZA(),t.TgZ(25,"div",16)(26,"fuse-card",17)(27,"div",18)(28,"div",19),t._uU(29,"Clientes"),t.qZA(),t.TgZ(30,"div",20),t._uU(31,"listado de Clientes(Negocios)"),t.qZA()()(),t.TgZ(32,"fuse-card",21)(33,"div",18)(34,"div",19),t._uU(35,"Contactos"),t.qZA(),t.TgZ(36,"div",20),t._uU(37,"listado de contactos"),t.qZA()()()()()()()()),2&e&&(t.xp6(9),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:chevron-left"))},dependencies:[u.rH,u.yS,Tt.y,j.PQ,Q.Hw],encapsulation:2,changeDetection:0}),n})();var c=l(93075),A=l(17489),N=l(60814),P=l(8035),F=l(22594),x=l(59784),v=l(2491),yt=l(99987),y=l(86874),z=l(71683),at=l(97231),rt=l(81158),H=l(57261),Z=l(85094),g=l(69808),J=l(90508),L=l(47423),Y=l(80288),f=l(67322),E=l(98833),B=l(74107),ct=l(32368),G=l(87238),st=l(1235),It=l(76768);function kt(n,o){1&n&&(t.TgZ(0,"a",73),t._uU(1,"Nuevo"),t.qZA())}function Qt(n,o){if(1&n&&(t.TgZ(0,"a",73),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Oqu(e.selectedCustomer.name)}}function Nt(n,o){1&n&&(t.TgZ(0,"div",74),t._uU(1," Nuevo Cliente "),t.qZA())}function Ft(n,o){if(1&n&&(t.TgZ(0,"div",74),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" Informaci\xf3n de ",e.selectedCustomer.name," ")}}const S=function(n){return{"cursor-not-allowed":n}};function Jt(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.createCustomer())}),t._UZ(1,"mat-icon",78),t.TgZ(2,"span",79),t._uU(3,"Guardar"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.customerForm.invalid)("ngClass",t.VKq(3,S,e.customerForm.invalid)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:save")}}function Ut(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.updateCustomer())}),t._UZ(1,"mat-icon",78),t.TgZ(2,"span",79),t._uU(3,"Actualizar"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.customerForm.invalid)("ngClass",t.VKq(3,S,e.customerForm.invalid)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:refresh")}}function qt(n,o){if(1&n&&(t.TgZ(0,"div",75),t.YNc(1,Jt,4,5,"button",76),t.YNc(2,Ut,4,5,"button",76),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","edit"!==e.windowsMode),t.xp6(1),t.Q6J("ngIf","edit"===e.windowsMode)}}function wt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del negocio es obligatorio. "),t.qZA())}function Dt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del negocio debe contener entre 3 y 255 caracteres. "),t.qZA())}function Lt(n,o){if(1&n&&(t.TgZ(0,"mat-option",80),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.name),t.xp6(1),t.hij(" ",e.name," ")}}function Yt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Debe escoger un sector. "),t.qZA())}function Et(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Las siglas no deben superar los 10 caracteres. "),t.qZA())}function Bt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Las siglas del negocio no presentan un formato v\xe1lido. "),t.qZA())}function St(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Debe escoger una personalidad. "),t.qZA())}function Ot(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de identificaci\xf3n tributaria debe poseer 11 d\xedgitos. "),t.qZA())}function Mt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de identificaci\xf3n tributaria debe poseer solo n\xfameros. "),t.qZA())}function $t(n,o){if(1&n&&(t.TgZ(0,"mat-option",80),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.lnq(" ",e.name," ",e.lastname1," ",e.lastname2," ")}}function Rt(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"bank-account",81),t.NdJ("remove",function(a){t.CHM(e);const r=t.oxw();return t.KtG(r.removeBankAccount(a))}),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=o.first,r=o.last,s=t.oxw();t.xp6(1),t.Q6J("bankAccountForm",e)("first",a)("last",r)("index",i)("currencies",s.currencies)}}function jt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Debe seleccionar el pa\xeds. "),t.qZA())}function Pt(n,o){if(1&n&&(t.TgZ(0,"mat-option",80),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function zt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Debe seleccionar una provincia. "),t.qZA())}function Ht(n,o){if(1&n&&(t.TgZ(0,"mat-option",80),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.city),t.xp6(1),t.hij(" ",e.city," ")}}function Gt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Debe seleccionar un municipio. "),t.qZA())}function Kt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El c\xf3digo postal no presenta un formato v\xe1lido. "),t.qZA())}function Wt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La direcci\xf3n es obligatoria. "),t.qZA())}function Vt(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),t.qZA())}function Xt(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Tel\xe9fonos"),t.qZA())}function te(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",80)(2,"span",20),t._UZ(3,"span",87),t.TgZ(4,"span",88),t._uU(5),t.qZA(),t.TgZ(6,"span",89),t._uU(7),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.code),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.code)}}function ee(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de tel\xe9fono debe contener entre 7 d\xedgitos. "),t.qZA())}function ne(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),t.qZA())}function oe(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El c\xf3digo de tel\xe9fono es obligatorio. "),t.qZA())}function ie(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de tel\xe9fono es obligatorio. "),t.qZA())}function ae(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Etiqueta"),t.qZA())}function re(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),t.qZA())}const ce=function(n){return{"mt:0 sm:mt-6":n}};function se(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",82)(2,"mat-form-field",83),t.YNc(3,Xt,2,0,"mat-label",26),t._UZ(4,"input",84),t.TgZ(5,"mat-select",85)(6,"mat-select-trigger")(7,"span",20)(8,"span",86),t._uU(9),t.qZA()()(),t.TgZ(10,"mat-option",80)(11,"span",20),t._UZ(12,"span",87),t.TgZ(13,"span",88),t._uU(14),t.ALo(15,"titlecase"),t.qZA(),t.TgZ(16,"span",89),t._uU(17),t.qZA()()(),t.YNc(18,te,8,3,"ng-container",47),t.qZA(),t.YNc(19,ee,2,0,"mat-error",26),t.YNc(20,ne,2,0,"mat-error",26),t.YNc(21,oe,2,0,"mat-error",26),t.YNc(22,ie,2,0,"mat-error",26),t.qZA(),t.TgZ(23,"mat-form-field",90),t.YNc(24,ae,2,0,"mat-label",26),t._UZ(25,"mat-icon",42)(26,"input",91),t.YNc(27,re,2,0,"mat-error",26),t.qZA(),t.ynx(28),t.TgZ(29,"div",92)(30,"button",93),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw();return t.KtG(s.removePhoneNumberField(r))}),t._UZ(31,"mat-icon",49),t.qZA()(),t.BQk(),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=o.first,r=t.oxw();t.xp6(3),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("type","tel")("formControl",e.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),t.xp6(1),t.Q6J("formControl",e.get("stateCode")),t.xp6(4),t.Oqu(r.customerForm.get("phoneNumbers").value[i].stateCode),t.xp6(1),t.Q6J("value","+535"),t.xp6(4),t.Oqu(t.lcZ(15,26,"celular")),t.xp6(3),t.Oqu("+535"),t.xp6(1),t.Q6J("ngForOf",r.statesCodes)("ngForTrackBy",r.trackByFn),t.xp6(1),t.Q6J("ngIf",e.get("phoneNumber").hasError("minlength")||e.get("phoneNumber").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.get("phoneNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",e.get("stateCode").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("phoneNumber").hasError("required")),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:tag"),t.xp6(1),t.Q6J("formControl",e.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),t.xp6(1),t.Q6J("ngIf",e.get("label").hasError("maxlength")||e.get("label").hasError("minlength")),t.xp6(2),t.Q6J("ngClass",t.VKq(28,ce,a)),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function le(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",94),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addPhoneNumberField())}),t._UZ(1,"mat-icon",49),t.TgZ(2,"span",50),t._uU(3,"Agregar tel\xe9fono"),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus-circle"))}function me(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Correos Electr\xf3nicos"),t.qZA())}function _e(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El correo electr\xf3nicos no posee un formato v\xe1lido. "),t.qZA())}function pe(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El correo electr\xf3nicos es obligatorio. "),t.qZA())}function ge(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Etiqueta"),t.qZA())}function ue(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),t.qZA())}const de=function(n){return{"sm:0 sm:mt-6":n}};function fe(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",95)(2,"mat-form-field",83),t.YNc(3,me,2,0,"mat-label",26),t._UZ(4,"mat-icon",42)(5,"input",96),t.YNc(6,_e,2,0,"mat-error",26),t.YNc(7,pe,2,0,"mat-error",26),t.qZA(),t.TgZ(8,"mat-form-field",90),t.YNc(9,ge,2,0,"mat-label",26),t._UZ(10,"mat-icon",42)(11,"input",91),t.YNc(12,ue,2,0,"mat-error",26),t.qZA(),t.ynx(13),t.TgZ(14,"div",92)(15,"button",97),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw();return t.KtG(s.removeEmailField(r))}),t._UZ(16,"mat-icon",49),t.qZA()(),t.BQk(),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.first;t.xp6(3),t.Q6J("ngIf",i),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(1),t.Q6J("formControl",e.get("email"))("spellcheck",!1),t.xp6(1),t.Q6J("ngIf",e.get("email").hasError("email")),t.xp6(1),t.Q6J("ngIf",e.get("email").hasError("required")),t.xp6(2),t.Q6J("ngIf",i),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:tag"),t.xp6(1),t.Q6J("formControl",e.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),t.xp6(1),t.Q6J("ngIf",e.get("label").hasError("maxlength")||e.get("label").hasError("minlength")),t.xp6(2),t.Q6J("ngClass",t.VKq(15,de,i)),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function xe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div",94),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addEmailField())}),t._UZ(1,"mat-icon",49),t.TgZ(2,"span",50),t._uU(3,"Agregar correo electr\xf3nico"),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("svgIcon","heroicons_solid:plus-circle"))}function he(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El sitio web no presenta un formato v\xe1lido. "),t.qZA())}function Ce(n,o){if(1&n&&t._UZ(0,"img",98),2&n){const e=t.oxw();t.Q6J("src",e.customerForm.get("logoUrl").value,t.LSH)}}function ve(n,o){1&n&&(t.TgZ(0,"div",99),t._uU(1,"Logo"),t.qZA())}function Ze(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"input",101,102),t.NdJ("change",function(){t.CHM(e);const a=t.MAs(2),r=t.oxw(2);return t.KtG(r.uploadImage(a.files,"logoUrl"))}),t.qZA(),t.TgZ(3,"label",103),t._UZ(4,"mat-icon",78),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"))}function be(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",104),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.removeImage("logoUrl"))}),t._UZ(2,"mat-icon",78),t.qZA()()}2&n&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"))}function Te(n,o){if(1&n&&(t.TgZ(0,"div",100),t.YNc(1,Ze,5,3,"div",26),t.YNc(2,be,3,1,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.customerForm.get("logoUrl").value),t.xp6(1),t.Q6J("ngIf",e.customerForm.get("logoUrl").value)}}function Ae(n,o){if(1&n&&t._UZ(0,"img",105),2&n){const e=t.oxw();t.Q6J("src",e.customerForm.get("coverUrl").value,t.LSH)}}function ye(n,o){1&n&&(t.TgZ(0,"div",99),t._uU(1,"Cover"),t.qZA())}function Ie(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"input",106,107),t.NdJ("change",function(){t.CHM(e);const a=t.MAs(2),r=t.oxw(2);return t.KtG(r.uploadImage(a.files,"coverUrl"))}),t.qZA(),t.TgZ(3,"label",108),t._UZ(4,"mat-icon",78),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("multiple",!1)("accept","image/jpeg, image/jpg, image/webp, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"))}function ke(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",104),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.removeImage("coverUrl"))}),t._UZ(2,"mat-icon",78),t.qZA()()}2&n&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"))}function Qe(n,o){if(1&n&&(t.TgZ(0,"div",100),t.YNc(1,Ie,5,3,"div",26),t.YNc(2,ke,3,1,"div",26),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",!e.customerForm.get("coverUrl").value),t.xp6(1),t.Q6J("ngIf",e.customerForm.get("coverUrl").value)}}function Ne(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.createCustomer())}),t._UZ(1,"mat-icon",110),t.TgZ(2,"span",79),t._uU(3,"Guardar"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.customerForm.invalid)("ngClass",t.VKq(3,S,e.customerForm.invalid)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:save")}}function Fe(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",77),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.updateCustomer())}),t._UZ(1,"mat-icon",110),t.TgZ(2,"span",79),t._uU(3,"Actualizar"),t.qZA()()}if(2&n){const e=t.oxw(2);t.Q6J("disabled",e.customerForm.invalid)("ngClass",t.VKq(3,S,e.customerForm.invalid)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:refresh")}}function Je(n,o){if(1&n&&(t.TgZ(0,"div",109),t.YNc(1,Ne,4,5,"button",76),t.YNc(2,Fe,4,5,"button",76),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf","edit"!==e.windowsMode),t.xp6(1),t.Q6J("ngIf","edit"===e.windowsMode)}}const Ue=function(){return["/modules/customers"]},I=function(){return["Ejecutivo"]};let qe=(()=>{class n{constructor(e,i,a,r,s,_,p,h,w,D){this._activatedRoute=e,this._customersService=i,this._changeDetectorRef=a,this._formBuilder=r,this._fuseConfirmationService=s,this._imagesService=_,this._locationService=p,this._router=h,this._snackBar=w,this.store=D,this.selectedCustomer=null,this.windowsMode="new",this.cities=[],this.domainCode="",this.domains=[],this.stateCode="",this.states=[],this.statesCodes=[],this.stateSelected="",this.employees=[],this.currencies=[],this._unsubscribeAll=new k.x}ngOnInit(){this.store.select(F.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.currentMerchant=r}),this.store.select(yt.zd).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.currencies=r}),this.store.select(P.ri).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.employees=r}),this.store.select(N.H5).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.selectedCustomer=r}),this._customersService.domains$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.domains=r,this._changeDetectorRef.markForCheck()}),this._locationService.states$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.states=r,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.statesCodes=r,this._changeDetectorRef.markForCheck()}),this.customerForm=this._formBuilder.group({id:[null],merchantId:[this.currentMerchant.id,[c.kI.required]],commercialId:[null],active:[!0],name:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(255)]],abbr:["",[c.kI.required,c.kI.pattern("^[a-zA-Z0-9]{1,10}$")]],domain:["",[c.kI.required]],nit:["",[c.kI.maxLength(11),c.kI.minLength(11),v.L.onlyNumbersPattern()]],reupp:[],type:[null,[c.kI.required]],address:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(255)]],state:["",[c.kI.required]],city:["",[c.kI.required]],country:[{value:"Cuba",disabled:!0},[c.kI.required]],zip:["",[c.kI.pattern("^[0-9]{5}(?:-[0-9]{4})?$")]],bankAccounts:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),emails:this._formBuilder.array([]),website:["",[c.kI.maxLength(255),c.kI.pattern("^(http://www.|https://www.|http://|https://)?[a-z0-9]+([-.]{1}[a-z0-9]+)*.[a-z]{2,5}")]],description:["",[c.kI.maxLength(1e3)]],logoUrl:[null],coverUrl:[null]}),this.customerForm.get("state").valueChanges.pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this._getCitiesByState(r),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({customerId:r})=>{"new"!==r&&(this.windowsMode="edit"),this._fillCustomerData()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addBankAccount(){const e=this._formBuilder.group({bank:[null,[c.kI.maxLength(255)]],beneficiary:[null,[c.kI.maxLength(255),v.L.onlyAlphabetsWithAccentPattern()]],no:[null,[c.kI.required,c.kI.minLength(16),c.kI.maxLength(24)]],currency:[null],cardType:[""]});this.customerForm.get("bankAccounts").push(e),this._changeDetectorRef.markForCheck()}removeBankAccount(e){this.customerForm.get("bankAccounts").removeAt(e),this._changeDetectorRef.markForCheck()}addEmailField(){const e=this._formBuilder.group({email:["",[c.kI.email,c.kI.maxLength(255)]],label:["",[c.kI.minLength(3),c.kI.maxLength(255)]]});this.customerForm.get("emails").push(e),this._changeDetectorRef.markForCheck()}removeEmailField(e){this.customerForm.get("emails").removeAt(e),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const e=this._formBuilder.group({stateCode:["+535",[c.kI.required]],phoneNumber:["",[c.kI.minLength(7),c.kI.maxLength(7),v.L.onlyNumbersPattern()]],label:["",[c.kI.minLength(3),c.kI.maxLength(255)]]});this.customerForm.get("phoneNumbers").push(e),this._changeDetectorRef.markForCheck()}removePhoneNumberField(e){this.customerForm.get("phoneNumbers").removeAt(e),this._changeDetectorRef.markForCheck()}createCustomer(){let e=this.customerForm.getRawValue();e.phoneNumber=null,e.phoneNumbers.length>0&&(e.phoneNumber=e.phoneNumbers[0]),delete e.phoneNumbers,e.email=null,e.emails.length>0&&(e.email=e.emails[0]),delete e.emails,delete e.id,e=A(e).omitBy(A.isNull).omitBy(A.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear cliente",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._customersService.createCustomer(e).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/crm/customers"))})})}updateCustomer(){let e=this.customerForm.getRawValue();delete e.logoUrl,delete e.coverUrl,e=A(e).omitBy(A.isNull).value(),e.phoneNumber=null,e.phoneNumbers.length>0&&(e.phoneNumber=e.phoneNumbers[0]),delete e.phoneNumbers,e.email=null,e.emails.length>0&&(e.email=e.emails[0]),delete e.emails,this._fuseConfirmationService.open({title:"Actualizar cliente",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._customersService.updateCustomer(e).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigateByUrl("/modules/crm/customers"))})})}uploadImage(e,i){if(!e.length)return;const r=e[0];r.size/1024/1024>1?this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"heroicons_solid:check"}}):!["image/jpeg","image/jpg","image/webp","image/png"].includes(r.type)||this._imagesService.uploadImage("CRM",r).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{this.customerForm.get(i).setValue(s.imageUrl),this._changeDetectorRef.markForCheck(),"edit"===this.windowsMode&&this._customersService.updateCustomerImage(i,{id:this.selectedCustomer.id,imageUrl:s.imageUrl}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(_=>{_&&this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:_.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"heroicons_solid:check"}})}),this._changeDetectorRef.markForCheck()},s=>{console.warn(s)})}removeImage(e){const i=this.customerForm.get(e).value;this._fuseConfirmationService.open({title:"Cuidado",message:`\xbfEst\xe1 seguro que desea eliminar la imagen del  ${"logoUrl"===e?" logo":" cover"}?`,icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{"confirmed"===r&&(this._changeDetectorRef.markForCheck(),this._imagesService.removeImage(i).subscribe(s=>{this.customerForm.get(e).setValue(null),this._customersService.updateCustomerImage(e,{id:this.selectedCustomer.id,imageUrl:null}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(_=>{_&&this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:_.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck()},_=>{console.log(_)})}))})}trackByFn(e,i){return i.id||e}_fillCustomerData(){"new"!==this.windowsMode&&(this.customerForm.get("emails").clear(),this.customerForm.get("phoneNumbers").clear(),this.customerForm.get("bankAccounts").clear(),this._setCustomerDataOnForm(this.selectedCustomer),this._changeDetectorRef.markForCheck())}_setCustomerDataOnForm(e){this.customerForm.patchValue(e),this._getCitiesByState(e.state);const i=[];e.email&&e.email.email&&i.push(this._formBuilder.group({email:[e.email.email,[c.kI.email,c.kI.maxLength(255)]],label:[e.email.label,[c.kI.minLength(3),c.kI.maxLength(255)]]})),i.forEach(s=>{this.customerForm.get("emails").push(s)});const a=[];e.phoneNumber&&e.phoneNumber.phoneNumber&&a.push(this._formBuilder.group({stateCode:[e.phoneNumber.stateCode,[c.kI.required]],phoneNumber:[e.phoneNumber.phoneNumber,[c.kI.minLength(7),c.kI.maxLength(7),v.L.onlyNumbersPattern()]],label:[e.phoneNumber.label,[c.kI.minLength(3),c.kI.maxLength(255)]]})),a.forEach(s=>{this.customerForm.get("phoneNumbers").push(s)});const r=[];e.bankAccounts.length>0&&(e.bankAccounts.forEach(s=>{r.push(this._formBuilder.group({bank:[s.bank,[c.kI.maxLength(255)]],beneficiary:[s.beneficiary,[v.L.onlyAlphabetsWithAccentPattern()]],no:[s.no,[c.kI.required,c.kI.minLength(16),c.kI.maxLength(24)]],currency:[s.currency],cardType:[s.cardType]}))}),r.forEach(s=>{this.customerForm.get("bankAccounts").push(s)}))}_getCitiesByState(e){e!==this.stateSelected&&this._locationService.getCitiesByState(e).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(y.v),t.Y36(t.sBO),t.Y36(c.QS),t.Y36(z.R),t.Y36(at.C),t.Y36(rt.a),t.Y36(u.F0),t.Y36(H.ux),t.Y36(Z.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["crm-customer-details"]],decls:194,vars:100,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-y-auto"],[1,"flex","flex-col","flex-wrap","p-6","sm:flex-row","flex-0","sm:items-center","sm:justify-between","sm:pt-12","sm:px-10","bg-default","dark:bg-transparent"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],[1,"ml-1","text-primary-500","hover:underline",3,"routerLink"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["class","ml-1 text-primary-500",4,"ngIf"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],["class","mt-2 text-3xl font-extrabold leading-tight tracking-tight sm:text-3xl",4,"ngIf"],["class","flex items-center flex-shrink-0 mt-6 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex-auto","p-4","sm:p-6"],[1,"flex","flex-col","flex-auto","min-w-0"],["autocomplete","off",3,"formGroup"],["multi","",1,"w-full","bg-transparent"],[3,"expanded"],[3,"collapsedHeight"],[1,"flex","items-center"],[1,"text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,"sm:col-span-2"],[1,"w-full"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],[4,"ngIf"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"sm:col-span-2","lg:col-span-1"],["matInput","","required","",3,"type","formControlName","maxlength"],["value","natural"],["value","juridica"],["matInput","",3,"type","formControlName","maxlength","minlength"],["matInput","","maxlength","20",1,"mat-fuse-dense",3,"formControlName"],[3,"formControlName"],[3,"value",4,"ngFor","ngForOf"],[1,"flex","flex-col","sm:col-span-2","lg:col-span-1"],[1,"items-start","font-medium"],[1,"mt-1","sm:mt-3",3,"color","formControlName"],[1,"sm:col-span-4"],[1,"w-full","fuse-mat-textarea"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","maxlength","spellcheck"],[1,"text-right"],[1,"pt-8","pb-8","pl-4","pr-4","border-t-2"],[1,"flex","flex-col","space-y-6"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"inline-flex","items-center","px-4","py-2","mt-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],[1,"w-full","fuse-mat-emphasized-affix"],["type","text","matInput","",1,"mat-fuse-dense",3,"formControlName","max"],["matInput","","required","",3,"formControlName","minLength","maxlength"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","border-t-2","gap-y-6","gap-x-6","sm:grid-cols-2","md:grid-cols-4"],[1,"space-y-4"],["class","inline-flex items-center px-4 py-2 mt-2 -ml-4 rounded cursor-pointer group",3,"click",4,"ngIf"],["matInput","",1,"mat-fuse-dense",3,"formControlName"],[1,"grid","w-full","pt-8","pb-8","pl-4","pr-4","overflow-x-auto","border-t-2","gap-y-3","gap-x-6","sm:grid-cols-4"],[1,""],[1,"flex","items-end","flex-auto"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-xl","ring-4","ring-bg-card"],["class","object-cover rounded bg-hover","alt","IMAGEN",3,"src",4,"ngIf"],[1,"absolute","inset-0","z-10","flex","items-center","justify-center","text-white","bg-black","bg-opacity-50"],["class","text-xl mt-15",4,"ngxPermissionsExcept"],["class","absolute inset-0 z-20 flex items-center justify-center",4,"ngxPermissionsExcept"],[1,"sm:col-span-3"],[1,"relative","flex","items-center","justify-center","h-64","overflow-hidden","w-256","rounded-xl","ring-4","ring-bg-card"],["class","object-fill h-full rounded w-256 bg-hover","alt","IMAGEN",3,"src",4,"ngIf"],[1,"flex","flex-col","flex-wrap","justify-end","px-6","pb-10","sm:flex-row","flex-0","sm:items-center","sm:px-10","bg-default","dark:bg-transparent"],["class","flex items-center flex-shrink-0 mt-6 text-right sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"ml-1","text-primary-500"],[1,"mt-2","text-3xl","font-extrabold","leading-tight","tracking-tight","sm:text-3xl"],[1,"flex","items-center","flex-shrink-0","mt-6","sm:mt-0","sm:ml-4"],["class","ml-4 text-white rounded-full bg-primary-500 hover:bg-primary-700 hover:shadow-lg","mat-raised-button","",3,"disabled","ngClass","click",4,"ngIf"],["mat-raised-button","",1,"ml-4","text-white","rounded-full","bg-primary-500","hover:bg-primary-700","hover:shadow-lg",3,"disabled","ngClass","click"],[1,"text-white",3,"svgIcon"],[1,"ml-2","mr-1","text-white"],[3,"value"],[3,"bankAccountForm","first","last","index","currencies","remove"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","","required","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-1","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"inline-flex","items-center","px-4","py-2","mt-2","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","","required","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["alt","IMAGEN",1,"object-cover","rounded","bg-hover",3,"src"],[1,"text-xl","mt-15"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],["id","logo-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["logoFileInput",""],["for","logo-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","cursor-pointer","rounded-xl","hover:bg-hover"],["mat-icon-button","",3,"click"],["alt","IMAGEN",1,"object-fill","h-full","rounded","w-256","bg-hover",3,"src"],["id","cover-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["coverFileInput",""],["for","cover-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","cursor-pointer","rounded-xl","hover:bg-hover"],[1,"flex","items-center","flex-shrink-0","mt-6","text-right","sm:mt-0","sm:ml-4"],[3,"svgIcon"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t._uU(7," Mis Clientes "),t.qZA()(),t.TgZ(8,"div",4),t._UZ(9,"mat-icon",6),t.YNc(10,kt,2,0,"a",7),t.YNc(11,Qt,2,1,"a",7),t.qZA()(),t.TgZ(12,"div",8)(13,"a",9),t._UZ(14,"mat-icon",6),t.TgZ(15,"span",10),t._uU(16,"Regresar"),t.qZA()()()(),t.TgZ(17,"div",11),t.YNc(18,Nt,2,0,"div",12),t.YNc(19,Ft,2,1,"div",12),t.qZA()(),t.YNc(20,qt,3,2,"div",13),t.qZA(),t.TgZ(21,"div",14)(22,"div",15)(23,"form",16)(24,"mat-accordion",17)(25,"mat-expansion-panel",18)(26,"mat-expansion-panel-header",19)(27,"mat-panel-title",20)(28,"div",21),t._uU(29," Informaci\xf3n General "),t.qZA()()(),t.TgZ(30,"div",22)(31,"div",23)(32,"mat-form-field",24)(33,"mat-label"),t._uU(34,"Nombre"),t.qZA(),t._UZ(35,"input",25),t.YNc(36,wt,2,0,"mat-error",26),t.YNc(37,Dt,2,0,"mat-error",26),t.qZA()(),t.TgZ(38,"div",23)(39,"mat-form-field",24)(40,"mat-label"),t._uU(41,"Sector"),t.qZA(),t.TgZ(42,"mat-select",27),t.YNc(43,Lt,2,2,"mat-option",28),t.qZA(),t.TgZ(44,"mat-hint"),t._uU(45,"Nomenclador de la Organizaci\xf3n Internacional del Trabajo OIT"),t.qZA(),t.YNc(46,Yt,2,0,"mat-error",26),t.qZA()(),t.TgZ(47,"mat-form-field",29)(48,"mat-label"),t._uU(49,"Siglas"),t.qZA(),t._UZ(50,"input",30),t.YNc(51,Et,2,0,"mat-error",26),t.YNc(52,Bt,2,0,"mat-error",26),t.qZA(),t.TgZ(53,"div",29)(54,"mat-form-field",24)(55,"mat-label"),t._uU(56,"Personalidad"),t.qZA(),t.TgZ(57,"mat-select",27)(58,"mat-option",31),t._uU(59,"Natural"),t.qZA(),t.TgZ(60,"mat-option",32),t._uU(61,"Jur\xeddica"),t.qZA()(),t.YNc(62,St,2,0,"mat-error",26),t.qZA()(),t.TgZ(63,"div",29)(64,"mat-form-field",24)(65,"mat-label"),t._uU(66,"NIT"),t.qZA(),t._UZ(67,"input",33),t.YNc(68,Ot,2,0,"mat-error",26),t.YNc(69,Mt,2,0,"mat-error",26),t.TgZ(70,"mat-hint")(71,"mat-label"),t._uU(72,"N\xfamero de Identificaci\xf3n Tributaria"),t.qZA()()()(),t.TgZ(73,"mat-form-field",29),t._UZ(74,"input",34),t.TgZ(75,"mat-label"),t._uU(76,"C\xf3digo REUPP"),t.qZA()(),t.TgZ(77,"div",23)(78,"mat-form-field",24)(79,"mat-label"),t._uU(80,"Comercial"),t.qZA(),t.TgZ(81,"mat-select",35),t.YNc(82,$t,2,4,"mat-option",36),t.qZA()()(),t.TgZ(83,"div",37)(84,"span",38),t._uU(85,"Estado"),t.qZA(),t.TgZ(86,"mat-slide-toggle",39),t._uU(87," Activo "),t.qZA()(),t.TgZ(88,"div",40)(89,"mat-form-field",41)(90,"mat-label"),t._uU(91,"Descripci\xf3n del Cliente"),t.qZA(),t._UZ(92,"mat-icon",42)(93,"textarea",43),t.TgZ(94,"mat-hint",44),t._uU(95),t.qZA()()()()(),t.TgZ(96,"mat-expansion-panel")(97,"mat-expansion-panel-header",19)(98,"mat-panel-title",20)(99,"div",21),t._uU(100," Cuentas de banco "),t.qZA()()(),t.TgZ(101,"div",45)(102,"div",46),t.YNc(103,Rt,2,5,"ng-container",47),t.qZA(),t.TgZ(104,"div",48),t.NdJ("click",function(){return i.addBankAccount()}),t._UZ(105,"mat-icon",49),t.TgZ(106,"span",50),t._uU(107," Agregar Cuenta "),t.qZA()()()(),t.TgZ(108,"mat-expansion-panel",18)(109,"mat-expansion-panel-header",19)(110,"mat-panel-title",20)(111,"div",21),t._uU(112," Domicilio "),t.qZA()()(),t.TgZ(113,"div",22)(114,"div",23)(115,"mat-form-field",24)(116,"mat-label"),t._uU(117,"Pa\xeds"),t.qZA(),t.TgZ(118,"mat-select",27)(119,"mat-option",51),t._uU(120,"Cuba"),t.qZA()(),t._UZ(121,"mat-icon",52),t.YNc(122,jt,2,0,"mat-error",26),t.qZA()(),t.TgZ(123,"div",23)(124,"mat-form-field",24)(125,"mat-label"),t._uU(126,"Provincia"),t.qZA(),t._UZ(127,"mat-icon",52),t.TgZ(128,"mat-select",27),t.YNc(129,Pt,2,2,"mat-option",28),t.qZA(),t.YNc(130,zt,2,0,"mat-error",26),t.qZA()(),t.TgZ(131,"div",23)(132,"mat-form-field",24)(133,"mat-label"),t._uU(134,"Municipio"),t.qZA(),t._UZ(135,"mat-icon",52),t.TgZ(136,"mat-select",27),t.YNc(137,Ht,2,2,"mat-option",28),t.qZA(),t.YNc(138,Gt,2,0,"mat-error",26),t.qZA()(),t.TgZ(139,"mat-form-field",53)(140,"mat-label"),t._uU(141,"C\xf3digo Postal"),t.qZA(),t._UZ(142,"input",54),t.YNc(143,Kt,2,0,"mat-error",26),t.qZA(),t.TgZ(144,"div",40)(145,"mat-form-field",41)(146,"mat-label"),t._uU(147,"Direcci\xf3n"),t.qZA(),t._UZ(148,"mat-icon",42)(149,"textarea",55),t.YNc(150,Wt,2,0,"mat-error",26),t.YNc(151,Vt,2,0,"mat-error",26),t.qZA()()()(),t.TgZ(152,"mat-expansion-panel")(153,"mat-expansion-panel-header",19)(154,"mat-panel-title",20)(155,"div",21),t._uU(156," Informaci\xf3n de contacto "),t.qZA()()(),t.TgZ(157,"div",56)(158,"div",23)(159,"div",57),t.YNc(160,se,32,30,"ng-container",47),t.qZA(),t.YNc(161,le,4,1,"div",58),t.qZA(),t.TgZ(162,"div",23)(163,"div",57),t.YNc(164,fe,17,17,"ng-container",47),t.qZA(),t.YNc(165,xe,4,1,"div",58),t.qZA(),t.TgZ(166,"mat-form-field",24),t._UZ(167,"input",59),t.TgZ(168,"mat-label"),t._uU(169,"Sitio Web"),t.qZA(),t._UZ(170,"mat-icon",52),t.YNc(171,he,2,0,"mat-error",26),t.qZA()()(),t.TgZ(172,"mat-expansion-panel")(173,"mat-expansion-panel-header",19)(174,"mat-panel-title",20)(175,"div",21),t._uU(176," Im\xe1genes "),t.qZA()()(),t.TgZ(177,"div",60)(178,"div",61)(179,"div",62)(180,"div",63),t.YNc(181,Ce,1,1,"img",64),t.TgZ(182,"div",65),t.YNc(183,ve,2,0,"div",66),t.qZA(),t.YNc(184,Te,3,2,"div",67),t.qZA()()(),t.TgZ(185,"div",68)(186,"div",62)(187,"div",69),t.YNc(188,Ae,1,1,"img",70),t.TgZ(189,"div",65),t.YNc(190,ye,2,0,"div",66),t.qZA(),t.YNc(191,Qe,3,2,"div",67),t.qZA()()()()()()()()(),t.TgZ(192,"div",71),t.YNc(193,Je,3,2,"div",72),t.qZA()()),2&e&&(t.xp6(6),t.Q6J("routerLink",t.DdM(93,Ue)),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(1),t.Q6J("ngIf","edit"!==i.windowsMode),t.xp6(1),t.Q6J("ngIf","edit"===i.windowsMode),t.xp6(2),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(4),t.Q6J("ngIf","edit"!==i.windowsMode),t.xp6(1),t.Q6J("ngIf","edit"===i.windowsMode),t.xp6(1),t.Q6J("ngxPermissionsExcept",t.DdM(94,I)),t.xp6(3),t.Q6J("formGroup",i.customerForm),t.xp6(2),t.Q6J("expanded",!0),t.xp6(1),t.Q6J("collapsedHeight","56px"),t.xp6(9),t.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("name").hasError("maxlength")||i.customerForm.get("name").hasError("minlength")),t.xp6(5),t.Q6J("formControlName","domain"),t.xp6(1),t.Q6J("ngForOf",i.domains)("ngForTrackBy",i.trackByFn),t.xp6(3),t.Q6J("ngIf",i.customerForm.get("domain").hasError("required")),t.xp6(4),t.Q6J("type","text")("formControlName","abbr")("maxlength",10),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("abbr").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("abbr").hasError("pattern")),t.xp6(5),t.Q6J("formControlName","type"),t.xp6(5),t.Q6J("ngIf",i.customerForm.get("type").hasError("required")),t.xp6(5),t.Q6J("type","text")("formControlName","nit")("maxlength",11)("minlength",11),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("nit").hasError("maxlength")||i.customerForm.get("nit").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("nit").hasError("pattern")),t.xp6(5),t.Q6J("formControlName","reupp"),t.xp6(7),t.Q6J("formControlName","commercialId"),t.xp6(1),t.Q6J("ngForOf",i.employees),t.xp6(4),t.Q6J("color","primary")("formControlName","active"),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:menu-alt-2"),t.xp6(1),t.Q6J("formControlName","description")("rows",5)("maxlength",1e3)("spellcheck",!1),t.xp6(2),t.hij("",(null==i.customerForm.get("description").value?null:i.customerForm.get("description").value.length)||0,"/1000"),t.xp6(2),t.Q6J("collapsedHeight","56px"),t.xp6(6),t.Q6J("ngForOf",i.customerForm.get("bankAccounts").controls)("ngForTrackBy",i.trackByFn),t.xp6(2),t.Q6J("svgIcon","mat_solid:add_circle"),t.xp6(3),t.Q6J("expanded",!0),t.xp6(1),t.Q6J("collapsedHeight","56px"),t.xp6(9),t.Q6J("formControlName","country"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:globe"),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("country").hasError("required")),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:map"),t.xp6(1),t.Q6J("formControlName","state"),t.xp6(1),t.Q6J("ngForOf",i.states)("ngForTrackBy",i.trackByFn),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("state").hasError("required")),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(1),t.Q6J("formControlName","city"),t.xp6(1),t.Q6J("ngForOf",i.cities)("ngForTrackBy",i.trackByFn),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("city").hasError("required")),t.xp6(4),t.Q6J("formControlName","zip")("max",99999),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("zip").hasError("pattern")),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:home"),t.xp6(1),t.Q6J("formControlName","address")("minLength",3)("maxlength",255),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("address").hasError("required")),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("address").hasError("maxlength")||i.customerForm.get("address").hasError("minlength")),t.xp6(2),t.Q6J("collapsedHeight","56px"),t.xp6(7),t.Q6J("ngForOf",i.customerForm.get("phoneNumbers").controls)("ngForTrackBy",i.trackByFn),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("phoneNumbers").value.length<1),t.xp6(3),t.Q6J("ngForOf",i.customerForm.get("emails").controls)("ngForTrackBy",i.trackByFn),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("emails").value.length<1),t.xp6(2),t.Q6J("formControlName","website"),t.xp6(3),t.Q6J("svgIcon","mat_solid:language"),t.xp6(1),t.Q6J("ngIf",i.customerForm.get("website").hasError("pattern")),t.xp6(2),t.Q6J("collapsedHeight","56px"),t.xp6(8),t.Q6J("ngIf",i.customerForm.get("logoUrl").value),t.xp6(2),t.Q6J("ngxPermissionsExcept",t.DdM(95,I)),t.xp6(1),t.Q6J("ngxPermissionsExcept",t.DdM(96,I)),t.xp6(4),t.Q6J("ngIf",i.customerForm.get("coverUrl").value),t.xp6(2),t.Q6J("ngxPermissionsExcept",t.DdM(97,I)),t.xp6(1),t.Q6J("ngxPermissionsExcept",t.DdM(98,I)),t.xp6(2),t.Q6J("ngxPermissionsExcept",t.DdM(99,I)))},dependencies:[u.yS,g.mk,g.sg,g.O5,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.wO,c.nD,c.oH,c.sg,c.u,j.PQ,J.ey,L.lW,Y.pp,Y.ib,Y.yz,Y.yK,Q.Hw,f.TO,f.KE,f.bx,f.hX,f.qo,E.Nt,J.wG,B.gD,B.$L,ct.Rr,G.gM,st.gE,It.w,g.rS],encapsulation:2,changeDetection:0}),n})();var lt=l(86087),K=l(84847),W=l(39646),we=l(56451),V=l(78372),X=l(68675),O=l(63900),C=l(54004),De=l(63844),mt=l(86428),Le=l(20773);const Ye=function(){return["new"]};function Ee(n,o){if(1&n&&(t.TgZ(0,"div",20)(1,"mat-form-field",21),t._UZ(2,"mat-icon",22)(3,"input",23),t.qZA(),t.TgZ(4,"button",24),t._UZ(5,"mat-icon",25),t.TgZ(6,"span",26),t._uU(7,"Nuevo"),t.qZA()()()),2&n){const e=t.oxw();t.xp6(2),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",e.searchInputControl)("autocomplete","off")("placeholder","Buscar clientes"),t.xp6(1),t.Q6J("routerLink",t.DdM(6,Ye)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus")}}function Be(n,o){if(1&n&&t._UZ(0,"img",46),2&n){const e=t.oxw().$implicit;t.Q6J("alt","Foto")("src",e.logoUrl,t.LSH)}}function Se(n,o){1&n&&(t.TgZ(0,"div",47),t._uU(1," SIN FOTO "),t.qZA())}function Oe(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"mat-slide-toggle",48),t.NdJ("change",function(a){t.CHM(e);const r=t.oxw(),s=r.$implicit,_=r.index,p=t.oxw(4);return t.KtG(p.updateCustomerStatus(a,s,_))}),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("checked",e.active)("color","primary")}}function Me(n,o){1&n&&(t.ynx(0),t._UZ(1,"mat-spinner",49),t.BQk()),2&n&&(t.xp6(1),t.Q6J("diameter",20)("color","primary"))}const $e=function(n){return[n]};function Re(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",35)(2,"div",36)(3,"div",37),t.YNc(4,Be,1,2,"img",38),t.YNc(5,Se,2,0,"div",39),t.qZA()(),t.TgZ(6,"div",40),t._uU(7),t.qZA(),t.TgZ(8,"div",40),t._uU(9),t.qZA(),t.TgZ(10,"div",41),t.YNc(11,Oe,2,2,"ng-container",17),t.YNc(12,Me,2,2,"ng-container",17),t.qZA(),t.TgZ(13,"div",42)(14,"button",43),t._UZ(15,"mat-icon",44),t.qZA(),t.TgZ(16,"button",45),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.deleteCustomer(r.id))}),t._UZ(17,"mat-icon",44),t.qZA()()(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(4);t.xp6(4),t.Q6J("ngIf",e.logoUrl),t.xp6(1),t.Q6J("ngIf",!e.logoUrl),t.xp6(2),t.hij(" ",e.name," "),t.xp6(2),t.hij(" ",e.domain," "),t.xp6(2),t.Q6J("ngIf",!(a.isLoading&&a.selectedSlide===i)),t.xp6(1),t.Q6J("ngIf",a.isLoading&&a.selectedSlide===i),t.xp6(2),t.Q6J("routerLink",t.VKq(9,$e,e.id)),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:pencil"),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function je(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Re,18,11,"ng-container",34),t.BQk()),2&n){const e=o.ngIf,i=t.oxw(3);t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}function Pe(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",28)(2,"div",29)(3,"div",30),t._uU(4," Foto "),t.qZA(),t.TgZ(5,"div",31)(6,"span"),t._uU(7," Nombre"),t.qZA()(),t.TgZ(8,"div",31)(9,"span"),t._uU(10,"Sector"),t.qZA()(),t.TgZ(11,"div",32)(12,"span"),t._uU(13,"Activo"),t.qZA()(),t.TgZ(14,"div",33),t._uU(15," Acciones "),t.qZA()(),t.YNc(16,je,2,2,"ng-container",17),t.ALo(17,"async"),t.qZA(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(5),t.Q6J("mat-sort-header","name"),t.xp6(3),t.Q6J("mat-sort-header","domain"),t.xp6(3),t.Q6J("mat-sort-header","active"),t.xp6(5),t.Q6J("ngIf",t.lcZ(17,4,e.customers$))}}function ze(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Pe,18,6,"ng-container",27),t.BQk()),2&n){const e=o.ngIf;t.oxw();const i=t.MAs(31);t.xp6(1),t.Q6J("ngIf",e.length>0)("ngIfElse",i)}}const He=function(n){return{"pointer-events-none":n}},Ge=function(){return[10,25,50,100]};function Ke(n,o){if(1&n&&t._UZ(0,"mat-paginator",50),2&n){const e=t.oxw();t.Q6J("ngClass",t.VKq(6,He,e.isLoading))("length",e.pagination.length)("pageIndex",e.pagination.page)("pageSize",e.pagination.size)("pageSizeOptions",t.DdM(8,Ge))("showFirstLastButtons",!0)}}function We(n,o){if(1&n&&(t.TgZ(0,"div",51),t._uU(1),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.hij(" ",e.searchInputControl.value?"\xa1No se han encontrado clientes!":"\xa1No se ha creado ning\xfan cliente a\xfan!","")}}const Ve=function(){return["Super Administrador"]};let Xe=(()=>{class n{constructor(e,i,a,r,s){this._changeDetectorRef=e,this._customerService=i,this._fuseConfirmationService=a,this._snackBar=r,this.store=s,this.isLoading=!1,this.selectedSlide=null,this.searchInputControl=new c.NI(null),this._unsubscribeAll=new k.x}ngOnInit(){this.customers$=this.store.select(N.p6),this.store.select(F.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.currentMerchant=e}),this.store.select(mt.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,V.b)(300),(0,X.O)(null),(0,O.w)(e=>null!==e?(this.isLoading=!0,this._customerService.findAllCustomers(this.currentMerchant.id,0,10,"name","desc",e)):(0,W.of)()),(0,C.U)(()=>{this.isLoading=!1})).subscribe()}ngAfterViewInit(){this._sort&&this._paginator&&(this._sort.sort({id:"name",start:"desc",disableClear:!0}),this._changeDetectorRef.markForCheck(),this._sort.sortChange.pipe((0,m.R)(this._unsubscribeAll)).subscribe(()=>{this._paginator.pageIndex=0}),(0,we.T)(this._sort.sortChange,this._paginator.page).pipe((0,O.w)(()=>(this.isLoading=!0,this._customerService.findAllCustomers(this.currentMerchant.id,this._paginator.pageIndex,this._paginator.pageSize,this._sort.active,this._sort.direction,""))),(0,C.U)(()=>{this.isLoading=!1})).subscribe())}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}updateCustomerStatus(e,i,a){this.isLoading=!0,this.selectedSlide=a,this._customerService.updateCustomerStatus({id:i.id,active:e.checked}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"mat_solid:done"}}),this.isLoading=!1,this.selectedSlide=-1,this._changeDetectorRef.markForCheck())})}deleteCustomer(e){this._fuseConfirmationService.open({title:"Eliminar Cliente",message:"\xbfEsta seguro que desea Eliminar el Cliente? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().subscribe(a=>{"confirmed"===a&&this._customerService.removeCustomer(e,this.pagination.page,this.pagination.size,"name","desc").pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",appearance:"fill",type:"success"}}),this._changeDetectorRef.markForCheck()})})}trackByFn(e,i){return i.id||e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36(y.v),t.Y36(z.R),t.Y36(H.ux),t.Y36(Z.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["crm-customers"]],viewQuery:function(e,i){if(1&e&&(t.Gf(lt.NW,5),t.Gf(K.YE,5)),2&e){let a;t.iGM(a=t.CRH())&&(i._paginator=a.first),t.iGM(a=t.CRH())&&(i._sort=a.first)}},decls:32,vars:10,consts:[["cdkScrollable","",1,"absolute","inset-0","flex","flex-col","flex-auto","min-w-0","overflow-x-auto","overflow-y-auto","bg-card","dark:bg-transparent","lg:overflow-x-hidden"],[1,"relative","flex","flex-col","px-6","py-8","border-b","sm:flex-row","flex-0","sm:items-center","sm:justify-between","md:px-8"],[1,"flex-1","min-w-0"],[1,"flex-wrap","items-center","hidden","font-medium","sm:flex"],[1,"flex","items-center","ml-1","whitespace-nowrap"],["routerLink","/desktop",1,"ml-1","text-primary-500","hover:underline"],[1,"icon-size-5","text-secondary",3,"svgIcon"],["routerLink","/modules/crm/",1,"ml-1","text-primary-500","hover:underline"],[1,"ml-1","text-primary-500"],[1,"flex","sm:hidden"],[1,"inline-flex","items-center","-ml-1.5","text-secondary","font-medium",3,"routerLink"],[1,"ml-1"],[1,"mt-2"],[1,"mt-2","text-2xl","font-extrabold","leading-tight","tracking-tight","sm:text-2xl"],["class","flex flex-wrap items-center mt-2 shrink-0 sm:mt-0 sm:ml-4",4,"ngxPermissionsExcept"],[1,"flex","flex-auto"],[1,"flex","flex-col","justify-between","flex-auto"],[4,"ngIf"],["class","z-10 border-b sm:inset-x-0 sm:bottom-0 sm:border-t sm:border-b-0 bg-gray-50 dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons",4,"ngIf"],["noCustomers",""],[1,"flex","flex-wrap","items-center","mt-2","shrink-0","sm:mt-0","sm:ml-4"],[1,"mt-4","mr-4","sm:mt-0","fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","min-w-64"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["mat-raised-button","",1,"mt-4","text-white","sm:mt-0","bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","text-white","sm:block"],[4,"ngIf","ngIfElse"],[1,"grid"],["matSort","","matSortDisableClear","",1,"sticky","top-0","z-10","grid","gap-4","px-6","py-4","font-semibold","shadow","md:px-8","text-md","text-secondary","bg-gray-50","dark:bg-black","dark:bg-opacity-5","customers-table"],[1,"text-center"],[3,"mat-sort-header"],[1,"flex","items-center","justify-center",3,"mat-sort-header"],[1,"pr-4","text-right"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"grid","items-center","gap-4","px-6","py-3","border-b","md:px-8","customers-table"],[1,"items-center"],[1,"relative","flex","items-center","justify-center","w-12","h-12","mr-6","overflow-hidden","border","rounded","flex-0"],["class","w-8",3,"alt","src",4,"ngIf"],["class","flex items-center justify-center w-full h-full text-xs font-semibold leading-none text-center uppercase",4,"ngIf"],[1,"truncate"],[1,"flex","justify-center","mr-4","text-center"],[1,"flex","flex-row","justify-end","gap-2"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"routerLink"],[1,"icon-size-5",3,"svgIcon"],["mat-stroked-button","",1,"px-2","leading-6","min-w-10","min-h-7","h-7",3,"click"],[1,"w-8",3,"alt","src"],[1,"flex","items-center","justify-center","w-full","h-full","text-xs","font-semibold","leading-none","text-center","uppercase"],[3,"checked","color","change"],[3,"diameter","color"],[1,"z-10","border-b","sm:inset-x-0","sm:bottom-0","sm:border-t","sm:border-b-0","bg-gray-50","dark:bg-transparent",3,"ngClass","length","pageIndex","pageSize","pageSizeOptions","showFirstLastButtons"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"div",3)(5,"div",4)(6,"a",5),t._uU(7,"Inicio"),t.qZA()(),t.TgZ(8,"div",4),t._UZ(9,"mat-icon",6),t.TgZ(10,"a",7),t._uU(11,"CRM"),t.qZA()(),t.TgZ(12,"div",4),t._UZ(13,"mat-icon",6),t.TgZ(14,"a",8),t._uU(15,"Clientes"),t.qZA()()(),t.TgZ(16,"div",9)(17,"a",10),t._UZ(18,"mat-icon",6),t.TgZ(19,"span",11),t._uU(20,"Regresar"),t.qZA()()()(),t.TgZ(21,"div",12)(22,"div",13),t._uU(23," Clientes "),t.qZA()()(),t.YNc(24,Ee,8,7,"div",14),t.qZA(),t.TgZ(25,"div",15)(26,"div",16),t.YNc(27,ze,2,2,"ng-container",17),t.ALo(28,"async"),t.YNc(29,Ke,1,9,"mat-paginator",18),t.YNc(30,We,2,1,"ng-template",null,19,t.W1O),t.qZA()()()),2&e&&(t.xp6(9),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:chevron-right"),t.xp6(4),t.Q6J("routerLink","./.."),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:chevron-left"),t.xp6(6),t.Q6J("ngxPermissionsExcept",t.DdM(9,Ve)),t.xp6(3),t.Q6J("ngIf",t.lcZ(28,7,i.customers$)),t.xp6(2),t.Q6J("ngIf",i.pagination.length>0))},dependencies:[u.rH,u.yS,g.mk,g.sg,g.O5,c.Fj,c.JJ,c.oH,j.PQ,L.lW,Q.Hw,f.KE,f.qo,E.Nt,lt.NW,Le.Ou,ct.Rr,K.YE,K.nU,st.gE,g.Ov],encapsulation:2,data:{animation:De.L},changeDetection:0}),n})();var _t=l(14232),tn=l(90810),en=l(84271);const nn=[{path:"",component:At},{path:"customers",component:Xe,resolve:{customers:_t.u4}},{path:"customers/:customerId",component:qe,resolve:{currencies:tn.Y,employee:en.HB,customer:_t.ug}}];var pt=l(29685);let on=(()=>{class n{constructor(){}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["contacts"]],decls:1,vars:0,template:function(e,i){1&e&&t._UZ(0,"router-outlet")},dependencies:[u.lC],encapsulation:2,changeDetection:0}),n})();const gt=n=>n.contacts,an=(0,Z.P1)(gt,n=>n.contact),rn=(0,Z.P1)(gt,n=>n.contacts),ut=n=>n.clients,cn=(0,Z.P1)(ut,n=>n.client),sn=(0,Z.P1)(ut,n=>n.clients);var d=l(64703),ln=l(54968),mn=l(39300),M=l(96682),_n=l(86954),pn=l(83821),dt=l(70262),b=l(18505),gn=l(62843),$=l(75714),T=l(33921);const un=T.Ps`
    mutation CreateContact($createContactInput: CreateContactInput!) {
        createContact(createContactInput: $createContactInput) {
            ok,
            message,

            contact {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                idNumber,
                customerId,

                chargeId,

                customer {
                    id,
                    name,
                }

                charge {
                    id
                    name
                },

                emails {
                    email,
                    label
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber,
                    label
                },
                address,
                city,
                state,
                country,
                description,
                imageUrl
            }
        }
    }
`,dn=T.Ps`
    query FindAllContacts($merchantId: String!, $page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        findAllContacts(merchantId: $merchantId, page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            contacts {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                customerId,
                chargeId,

                charge {
                    id
                    name
                },

                customer {
                    id,
                    name
                }

                emails {
                    email,
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber
                },

                imageUrl
            }
        }
    }
`,fn=T.Ps`
    query FindFullContacts($page: Int, $size: Int, $sort: String, $order: Order, $search: String ) {
        findFullContacts(page: $page, size: $size, sort: $sort, order: $order, search: $search ) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            fullContacts {
                id,
                name,
                lastname1
                imageUrl,
                email,
                phoneNumber,
                type,
            }
        }
    }
`,xn=T.Ps`
    query FindContactById($contactId: String!) {
        findContactById(id: $contactId ) {
            ok,
            message,

            contact {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                idNumber,
                customerId,

                chargeId,

                customer {
                    id,
                    name,
                    coverUrl
                }

                charge {
                    id,
                    name
                }

                emails {
                    email,
                    label
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber,
                    label
                },
                address,
                city,
                state,
                country,
                description,
                imageUrl
            }
        }
    }
`,hn=T.Ps`
    mutation UpdateContact($updateContactInput: UpdateContactInput!) {
        updateContact(updateContactInput: $updateContactInput) {
            ok,
            message,

            contact {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                idNumber,
                customerId,

                chargeId,

                customer {
                    id
                    name
                }

                charge {
                    id
                    name
                }

                emails {
                    email,
                    label
                },

                phoneNumbers {
                    stateCode,
                    phoneNumber,
                    label
                },
                address,
                city,
                state,
                country,
                description,
                imageUrl
            }
        }
    }
`,Cn=T.Ps`
    mutation UpdateContactImage($updateEntityImageInput: UpdateEntityImageInput!) {
        updateContactImage(updateEntityImageInput: $updateEntityImageInput) {
            ok,
            message
        }
    }
`,vn=T.Ps`
    mutation RemoveContact($contactId: String!) {
        removeContact(id: $contactId) {
            ok,
            message,

            pagination {
                length,
                size,
                page,
                lastPage,
                startIndex,
                endIndex
            },

            contacts {
                id,
                merchantId,
                name,
                lastname1,
                lastname2,
                customerId,
                chargeId,
                imageUrl
            }
        }
    }
`;let R=(()=>{class n{constructor(e,i){this.apolloProvider=e,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}createContact(e){return this._apollo.mutate({mutation:un,variables:{createContactInput:e},errorPolicy:"all"}).pipe((0,C.U)(({data:i})=>i?i.createContact:null),(0,b.b)(i=>{i&&(this.store.dispatch((0,d.rE)({contact:i.contact})),this.store.dispatch((0,d.sy)({contact:i.contact})))}))}findAllContacts(e,i=0,a=10,r="name",s="asc",_=null,p=!1){return this._apollo.query({query:dn,variables:{merchantId:e,page:i,size:a,sort:r,order:s,search:_},errorPolicy:"all"}).pipe((0,C.U)(({data:h})=>h?h.findAllContacts:null),(0,b.b)(h=>{h&&(this.store.dispatch(p?(0,d.MU)({contacts:h.contacts}):(0,d.WT)({contacts:h.contacts})),this.store.dispatch((0,$.Jr)({pagination:h.pagination})))}))}findFullContacts(e=0,i=10,a="name",r="asc",s=null,_=!1){return this._apollo.query({query:fn,variables:{page:e,size:i,sort:a,order:r,search:s},errorPolicy:"all"}).pipe((0,C.U)(({data:p})=>p?p.findFullContacts:null),(0,b.b)(p=>{p&&(this.store.dispatch(_?(0,d.MU)({contacts:p.fullContacts}):(0,d.WT)({contacts:p.fullContacts})),this.store.dispatch((0,$.Jr)({pagination:p.pagination})))}))}findContactById(e){return this._apollo.query({query:xn,variables:{contactId:e},errorPolicy:"all"}).pipe((0,C.U)(({data:i})=>i?i.findContactById:null),(0,b.b)(i=>{i&&this.store.dispatch((0,d.sy)({contact:i.contact}))}))}updateContact(e){return this._apollo.mutate({mutation:hn,variables:{updateContactInput:e},errorPolicy:"all"}).pipe((0,C.U)(({data:i})=>i?i.updateContact:null),(0,b.b)(i=>{i&&(this.store.dispatch((0,d.Tk)({contact:i.contact})),this.store.dispatch((0,d.sy)({contact:i.contact})))}))}updateContactImage(e){return this._apollo.mutate({mutation:Cn,variables:{updateEntityImageInput:e},errorPolicy:"all"}).pipe((0,C.U)(({data:i})=>i?i.updateContactImage:null),(0,b.b)(i=>{i&&this.store.dispatch((0,d.E)(e))}))}removeContact(e,i=0,a=10,r="name",s="desc",_=null){return this._apollo.mutate({mutation:vn,variables:{contactId:e,page:i,size:a,sort:r,order:s,search:_},errorPolicy:"all"}).pipe((0,C.U)(({data:p})=>p?p.removeContact:null),(0,b.b)(p=>{p&&(this.store.dispatch((0,d.zY)({id:e})),this.store.dispatch((0,$.Jr)({pagination:p.pagination})))}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T._M),t.LFG(Z.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var tt=l(91172);const Zn=T.Ps`
    query FindAllClients($offset: Int, $limit: Int, $sort: String, $order: Order, $search: String) {
        findAllClients(offset: $offset, limit: $limit, sort: $sort, order: $order, search: $search) {
            ok
            message

            pagination {
                length
                size
                page
            }

            clients {
                id
                active
                avatar
                name
                lastname1
                lastname2
                fullname
                username
                email
                phone
                gender
                idNumber
                birthday
                age
                address
                state
                city
                town
                country
                zip
            }
        }
    }
`,bn=T.Ps`
    query FindClientById($findClientById: String!) {
        findClientById(id: $findClientById) {
            ok
            message

            client {
                id
                active
                avatar
                name
                lastname1
                lastname2
                fullname
                username
                email
                phone
                gender
                idNumber
                birthday
                age
                address
                state
                city
                town
                country
                zip

            }
        }
    }
`;let et=(()=>{class n{constructor(e,i){this.apolloProvider=e,this.store=i,this._apollo=this.apolloProvider.use("BALANC")}findAllClients(e=1,i=10,a="name",r="asc",s=null,_=!1){return this._apollo.query({query:Zn,variables:{offset:i*(e-1),limit:i,sort:a,order:r,search:s},errorPolicy:"all"}).pipe((0,C.U)(({data:p})=>p?p.findAllClients:null),(0,b.b)(p=>{p&&(this.store.dispatch(_?(0,M.hv)({clients:p.clients}):(0,M.h_)({clients:p.clients})),this.store.dispatch((0,$.Jr)({pagination:p.pagination})))}))}findClientById(e){return this._apollo.query({query:bn,variables:{findClientById:e},errorPolicy:"all"}).pipe((0,C.U)(({data:i})=>i?i.findClientById:null),(0,b.b)(i=>{i&&this.store.dispatch((0,M.UY)({client:i.client}))}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(T._M),t.LFG(Z.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ft=(()=>{class n{constructor(e,i,a,r,s,_){this._contactsService=e,this._customersService=i,this._employeesService=a,this._clientsService=r,this._router=s,this.store=_,this.store.select(F.Qs).subscribe(p=>{this.merchant=p})}resolve(e,i){if(this.merchant){let a;switch(n.selectedFilter.title){case"Jur\xeddicos":a=this._customersService.findAllCustomers(this.merchant.id);break;case"Empleados":a=this._employeesService.findAllEmployees(this.merchant.id);break;case"Contactos":a=this._contactsService.findAllContacts(this.merchant.id);break;case"Naturales":a=this._clientsService.findAllClients();break;case"Todos":a=this._contactsService.findFullContacts()}return a.pipe((0,dt.K)(r=>this._router.navigateByUrl("/desktop")),(0,b.b)(r=>{r||this._router.navigateByUrl("/desktop")}))}return null}}return n.selectedFilter={title:"Todos",name:"contactos"},n.\u0275fac=function(e){return new(e||n)(t.LFG(R),t.LFG(y.v),t.LFG(tt.M),t.LFG(et),t.LFG(u.F0),t.LFG(Z.yh))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Tn=(()=>{class n{constructor(e,i,a,r,s){this._contactsService=e,this._customersService=i,this._employeesService=a,this._clientsService=r,this._router=s}resolve(e,i){const a=e.params.entity,r=e.params.id;if("new"===r)return null;const s=i.url.split("/").slice(0,-2).join("/");let _;switch(a){case"customer":_=this._customersService.findCustomerById(r);break;case"employee":_=this._employeesService.findEmployeeById(r);break;case"contact":_=this._contactsService.findContactById(r);break;case"client":_=this._clientsService.findClientById(r);break;default:this._router.navigateByUrl(s)}return _.pipe((0,dt.K)(p=>(this._router.navigateByUrl(s),(0,gn._)(p))),(0,b.b)(p=>{p||this._router.navigateByUrl(s)}))}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(R),t.LFG(y.v),t.LFG(tt.M),t.LFG(et),t.LFG(u.F0))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var An=l(94880),xt=l(91079),ht=l(69832),nt=l(2638),Ct=l(46368);const yn=["matDrawer"];function In(n,o){if(1&n&&(t.ynx(0),t._uU(1),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",e.pagination.length," ")}}const kn=function(n,o,e){return{"=0":n,"=1":o,other:e}};function Qn(n,o){if(1&n&&(t.TgZ(0,"div",28),t.YNc(1,In,2,1,"ng-container",19),t._uU(2),t.ALo(3,"i18nPlural"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.pagination.length>0),t.xp6(1),t.hij(" ",t.xi3(3,2,e.pagination.length,t.kEZ(5,kn,"Sin "+e.selectedFilter.name,e.selectedFilter.name.replace("s",""),e.selectedFilter.name))," ")}}function Nn(n,o){if(1&n&&(t.TgZ(0,"div",25)(1,"div",26),t._uU(2,"Contactos"),t.qZA(),t.YNc(3,Qn,4,9,"div",27),t.qZA()),2&n){const e=t.oxw();t.xp6(3),t.Q6J("ngIf",e.pagination&&!e.isDrawerOpen)}}function Fn(n,o){if(1&n&&(t.TgZ(0,"span",33),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("(",e.pagination.length,")")}}function Jn(n,o){if(1&n&&(t.TgZ(0,"span",34),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij("(",e.pagination.length,")")}}function Un(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-button-toggle",29)(2,"span",30),t._uU(3),t.qZA(),t.YNc(4,Fn,2,1,"span",31),t.YNc(5,Jn,2,1,"span",32),t.qZA(),t.BQk()),2&n){const e=o.$implicit,i=t.oxw();t.xp6(1),t.Q6J("value",e)("matTooltip",e.tooltip),t.xp6(2),t.Oqu(e.title),t.xp6(1),t.Q6J("ngIf",e===i.selectedFilter&&i.pagination),t.xp6(1),t.Q6J("ngIf",e===i.selectedFilter&&i.isDrawerOpen&&i.pagination)}}function qn(n,o){if(1&n&&(t.TgZ(0,"mat-option",39),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function wn(n,o){if(1&n&&(t.TgZ(0,"div",5)(1,"mat-form-field",14),t._UZ(2,"mat-icon",15)(3,"input",35),t.TgZ(4,"mat-autocomplete",36,37),t.YNc(6,qn,2,2,"mat-option",38),t.ALo(7,"async"),t.qZA()()()),2&n){const e=t.MAs(5),i=t.oxw();t.xp6(2),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",i.customerControl)("type","text")("matAutocomplete",e)("placeholder","Filtrar por cliente"),t.xp6(1),t.Q6J("displayWith",i.displayFn.bind(i)),t.xp6(2),t.Q6J("ngForOf",t.lcZ(7,7,i.filteredCustomers))}}const Dn=function(){return["./contact/new"]};function Ln(n,o){1&n&&(t.TgZ(0,"button",40),t._UZ(1,"mat-icon",41),t.TgZ(2,"span",42),t._uU(3,"Nuevo"),t.qZA()()),2&n&&(t.Q6J("routerLink",t.DdM(3,Dn))("color","primary"),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:plus"))}function Yn(n,o){1&n&&t.GkF(0)}function En(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Yn,1,0,"ng-container",43),t.BQk()),2&n){t.oxw();const e=t.MAs(34);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Bn(n,o){1&n&&t.GkF(0)}function Sn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Bn,1,0,"ng-container",43),t.BQk()),2&n){t.oxw();const e=t.MAs(32);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function On(n,o){1&n&&t.GkF(0)}function Mn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,On,1,0,"ng-container",43),t.BQk()),2&n){t.oxw();const e=t.MAs(30);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function $n(n,o){1&n&&t.GkF(0)}function Rn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,$n,1,0,"ng-container",43),t.BQk()),2&n){t.oxw();const e=t.MAs(28);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function jn(n,o){1&n&&t.GkF(0)}function Pn(n,o){if(1&n&&(t.ynx(0),t.YNc(1,jn,1,0,"ng-container",43),t.BQk()),2&n){t.oxw();const e=t.MAs(26);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function zn(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",48),t._UZ(2,"div",49),t.qZA(),t.TgZ(3,"div",50),t._UZ(4,"div"),t.TgZ(5,"div",51)(6,"span",52),t._uU(7,"Nombre"),t.qZA()(),t.TgZ(8,"div",53)(9,"span",54),t._uU(10,"Tel\xe9fono"),t.qZA()(),t.TgZ(11,"div",53)(12,"span",54),t._uU(13,"Correo electr\xf3nico"),t.qZA()()(),t.BQk())}function Hn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function Gn(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",61),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function Kn(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",62),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function Wn(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.phoneNumber)}}function Vn(n,o){if(1&n&&(t.TgZ(0,"div",63),t.YNc(1,Wn,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function Xn(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.email,"")}}function to(n,o){if(1&n&&(t.TgZ(0,"div",63),t.YNc(1,Xn,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.email)}}const U=function(n,o){return{"hover:bg-gray-100 dark:hover:bg-hover":n,"bg-primary-50 dark:bg-hover":o}};function eo(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Hn,4,3,"ng-container",19),t.TgZ(2,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.selectItem(r,r.type))}),t.TgZ(3,"div",56),t.YNc(4,Gn,2,1,"ng-container",19),t.YNc(5,Kn,4,3,"ng-container",19),t.qZA(),t.TgZ(6,"div",57)(7,"span",58),t._uU(8),t.qZA()(),t.YNc(9,Vn,2,1,"div",59),t.YNc(10,to,2,1,"div",59),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0===i||e.name.charAt(0)!==a.fullContacts[i-1].name.charAt(0)),t.xp6(1),t.Q6J("ngClass",t.WLB(8,U,!a.selectedItem||a.selectedItem.id!==e.id,a.selectedItem&&a.selectedItem.id===e.id)),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",!e.imageUrl),t.xp6(3),t.AsE(" ",e.name," ",e.lastname1," "),t.xp6(1),t.Q6J("ngIf",!a.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!a.isDrawerOpen)}}function no(n,o){if(1&n&&(t.ynx(0),t.YNc(1,zn,14,0,"ng-container",19),t.YNc(2,eo,11,11,"ng-container",47),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isDrawerOpen),t.xp6(1),t.Q6J("ngForOf",e.fullContacts)("ngForTrackBy",e.trackByFn)}}function oo(n,o){1&n&&(t.TgZ(0,"div",66),t._uU(1," No se han encontrado contactos!"),t.qZA())}function io(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,no,3,3,"ng-container",45),t.YNc(2,oo,2,0,"ng-template",null,46,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.fullContacts.length)("ngIfElse",e)}}function ao(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",48),t._UZ(2,"div",49),t.qZA(),t.TgZ(3,"div",50),t._UZ(4,"div"),t.TgZ(5,"div",51)(6,"span",52),t._uU(7,"Nombre"),t.qZA()(),t.TgZ(8,"div",53)(9,"span",54),t._uU(10,"Tel\xe9fono"),t.qZA()(),t.TgZ(11,"div",53)(12,"span",54),t._uU(13,"Correo electr\xf3nico"),t.qZA()()(),t.BQk())}function ro(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function co(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",68),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.avatar,t.LSH)}}function so(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",62),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function lo(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.Oqu(e.phone)}}function mo(n,o){if(1&n&&(t.TgZ(0,"div",63),t.YNc(1,lo,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.phone)}}function _o(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.email,"")}}function po(n,o){if(1&n&&(t.TgZ(0,"div",63),t.YNc(1,_o,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.email)}}function go(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,ro,4,3,"ng-container",19),t.TgZ(2,"a",55),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.selectItem(r,"client"))}),t.TgZ(3,"div",56),t.YNc(4,co,2,1,"ng-container",19),t.YNc(5,so,4,3,"ng-container",19),t.qZA(),t.TgZ(6,"div",57)(7,"span",58),t._uU(8),t.qZA()(),t.YNc(9,mo,2,1,"div",59),t.YNc(10,po,2,1,"div",59),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(2).ngIf,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===i||e.name.charAt(0)!==a[i-1].name.charAt(0)),t.xp6(1),t.Q6J("ngClass",t.WLB(9,U,!r.selectedItem||r.selectedItem.id!==e.id,r.selectedItem&&r.selectedItem.id===e.id)),t.xp6(2),t.Q6J("ngIf",e.avatar),t.xp6(1),t.Q6J("ngIf",!e.avatar),t.xp6(3),t.lnq(" ",e.name," ",e.lastname1," ",e.lastname2," "),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen)}}function uo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,ao,14,0,"ng-container",19),t.YNc(2,go,11,12,"ng-container",47),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!i.isDrawerOpen),t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}function fo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,uo,3,3,"ng-container",45),t.BQk()),2&n){const e=o.ngIf;t.oxw();const i=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",i)}}function xo(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.searchInputControl.value?"\xa1No se han encontrado clients!":"\xa1No le ha comprado un cliente a\xfan!"," ")}}function ho(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,fo,2,2,"ng-container",19),t.ALo(2,"async"),t.YNc(3,xo,2,1,"ng-template",null,67,t.W1O),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.clients$))}}function Co(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",48),t._UZ(2,"div",49),t.qZA(),t.TgZ(3,"div",70),t._UZ(4,"div"),t.TgZ(5,"div",51)(6,"span",52),t._uU(7,"Nombre/Abreviaturas"),t.qZA()(),t.TgZ(8,"div",53)(9,"span",54),t._uU(10,"Cuenta bancaria"),t.qZA()(),t.TgZ(11,"div",53)(12,"span",54),t._uU(13,"Tel\xe9fono"),t.qZA()(),t.TgZ(14,"div",53)(15,"span",54),t._uU(16,"Correo electr\xf3nico"),t.qZA()()(),t.BQk())}function vo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function Zo(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",75),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.logoUrl,t.LSH)}}function bo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",62),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function To(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.bankAccounts[0].no,"")}}function Ao(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,To,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.bankAccounts&&e.bankAccounts.length>0)}}function yo(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.phoneNumber.stateCode," ",e.phoneNumber.phoneNumber,"")}}function Io(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,yo,2,2,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.phoneNumber)}}function ko(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.email.email,"")}}function Qo(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,ko,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.email)}}const No=function(n){return{"col-span-3":n}};function Fo(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,vo,4,3,"ng-container",19),t.TgZ(2,"a",71),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.selectItem(r,"customer"))}),t.TgZ(3,"div",56),t.YNc(4,Zo,2,1,"ng-container",19),t.YNc(5,bo,4,3,"ng-container",19),t.qZA(),t.TgZ(6,"div",72)(7,"div",58),t._uU(8),t.qZA(),t.TgZ(9,"div",73),t._uU(10),t.qZA()(),t.YNc(11,Ao,2,1,"div",74),t.YNc(12,Io,2,1,"div",74),t.YNc(13,Qo,2,1,"div",74),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(2).ngIf,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===i||e.name.charAt(0)!==a[i-1].name.charAt(0)),t.xp6(1),t.Q6J("ngClass",t.WLB(10,U,!r.selectedItem||r.selectedItem.id!==e.id,r.selectedItem&&r.selectedItem.id===e.id)),t.xp6(2),t.Q6J("ngIf",e.logoUrl),t.xp6(1),t.Q6J("ngIf",!e.logoUrl),t.xp6(1),t.Q6J("ngClass",t.VKq(13,No,r.isDrawerOpen)),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij(" ",e.abbr,""),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen)}}function Jo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Co,17,0,"ng-container",19),t.YNc(2,Fo,14,15,"ng-container",47),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!i.isDrawerOpen),t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}function Uo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Jo,3,3,"ng-container",45),t.BQk()),2&n){const e=o.ngIf;t.oxw();const i=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",i)}}function qo(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.searchInputControl.value?"\xa1No se han encontrado clientes!":"\xa1No se ha creado ning\xfan cliente a\xfan!"," ")}}function wo(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,Uo,2,2,"ng-container",19),t.ALo(2,"async"),t.YNc(3,qo,2,1,"ng-template",null,69,t.W1O),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.customers$))}}function Do(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",48),t._UZ(2,"div",49),t.qZA(),t.TgZ(3,"div",78),t._UZ(4,"div"),t.TgZ(5,"div",51)(6,"span",52),t._uU(7,"Nombre/Cargo"),t.qZA()(),t.TgZ(8,"div",53)(9,"span",54),t._uU(10,"Cuenta bancaria"),t.qZA()(),t.TgZ(11,"div",53)(12,"span",54),t._uU(13,"Tel\xe9fono"),t.qZA()(),t.TgZ(14,"div",53)(15,"span",54),t._uU(16,"Correo electr\xf3nico"),t.qZA()()(),t.BQk())}function Lo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function Yo(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",82),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function Eo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",62),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function Bo(n,o){if(1&n&&(t.TgZ(0,"div",83),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.Q6J("matTooltip","Cargo"),t.xp6(1),t.hij(" ",e.charge.name,"")}}function So(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.bankAccounts[0].no,"")}}function Oo(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,So,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.bankAccounts&&e.bankAccounts.length>0)}}function Mo(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.phoneNumbers[0].stateCode," ",e.phoneNumbers[0].phoneNumber,"")}}function $o(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,Mo,2,2,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.phoneNumbers.length>0)}}function Ro(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.emails[0].email,"")}}function jo(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,Ro,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.emails.length>0)}}function Po(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Lo,4,3,"ng-container",19),t.TgZ(2,"a",79),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(4);return t.KtG(s.selectItem(r,"employee"))}),t.TgZ(3,"div",56),t.YNc(4,Yo,2,1,"ng-container",19),t.YNc(5,Eo,4,3,"ng-container",19),t.qZA(),t.TgZ(6,"div",80)(7,"div",58),t._uU(8),t.qZA(),t.YNc(9,Bo,2,2,"div",81),t.qZA(),t.YNc(10,Oo,2,1,"div",74),t.YNc(11,$o,2,1,"div",74),t.YNc(12,jo,2,1,"div",74),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(2).ngIf,r=t.oxw(2);t.xp6(1),t.Q6J("ngIf",0===i||e.name.charAt(0)!==a[i-1].name.charAt(0)),t.xp6(1),t.Q6J("ngClass",t.WLB(11,U,!r.selectedItem||r.selectedItem.id!==e.id,r.selectedItem&&r.selectedItem.id===e.id)),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",!e.imageUrl),t.xp6(3),t.lnq("",e.name," ",e.lastname1," ",e.lastname2,""),t.xp6(1),t.Q6J("ngIf",e.charge),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!r.isDrawerOpen)}}function zo(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Do,17,0,"ng-container",19),t.YNc(2,Po,13,14,"ng-container",47),t.BQk()),2&n){const e=t.oxw().ngIf,i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!i.isDrawerOpen),t.xp6(1),t.Q6J("ngForOf",e)("ngForTrackBy",i.trackByFn)}}function Ho(n,o){if(1&n&&(t.ynx(0),t.YNc(1,zo,3,3,"ng-container",45),t.BQk()),2&n){const e=o.ngIf;t.oxw();const i=t.MAs(4);t.xp6(1),t.Q6J("ngIf",e.length)("ngIfElse",i)}}function Go(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.searchInputControl.value?"\xa1No se han encontrado empleados!":"\xa1No se ha creado ning\xfan empleado a\xfan!"," ")}}function Ko(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,Ho,2,2,"ng-container",19),t.ALo(2,"async"),t.YNc(3,Go,2,1,"ng-template",null,77,t.W1O),t.qZA()),2&n){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",t.lcZ(2,1,e.employees$))}}function Wo(n,o){1&n&&(t.ynx(0),t.TgZ(1,"div",48),t._UZ(2,"div",49),t.qZA(),t.TgZ(3,"div",84),t._UZ(4,"div"),t.TgZ(5,"div",51)(6,"span",52),t._uU(7,"Nombre/Cargo"),t.qZA()(),t.TgZ(8,"div",53)(9,"span",54),t._uU(10,"Cliente I"),t.qZA()(),t.TgZ(11,"div",53)(12,"span",54),t._uU(13,"Tel\xe9fono"),t.qZA()(),t.TgZ(14,"div",53)(15,"span",54),t._uU(16,"Correo electr\xf3nico"),t.qZA()()(),t.BQk())}function Vo(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",60),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function Xo(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",88),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("src",e.imageUrl,t.LSH)}}function ti(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",62),t._uU(2),t.ALo(3,"initials"),t.qZA(),t.BQk()),2&n){const e=t.oxw().$implicit;t.xp6(2),t.hij(" ",t.lcZ(3,1,e.name)," ")}}function ei(n,o){if(1&n&&(t.TgZ(0,"div",73),t._uU(1),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.hij(" ",e.charge.name,"")}}function ni(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.customer.name,"")}}function oi(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,ni,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.customer)}}function ii(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.AsE(" ",e.phoneNumbers[0].stateCode," ",e.phoneNumbers[0].phoneNumber,"")}}function ai(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,ii,2,2,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.phoneNumbers.length>0)}}function ri(n,o){if(1&n&&(t.TgZ(0,"span",65),t._uU(1),t.qZA()),2&n){const e=t.oxw(2).$implicit;t.xp6(1),t.hij(" ",e.emails[0].email,"")}}function ci(n,o){if(1&n&&(t.TgZ(0,"div",76),t.YNc(1,ri,2,1,"span",64),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngIf",e.emails.length>0)}}function si(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.YNc(1,Vo,4,3,"ng-container",19),t.TgZ(2,"a",85),t.NdJ("click",function(){const r=t.CHM(e).$implicit,s=t.oxw(3);return t.KtG(s.selectItem(r,"contact"))}),t.TgZ(3,"div",56),t.YNc(4,Xo,2,1,"ng-container",19),t.YNc(5,ti,4,3,"ng-container",19),t.qZA(),t.TgZ(6,"div",86)(7,"div",58),t._uU(8),t.qZA(),t.YNc(9,ei,2,1,"div",87),t.qZA(),t.YNc(10,oi,2,1,"div",74),t.YNc(11,ai,2,1,"div",74),t.YNc(12,ci,2,1,"div",74),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=t.oxw(3);t.xp6(1),t.Q6J("ngIf",0===i||e.name.charAt(0)!==a.contacts[i-1].name.charAt(0)),t.xp6(1),t.Q6J("ngClass",t.WLB(11,U,!a.selectedItem||a.selectedItem.id!==e.id,a.selectedItem&&a.selectedItem.id===e.id)),t.xp6(2),t.Q6J("ngIf",e.imageUrl),t.xp6(1),t.Q6J("ngIf",!e.imageUrl),t.xp6(3),t.lnq("",e.name," ",e.lastname1," ",e.lastname2,""),t.xp6(1),t.Q6J("ngIf",e.charge&&e.charge.name),t.xp6(1),t.Q6J("ngIf",!a.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!a.isDrawerOpen),t.xp6(1),t.Q6J("ngIf",!a.isDrawerOpen)}}function li(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Wo,17,0,"ng-container",19),t.YNc(2,si,13,14,"ng-container",47),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",!e.isDrawerOpen),t.xp6(1),t.Q6J("ngForOf",e.contacts)("ngForTrackBy",e.trackByFn)}}function mi(n,o){if(1&n&&(t.TgZ(0,"div",66),t._uU(1),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",e.searchInputControl.value?"\xa1No se han encontrado contactos!":"\xa1No se ha creado ning\xfan contacto a\xfan!"," ")}}function _i(n,o){if(1&n&&(t.TgZ(0,"div",44),t.YNc(1,li,3,3,"ng-container",45),t.YNc(2,mi,2,1,"ng-template",null,46,t.W1O),t.qZA()),2&n){const e=t.MAs(3),i=t.oxw();t.xp6(1),t.Q6J("ngIf",i.contacts.length)("ngIfElse",e)}}const pi=function(n){return{"ml-0 mt-4":n}};let vt=(()=>{class n{constructor(e,i,a,r,s,_,p,h,w,D){this._activatedRoute=e,this._changeDetectorRef=i,this._contactsService=a,this._customersService=r,this._employeesService=s,this._clientsService=_,this._document=p,this._router=h,this._fuseMediaWatcherService=w,this.store=D,this.isDrawerOpen=!1,this.contacts=[],this.fullContacts=[],this.customers=[],this.searchInputControl=new c.NI(null),this.customerControl=new c.NI(null),this.filters=[{title:"Todos",name:"contactos",tooltip:""},{title:"Contactos",name:"contactos",tooltip:""},{title:"Jur\xeddicos",name:"Jur\xeddicos",tooltip:"Clientes mayoristas"},{title:"Naturales",name:"Naturales",tooltip:"Clientes minoristas"},{title:"Empleados",name:"empleados",tooltip:""}],this._selectedFilter=this.filters[0],this._unsubscribeAll=new k.x}get selectedFilter(){return this._selectedFilter}set selectedFilter(e){this._selectedFilter=e,ft.selectedFilter=e}ngOnInit(){this.store.select(rn).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{"Contactos"===this.selectedFilter.title?this.contacts=e:this.fullContacts=e,this._changeDetectorRef.markForCheck()}),this.employees$=this.store.select(P.ri),this.customers$=this.store.select(N.p6),this.clients$=this.store.select(sn),this.store.select(N.p6).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.customers=e}),this.store.select(F.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.currentMerchant=e}),this.store.select(mt.B).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.pagination=e,this._changeDetectorRef.markForCheck()}),this.searchInputControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,V.b)(300),(0,X.O)(null),(0,O.w)(e=>null!==e?this.getItems(0,10,"name","asc",e):(0,W.of)())).subscribe(),this.filteredCustomers=this.customerControl.valueChanges.pipe((0,m.R)(this._unsubscribeAll),(0,V.b)(600),(0,X.O)(""),(0,O.w)(e=>e&&36===e.length?this._contactsService.findAllContacts(this.currentMerchant.id,0,10,"name","asc",e).pipe((0,C.U)(i=>[])):e&&e.length>2?this._customersService.findAllActiveCustomers(this.currentMerchant.id):(0,W.of)([]))),this.matDrawer.openedChange.subscribe(e=>{if(!e){switch(this.selectedFilter.title){case"Jur\xeddicos":this.store.dispatch((0,pn.UP)());break;case"Empleados":this.store.dispatch((0,_n.WU)());break;case"Contactos":this.store.dispatch((0,d.Di)());break;case"Naturales":this.store.dispatch((0,M.rC)())}this.selectedItem=null}this.isDrawerOpen=e,this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({matchingAliases:e})=>{this.drawerMode=e.includes("lg")?"side":"over",this._changeDetectorRef.markForCheck()}),(0,ln.R)(this._document,"keydown").pipe((0,m.R)(this._unsubscribeAll),(0,mn.h)(e=>(!0===e.ctrlKey||e.metaKey)&&"/"===e.key)).subscribe(()=>{this.createContact()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}onScrollDown(){(this.pagination.page+1)*this.pagination.size<this.pagination.length&&this.getItems(this.pagination.page+1,this.pagination.size,"name","asc",this.searchInputControl.value,!0).pipe((0,m.R)(this._unsubscribeAll)).subscribe(),console.log("onScrollDown")}onScrollUp(){console.log("onScrollUp")}onFilterChange(e){this.selectedFilter=e.value;const i=this.getItems(0,this.pagination.size,"name","asc",this.searchInputControl.value,!1).subscribe();this._changeDetectorRef.markForCheck(),setTimeout(()=>{i.unsubscribe()},2e4)}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createContact(){this._router.navigate(["./","new"],{relativeTo:this._activatedRoute}),this.store.dispatch((0,d.Di)())}selectItem(e,i){this.selectedItem&&this.selectedItem.id===e.id?this.selectedItem.id===e.id&&this._router.navigate(["./"],{relativeTo:this._activatedRoute}):(this.selectedItem=e,this._router.navigate(["./"+i,e.id],{relativeTo:this._activatedRoute}))}trackByFn(e,i){return i.id||e}displayFn(e){const i=this.customers.find(a=>a.id===e);return i?i.name:""}getItems(e=0,i=10,a="name",r="asc",s="",_=!1){switch(this.selectedFilter.title){case"Jur\xeddicos":return this._customersService.findAllCustomers(this.currentMerchant.id,e,i,a,r,s,_);case"Naturales":return this._clientsService.findAllClients(e+1,i,a,r,s,_);case"Empleados":return this._employeesService.findAllEmployees(this.currentMerchant.id,e,i,a,r,s,_);case"Contactos":return this._contactsService.findAllContacts(this.currentMerchant.id,e,i,a,r,s,_);case"Todos":return this._contactsService.findFullContacts(e,i,a,r,s,_)}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(u.gz),t.Y36(t.sBO),t.Y36(R),t.Y36(y.v),t.Y36(tt.M),t.Y36(et),t.Y36(g.K0),t.Y36(u.F0),t.Y36(An.T),t.Y36(Z.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["contacts-list"]],viewQuery:function(e,i){if(1&e&&t.Gf(yn,7),2&e){let a;t.iGM(a=t.CRH())&&(i.matDrawer=a.first)}},decls:35,vars:25,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","bg-card","dark:bg-transparent",3,"backdropClick"],[1,"w-full","md:w-160","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],["infiniteScroll","",1,"flex","flex-col",3,"infiniteScrollDistance","infiniteScrollUpDistance","infiniteScrollThrottle","scrollWindow","scrolled","scrolledUp"],[1,"flex-auto"],[1,"flex","flex-col","justify-between","flex-auto","px-6","py-8","border-b","md:flex-col","md:px-8"],[1,"flex","flex-row","flex-wrap","sm:justify-between"],["class","hidden md:block",4,"ngIf"],[1,"overflow-auto","sm:overflow-hidden",3,"ngClass"],[1,"sm:flex","sm:flex-wrap","sm:-m-2",3,"ngModel","ngModelChange","change"],[4,"ngFor","ngForOf"],[1,"flex","flex-wrap","items-center","justify-between","gap-4","mt-4","sm:mt-0","md:mt-4"],[1,"flex-auto","rounded-full"],[1,"w-full","fuse-mat-dense","fuse-mat-no-subscript","fuse-mat-rounded","fuse-mat-bold","min-w-50"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControl","autocomplete","placeholder"],["class","flex-auto",4,"ngIf"],["class","bg-gradient-to-r from-primary-500 to-primary-600 hover:to-primary-900 hover:shadow-lg","mat-flat-button","",3,"routerLink","color",4,"ngIf"],[4,"ngIf"],["allListContent",""],["clientListContent",""],["customerListContent",""],["employeesListContent",""],["contactListContent",""],[1,"hidden","md:block"],[1,"text-4xl","font-extrabold","leading-none","tracking-tight"],["class","ml-0.5 font-medium text-secondary",4,"ngIf"],[1,"ml-0.5","font-medium","text-secondary"],[1,"m-2",3,"value","matTooltip"],[1,"text-secondary"],["class","md:hidden ml-1.5 font-medium text-secondary",4,"ngIf"],["class","ml-1.5 font-medium text-secondary",4,"ngIf"],[1,"md:hidden","ml-1.5","font-medium","text-secondary"],[1,"ml-1.5","font-medium","text-secondary"],["matInput","","matInput","",3,"formControl","type","matAutocomplete","placeholder"],["autoActiveFirstOption","",3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["mat-flat-button","",1,"bg-gradient-to-r","from-primary-500","to-primary-600","hover:to-primary-900","hover:shadow-lg",3,"routerLink","color"],[3,"svgIcon"],[1,"hidden","ml-2","mr-1","sm:block"],[4,"ngTemplateOutlet"],[1,"relative"],[4,"ngIf","ngIfElse"],["noContacts",""],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"absolute","hidden","w-full","sm:block","bg-gray-50","dark:bg-gray-900"],[1,"h-8"],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-clients-table"],[1,"grid","items-center","h-full","bg-gray-50","dark:bg-gray-900"],[1,"ml-2","text-sm"],[1,"items-center","hidden","h-full","bg-gray-50","dark:bg-gray-900","md:grid"],[1,"text-sm"],[1,"z-20","grid","px-6","py-2","border-b","cursor-pointer","tems-center","md:px-8","contacts-clients-table",3,"ngClass","click"],[1,"flex","items-center","justify-center","w-10","h-10","overflow-hidden","rounded-full","flex-0"],[1,"flex","items-center","ml-2"],[1,"font-medium","leading-5","truncate"],["class","items-center hidden md:flex",4,"ngIf"],[1,"sticky","top-0","z-10","px-6","py-1","-mt-px","font-medium","uppercase","border-t","border-b","md:px-8","text-secondary","bg-gray-50","dark:bg-gray-900"],["alt","Avatar",1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","text-lg","text-gray-600","uppercase","bg-gray-200","rounded-full","dark:bg-gray-700","dark:text-gray-200"],[1,"items-center","hidden","md:flex"],["class","row-start-2 leading-5 truncate text-secondary",4,"ngIf"],[1,"row-start-2","leading-5","truncate","text-secondary"],[1,"p-8","text-4xl","font-semibold","tracking-tight","text-center","border-t","sm:p-16"],["noClients",""],["alt","Client avatar",1,"object-cover","w-full","h-full",3,"src"],["noCustomers",""],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-customers-table"],[1,"z-20","grid","px-6","py-4","border-b","cursor-pointer","tems-center","md:px-8","contacts-customers-table",3,"ngClass","click"],[1,"grid","grid-rows-2","ml-2",3,"ngClass"],[1,"leading-5","truncate","text-secondary"],["class","hidden grid-rows-2 md:grid",4,"ngIf"],["alt","Customer imageUrl",1,"object-cover","w-full","h-full",3,"src"],[1,"hidden","grid-rows-2","md:grid"],["noEmployees",""],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-employees-table"],[1,"z-20","grid","items-center","px-6","py-4","border-b","cursor-pointer","md:px-8","contacts-employees-table",3,"ngClass","click"],[1,"min-w-0","ml-4"],["class","leading-5 truncate text-secondary",3,"matTooltip",4,"ngIf"],["alt","Employee imageUrl",1,"object-cover","w-full","h-full",3,"src"],[1,"leading-5","truncate","text-secondary",3,"matTooltip"],[1,"sticky","top-0","z-20","hidden","h-8","px-6","-mt-px","border-t","border-b","md:px-8","text-secondary","sm:grid","contacts-table"],[1,"z-20","grid","items-center","px-6","py-4","border-b","cursor-pointer","md:px-8","contacts-table",3,"ngClass","click"],[1,"min-w-0","ml-2"],["class","leading-5 truncate text-secondary",4,"ngIf"],["alt","Contact avatar",1,"object-cover","w-full","h-full",3,"src"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"mat-drawer-container",1),t.NdJ("backdropClick",function(){return i.onBackdropClicked()}),t.TgZ(2,"mat-drawer",2,3),t._UZ(4,"router-outlet"),t.qZA(),t.TgZ(5,"mat-drawer-content",4),t.NdJ("scrolled",function(){return i.onScrollDown()})("scrolledUp",function(){return i.onScrollUp()}),t.TgZ(6,"div",5)(7,"div",6)(8,"div",7),t.YNc(9,Nn,4,1,"div",8),t.TgZ(10,"div",9)(11,"mat-button-toggle-group",10),t.NdJ("ngModelChange",function(r){return i.selectedFilter=r})("change",function(r){return i.onFilterChange(r)}),t.YNc(12,Un,6,5,"ng-container",11),t.qZA()()(),t.TgZ(13,"div",12)(14,"div",13)(15,"mat-form-field",14),t._UZ(16,"mat-icon",15)(17,"input",16),t.qZA()(),t.YNc(18,wn,8,9,"div",17),t.YNc(19,Ln,4,4,"button",18),t.qZA()(),t.YNc(20,En,2,1,"ng-container",19),t.YNc(21,Sn,2,1,"ng-container",19),t.YNc(22,Mn,2,1,"ng-container",19),t.YNc(23,Rn,2,1,"ng-container",19),t.YNc(24,Pn,2,1,"ng-container",19),t.YNc(25,io,4,2,"ng-template",null,20,t.W1O),t.YNc(27,ho,5,3,"ng-template",null,21,t.W1O),t.YNc(29,wo,5,3,"ng-template",null,22,t.W1O),t.YNc(31,Ko,5,3,"ng-template",null,23,t.W1O),t.YNc(33,_i,4,2,"ng-template",null,24,t.W1O),t.qZA()()()()),2&e&&(t.xp6(2),t.Q6J("mode",i.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.xp6(3),t.Q6J("infiniteScrollDistance",2)("infiniteScrollUpDistance",2)("infiniteScrollThrottle",150)("scrollWindow",!1),t.xp6(4),t.Q6J("ngIf","side"===i.drawerMode),t.xp6(1),t.Q6J("ngClass",t.VKq(23,pi,i.isDrawerOpen)),t.xp6(1),t.Q6J("ngModel",i.selectedFilter),t.xp6(1),t.Q6J("ngForOf",i.filters),t.xp6(4),t.Q6J("svgIcon","heroicons_solid:search"),t.xp6(1),t.Q6J("formControl",i.searchInputControl)("autocomplete","off")("placeholder","Buscar "+i.selectedFilter.name),t.xp6(1),t.Q6J("ngIf","Contactos"===i.selectedFilter.title),t.xp6(1),t.Q6J("ngIf","Contactos"===i.selectedFilter.title),t.xp6(1),t.Q6J("ngIf","Contactos"===i.selectedFilter.title),t.xp6(1),t.Q6J("ngIf","Empleados"===i.selectedFilter.title),t.xp6(1),t.Q6J("ngIf","Jur\xeddicos"===i.selectedFilter.title),t.xp6(1),t.Q6J("ngIf","Naturales"===i.selectedFilter.title),t.xp6(1),t.Q6J("ngIf","Todos"===i.selectedFilter.title))},dependencies:[u.lC,u.rH,g.mk,g.sg,g.O5,g.tP,c.Fj,c.JJ,c.On,c.oH,xt.XC,xt.ZL,J.ey,L.lW,ht.A9,ht.Yi,Q.Hw,f.KE,f.qo,E.Nt,nt.jA,nt.kh,nt.LW,G.gM,pt.Ry,g.Ov,g.Gx,Ct.V],encapsulation:2,changeDetection:0}),n})();var gi=l(97156);let ui=(()=>{class n{transform(e){if(e){const i=+e.substring(0,2),a=+e.substring(2,4),r=+e.substring(4,6);return new Date(i,a-1,r)}return null}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275pipe=t.Yjl({name:"birthDate",type:n,pure:!0}),n})();function di(n,o){1&n&&t.GkF(0)}function fi(n,o){if(1&n&&(t.ynx(0),t.YNc(1,di,1,0,"ng-container",6),t.BQk()),2&n){t.oxw();const e=t.MAs(12);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function xi(n,o){1&n&&t.GkF(0)}function hi(n,o){if(1&n&&(t.ynx(0),t.YNc(1,xi,1,0,"ng-container",6),t.BQk()),2&n){t.oxw();const e=t.MAs(8);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ci(n,o){1&n&&t.GkF(0)}function vi(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Ci,1,0,"ng-container",6),t.BQk()),2&n){t.oxw();const e=t.MAs(10);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Zi(n,o){1&n&&t.GkF(0)}function bi(n,o){if(1&n&&(t.ynx(0),t.YNc(1,Zi,1,0,"ng-container",6),t.BQk()),2&n){t.oxw();const e=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",e)}}function Ti(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",21),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.currentMerchant.coverUrl,t.LSH)}}function Ai(n,o){if(1&n&&t._UZ(0,"img",22),2&n){const e=t.oxw(3);t.Q6J("src",e.client.avatar,t.LSH)}}function yi(n,o){if(1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"initials"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.client.name)," ")}}function Ii(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",27)(4,"a",28),t._uU(5),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:mail"),t.xp6(2),t.Q6J("href","mailto:"+e.client.email,t.LSH),t.xp6(1),t.hij(" ",e.client.email," ")}}function ki(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",27)(4,"a",29),t._uU(5),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(2),t.Q6J("href","tel:"+e.client.phone,t.LSH),t.xp6(1),t.Oqu(e.client.phone)}}function Qi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:location-marker"),t.xp6(2),t.HOy("",e.client.address,", ",e.client.city,", ",e.client.state,", ",e.client.country," ")}}function Ni(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:identification"),t.xp6(2),t.Oqu(e.client.idNumber)}}function Fi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.ALo(5,"date"),t.ALo(6,"birthDate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:cake"),t.xp6(2),t.Oqu(t.xi3(5,2,t.lcZ(6,5,e.client.idNumber),"longDate"))}}function Ji(n,o){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,Ii,6,3,"ng-container",1),t.YNc(2,ki,6,3,"ng-container",1),t.YNc(3,Qi,5,5,"ng-container",1),t.YNc(4,Ni,5,2,"ng-container",1),t.YNc(5,Fi,7,7,"ng-container",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.client.email),t.xp6(1),t.Q6J("ngIf",e.client.phone),t.xp6(1),t.Q6J("ngIf",e.client.address),t.xp6(1),t.Q6J("ngIf",e.client.idNumber),t.xp6(1),t.Q6J("ngIf",e.client.idNumber)}}const q=function(){return["../../"]};function Ui(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,Ti,2,1,"ng-container",1),t.TgZ(3,"div",8)(4,"button",9),t._UZ(5,"mat-icon",10),t.qZA()()(),t.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),t.YNc(10,Ai,1,1,"img",15),t.YNc(11,yi,3,3,"div",16),t.qZA()(),t.TgZ(12,"div",17),t._uU(13),t.qZA(),t.TgZ(14,"div",18)(15,"span",19),t._uU(16,"Cliente minorista"),t.qZA()(),t.YNc(17,Ji,6,5,"div",20),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.currentMerchant.coverUrl),t.xp6(2),t.Q6J("matTooltip","Cerrar")("routerLink",t.DdM(10,q)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(5),t.Q6J("ngIf",e.client.avatar),t.xp6(1),t.Q6J("ngIf",!e.client.avatar),t.xp6(2),t.lnq("",e.client.name," ",e.client.lastname1," ",e.client.lastname2,""),t.xp6(4),t.Q6J("ngIf",e.client)}}function qi(n,o){if(1&n&&t.YNc(0,Ui,18,11,"ng-container",1),2&n){const e=t.oxw();t.Q6J("ngIf","view"===e.actionMode&&e.client)}}function wi(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",21),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.employee.merchant.coverUrl,t.LSH)}}function Di(n,o){if(1&n&&t._UZ(0,"img",22),2&n){const e=t.oxw(3);t.Q6J("src",e.employee.imageUrl,t.LSH)}}function Li(n,o){if(1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"initials"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.employee.name)," ")}}function Yi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",33),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:briefcase"),t.xp6(2),t.Oqu(e.employee.charge.name)}}function Ei(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.label)}}function Bi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"a",28),t._uU(3),t.qZA(),t.YNc(4,Ei,5,1,"div",37),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("href","mailto:"+e.email,t.LSH),t.xp6(1),t.hij(" ",e.email," "),t.xp6(1),t.Q6J("ngIf",e.label)}}function Si(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34),t.YNc(4,Bi,5,3,"ng-container",35),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:mail"),t.xp6(2),t.Q6J("ngForOf",e.employee.emails)("ngForTrackBy",e.trackByFn)}}function Oi(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.label)}}function Mi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"a",29),t._uU(3),t.qZA(),t.YNc(4,Oi,5,1,"div",37),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("href","tel:"+e.stateCode+e.phoneNumber,t.LSH),t.xp6(1),t.AsE("",e.stateCode," ",e.phoneNumber,""),t.xp6(1),t.Q6J("ngIf",e.label)}}function $i(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34),t.YNc(4,Mi,5,4,"ng-container",35),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(2),t.Q6J("ngForOf",e.employee.phoneNumbers)("ngForTrackBy",e.trackByFn)}}function Ri(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.currency)}}function ji(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,Ri,5,1,"div",37),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e.no," "),t.xp6(1),t.Q6J("ngIf",e.currency)}}function Pi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34),t.YNc(4,ji,5,2,"ng-container",35),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","mat_outline:account_balance"),t.xp6(2),t.Q6J("ngForOf",e.employee.bankAccounts)("ngForTrackBy",e.trackByFn)}}function zi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:location-marker"),t.xp6(2),t.HOy("",e.employee.address,", ",e.employee.city,", ",e.employee.state,", ",e.employee.country," ")}}function Hi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:identification"),t.xp6(2),t.Oqu(e.employee.idNumber)}}function Gi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.ALo(5,"date"),t.ALo(6,"birthDate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:cake"),t.xp6(2),t.Oqu(t.xi3(5,2,t.lcZ(6,5,e.employee.idNumber),"longDate"))}}function Ki(n,o){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,Yi,5,2,"ng-container",1),t.YNc(2,Si,5,3,"ng-container",1),t.YNc(3,$i,5,3,"ng-container",1),t.YNc(4,Pi,5,3,"ng-container",1),t.YNc(5,zi,5,5,"ng-container",1),t.YNc(6,Hi,5,2,"ng-container",1),t.YNc(7,Gi,7,7,"ng-container",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.employee.charge),t.xp6(1),t.Q6J("ngIf",e.employee.emails.length),t.xp6(1),t.Q6J("ngIf",e.employee.phoneNumbers.length>0),t.xp6(1),t.Q6J("ngIf",e.employee.bankAccounts.length),t.xp6(1),t.Q6J("ngIf",e.employee.address),t.xp6(1),t.Q6J("ngIf",e.employee.idNumber),t.xp6(1),t.Q6J("ngIf",e.employee.idNumber)}}function Wi(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,wi,2,1,"ng-container",1),t.TgZ(3,"div",8)(4,"button",9),t._UZ(5,"mat-icon",10),t.qZA()()(),t.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),t.YNc(10,Di,1,1,"img",15),t.YNc(11,Li,3,3,"div",16),t.qZA()(),t.TgZ(12,"div",17),t._uU(13),t.qZA(),t.TgZ(14,"div",32)(15,"span",19),t._uU(16,"Empleado"),t.qZA()(),t.YNc(17,Ki,8,7,"div",20),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.employee&&e.employee.merchant.coverUrl),t.xp6(2),t.Q6J("matTooltip","Cerrar")("routerLink",t.DdM(10,q)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(5),t.Q6J("ngIf",e.employee.imageUrl),t.xp6(1),t.Q6J("ngIf",!e.employee.imageUrl),t.xp6(2),t.lnq("",e.employee.name," ",e.employee.lastname1," ",e.employee.lastname2,""),t.xp6(4),t.Q6J("ngIf",e.employee)}}function Vi(n,o){if(1&n&&t.YNc(0,Wi,18,11,"ng-container",1),2&n){const e=t.oxw();t.Q6J("ngIf","view"===e.actionMode&&e.employee&&e.employee.merchant)}}function Xi(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",21),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.customer.coverUrl,t.LSH)}}function ta(n,o){if(1&n&&t._UZ(0,"img",22),2&n){const e=t.oxw(3);t.Q6J("src",e.customer.imageUrl,t.LSH)}}function ea(n,o){if(1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"initials"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.customer.name)," ")}}function na(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",41),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:office-building"),t.xp6(2),t.Oqu(e.customer.domain)}}function oa(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw(5);t.xp6(4),t.Oqu(e.customer.email.label)}}function ia(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34)(4,"div",36)(5,"a",28),t._uU(6),t.qZA(),t.YNc(7,oa,5,1,"div",37),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:mail"),t.xp6(3),t.Q6J("href","mailto:"+e.customer.email.email,t.LSH),t.xp6(1),t.hij(" ",e.customer.email.email," "),t.xp6(1),t.Q6J("ngIf",e.customer.email.label)}}function aa(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw(5);t.xp6(4),t.Oqu(e.customer.phoneNumber.label)}}function ra(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34)(4,"div",36)(5,"a",29),t._uU(6),t.qZA(),t.YNc(7,aa,5,1,"div",37),t.qZA()()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(3),t.Q6J("href","tel:"+e.customer.phoneNumber.stateCode+e.customer.phoneNumber.phoneNumber,t.LSH),t.xp6(1),t.AsE("",e.customer.phoneNumber.stateCode," ",e.customer.phoneNumber.phoneNumber,""),t.xp6(1),t.Q6J("ngIf",e.customer.phoneNumber.label)}}function ca(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.currency)}}function sa(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"span"),t._uU(3),t.qZA(),t.YNc(4,ca,5,1,"div",37),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(3),t.hij(" ",e.no," "),t.xp6(1),t.Q6J("ngIf",e.currency)}}function la(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34),t.YNc(4,sa,5,2,"ng-container",35),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","mat_outline:account_balance"),t.xp6(2),t.Q6J("ngForOf",e.customer.bankAccounts)("ngForTrackBy",e.trackByFn)}}function ma(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",42),t.TgZ(3,"a",43),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","mat_outline:language"),t.xp6(1),t.Q6J("href",e.customer.website,t.LSH),t.xp6(1),t.hij(" ",e.customer.website," ")}}function _a(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:location-marker"),t.xp6(2),t.HOy("",e.customer.address,", ",e.customer.city,", ",e.customer.state,", ",e.customer.country," ")}}function pa(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",44)(3,"div",45),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:menu-alt-2"),t.xp6(1),t.Q6J("innerHTML",e.customer.description,t.oJD)}}function ga(n,o){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,na,5,2,"ng-container",1),t.YNc(2,ia,8,4,"ng-container",1),t.YNc(3,ra,8,5,"ng-container",1),t.YNc(4,la,5,3,"ng-container",1),t.YNc(5,ma,5,3,"ng-container",1),t.YNc(6,_a,5,5,"ng-container",1),t.YNc(7,pa,4,2,"ng-container",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.customer.domain),t.xp6(1),t.Q6J("ngIf",e.customer.email&&e.customer.email.email),t.xp6(1),t.Q6J("ngIf",e.customer.phoneNumber&&e.customer.phoneNumber.phoneNumber),t.xp6(1),t.Q6J("ngIf",e.customer.bankAccounts.length),t.xp6(1),t.Q6J("ngIf",e.customer.website),t.xp6(1),t.Q6J("ngIf",e.customer.address),t.xp6(1),t.Q6J("ngIf",e.customer.description)}}function ua(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,Xi,2,1,"ng-container",1),t.TgZ(3,"div",8)(4,"button",9),t._UZ(5,"mat-icon",10),t.qZA()()(),t.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),t.YNc(10,ta,1,1,"img",15),t.YNc(11,ea,3,3,"div",16),t.qZA()(),t.TgZ(12,"div",17),t._uU(13),t.qZA(),t.TgZ(14,"div",18)(15,"span",19),t._uU(16,"Cliente mayorista"),t.qZA()(),t.YNc(17,ga,8,7,"div",20),t.qZA()(),t.BQk()),2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.customer&&e.customer.coverUrl),t.xp6(2),t.Q6J("matTooltip","Cerrar")("routerLink",t.DdM(9,q)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(5),t.Q6J("ngIf",e.customer.imageUrl),t.xp6(1),t.Q6J("ngIf",!e.customer.imageUrl),t.xp6(2),t.AsE("",e.customer.name," (",e.customer.abbr?e.customer.abbr:"",")"),t.xp6(4),t.Q6J("ngIf",e.customer)}}function da(n,o){if(1&n&&t.YNc(0,ua,18,10,"ng-container",1),2&n){const e=t.oxw();t.Q6J("ngIf","view"===e.actionMode&&e.customer&&e.customer.merchantId)}}function fa(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",21),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("src",e.contact.customer.coverUrl,t.LSH)}}function xa(n,o){if(1&n&&t._UZ(0,"img",22),2&n){const e=t.oxw(3);t.Q6J("src",e.contactForm.get("imageUrl").value,t.LSH)}}function ha(n,o){if(1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"initials"),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.contact.name)," ")}}function Ca(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",33),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:briefcase"),t.xp6(2),t.Oqu(e.contact.charge.name)}}function va(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",51),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:office-building"),t.xp6(2),t.Oqu(e.contact.customer.name)}}function Za(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.label)}}function ba(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"a",28),t._uU(3),t.qZA(),t.YNc(4,Za,5,1,"div",37),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("href","mailto:"+e.email,t.LSH),t.xp6(1),t.hij(" ",e.email," "),t.xp6(1),t.Q6J("ngIf",e.label)}}function Ta(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34),t.YNc(4,ba,5,3,"ng-container",35),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:mail"),t.xp6(2),t.Q6J("ngForOf",e.contact.emails)("ngForTrackBy",e.trackByFn)}}function Aa(n,o){if(1&n&&(t.TgZ(0,"div",38)(1,"span",39),t._uU(2,"\u2022"),t.qZA(),t.TgZ(3,"span",40),t._uU(4),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(4),t.Oqu(e.label)}}function ya(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",36)(2,"a",29),t._uU(3),t.qZA(),t.YNc(4,Aa,5,1,"div",37),t.qZA(),t.BQk()),2&n){const e=o.$implicit;t.xp6(2),t.Q6J("href","tel:"+e.stateCode+e.phoneNumber,t.LSH),t.xp6(1),t.AsE("",e.stateCode," ",e.phoneNumber,""),t.xp6(1),t.Q6J("ngIf",e.label)}}function Ia(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",34),t.YNc(4,ya,5,4,"ng-container",35),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:phone"),t.xp6(2),t.Q6J("ngForOf",e.contact.phoneNumbers)("ngForTrackBy",e.trackByFn)}}function ka(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:location-marker"),t.xp6(2),t.HOy("",e.contact.address,", ",e.contact.city,", ",e.contact.state,", ",e.contact.country," ")}}function Qa(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:identification"),t.xp6(2),t.Oqu(e.contact.idNumber)}}function Na(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",30),t._UZ(2,"mat-icon",26),t.TgZ(3,"div",31),t._uU(4),t.ALo(5,"date"),t.ALo(6,"birthDate"),t.qZA()(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:cake"),t.xp6(2),t.Oqu(t.xi3(5,2,t.lcZ(6,5,e.contact.idNumber),"longDate"))}}function Fa(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"div",25),t._UZ(2,"mat-icon",44)(3,"div",45),t.qZA(),t.BQk()),2&n){const e=t.oxw(4);t.xp6(2),t.Q6J("svgIcon","heroicons_outline:menu-alt-2"),t.xp6(1),t.Q6J("innerHTML",e.contact.description,t.oJD)}}function Ja(n,o){if(1&n&&(t.TgZ(0,"div",24),t.YNc(1,Ca,5,2,"ng-container",1),t.YNc(2,va,5,2,"ng-container",1),t.YNc(3,Ta,5,3,"ng-container",1),t.YNc(4,Ia,5,3,"ng-container",1),t.YNc(5,ka,5,5,"ng-container",1),t.YNc(6,Qa,5,2,"ng-container",1),t.YNc(7,Na,7,7,"ng-container",1),t.YNc(8,Fa,4,2,"ng-container",1),t.qZA()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("ngIf",e.contact.charge),t.xp6(1),t.Q6J("ngIf",e.contact.customer&&e.contact.customer.name),t.xp6(1),t.Q6J("ngIf",e.contact.emails.length),t.xp6(1),t.Q6J("ngIf",e.contact.phoneNumbers.length),t.xp6(1),t.Q6J("ngIf",e.contact.address),t.xp6(1),t.Q6J("ngIf",e.contact.idNumber),t.xp6(1),t.Q6J("ngIf",e.contact.idNumber),t.xp6(1),t.Q6J("ngIf",e.contact.description)}}function Ua(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,fa,2,1,"ng-container",1),t.TgZ(3,"div",8)(4,"button",9),t._UZ(5,"mat-icon",10),t.qZA()()(),t.TgZ(6,"div",11)(7,"div",12)(8,"div",13)(9,"div",14),t.YNc(10,xa,1,1,"img",15),t.YNc(11,ha,3,3,"div",16),t.qZA(),t.TgZ(12,"div",46)(13,"button",47),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.toggleEditMode("edit"))}),t._UZ(14,"mat-icon",48),t.TgZ(15,"span",49),t._uU(16,"Editar"),t.qZA()()()(),t.TgZ(17,"div",17),t._uU(18),t.qZA(),t.TgZ(19,"div",50)(20,"span",19),t._uU(21),t.qZA()(),t.YNc(22,Ja,9,8,"div",20),t.qZA()(),t.BQk()}if(2&n){const e=t.oxw(2);t.xp6(2),t.Q6J("ngIf",e.contact&&e.contact.customer.coverUrl),t.xp6(2),t.Q6J("matTooltip","Cerrar")("routerLink",t.DdM(12,q)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(5),t.Q6J("ngIf",e.contactForm.get("imageUrl").value),t.xp6(1),t.Q6J("ngIf",!e.contactForm.get("imageUrl").value),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:pencil-alt"),t.xp6(4),t.lnq("",e.contact.name," ",e.contact.lastname1," ",e.contact.lastname2,""),t.xp6(3),t.Oqu("Contacto"),t.xp6(1),t.Q6J("ngIf",e.contact)}}function qa(n,o){if(1&n&&t.YNc(0,Ua,23,13,"ng-container",1),2&n){const e=t.oxw();t.Q6J("ngIf","view"===e.actionMode&&e.contact&&e.contact.merchantId)}}function wa(n,o){if(1&n&&(t.ynx(0),t._UZ(1,"img",21),t.BQk()),2&n){const e=t.oxw(2);t.xp6(1),t.Q6J("src",e.contact.customer.coverUrl,t.LSH)}}function Da(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"input",87,88),t.NdJ("change",function(){t.CHM(e);const a=t.MAs(2),r=t.oxw(2);return t.KtG(r.uploadImage(a.files))}),t.qZA(),t.TgZ(3,"label",89),t._UZ(4,"mat-icon",10),t.qZA()()}2&n&&(t.xp6(1),t.Q6J("multiple",!1)("accept","image/jpeg, image/png"),t.xp6(3),t.Q6J("svgIcon","heroicons_outline:camera"))}function La(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"div")(1,"button",90),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.removeImage())}),t._UZ(2,"mat-icon",10),t.qZA()()}2&n&&(t.xp6(2),t.Q6J("svgIcon","heroicons_outline:trash"))}function Ya(n,o){if(1&n&&t._UZ(0,"img",22),2&n){const e=t.oxw(2);t.Q6J("src",e.contactForm.get("imageUrl").value,t.LSH)}}function Ea(n,o){if(1&n&&(t.TgZ(0,"div",23),t._uU(1),t.ALo(2,"initials"),t.qZA()),2&n){const e=t.oxw(2);t.xp6(1),t.hij(" ",t.lcZ(2,1,e.contact.name)," ")}}function Ba(n,o){if(1&n&&(t.TgZ(0,"mat-option",91),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Sa(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," Debe escoger un cliente "),t.qZA())}function Oa(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del empleado es obligatorio. "),t.qZA())}function Ma(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del empleado debe contener entre 3 y 255 caracteres. "),t.qZA())}function $a(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El nombre del empleado no debe contener n\xfameros. "),t.qZA())}function Ra(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El primer apellido del empleado es obligatorio. "),t.qZA())}function ja(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El primer apellido del empleado debe contener entre 3 y 255 caracteres. "),t.qZA())}function Pa(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El primer apellido del empleado no debe contener n\xfameros. "),t.qZA())}function za(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El segundo apellido del empleado es obligatorio. "),t.qZA())}function Ha(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El segundo apellido del empleado debe contener entre 3 y 255 caracteres. "),t.qZA())}function Ga(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El segundo apellido del empleado no debe contener n\xfameros. "),t.qZA())}function Ka(n,o){if(1&n&&(t.TgZ(0,"mat-option",91),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.id),t.xp6(1),t.hij(" ",e.name," ")}}function Wa(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de identificaci\xf3n debe poseer 11 d\xedgitos. "),t.qZA())}function Va(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de identidad debe poseer solo n\xfameros. "),t.qZA())}function Xa(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Tel\xe9fonos"),t.qZA())}function tr(n,o){if(1&n&&(t.ynx(0),t.TgZ(1,"mat-option",91)(2,"span",96),t._UZ(3,"span",98),t.TgZ(4,"span",49),t._uU(5),t.qZA(),t.TgZ(6,"span",99),t._uU(7),t.qZA()()(),t.BQk()),2&n){const e=o.$implicit;t.xp6(1),t.Q6J("value",e.code),t.xp6(4),t.Oqu(e.name),t.xp6(2),t.Oqu(e.code)}}function er(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de tel\xe9fono debe contener solo 7 d\xedgitos. "),t.qZA())}function nr(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de tel\xe9fono debe poseer solo n\xfameros. "),t.qZA())}function or(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El c\xf3digo sebe ser obligatorio. "),t.qZA())}function ir(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El n\xfamero de tel\xe9fono es obligatorio. "),t.qZA())}function ar(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Etiqueta"),t.qZA())}function rr(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),t.qZA())}const Zt=function(n){return{"mt-6":n}};function cr(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",92)(2,"mat-form-field",93),t.YNc(3,Xa,2,0,"mat-label",1),t._UZ(4,"input",94),t.TgZ(5,"mat-select",95)(6,"mat-select-trigger")(7,"span",96)(8,"span",97),t._uU(9),t.qZA()()(),t.TgZ(10,"mat-option",91)(11,"span",96),t._UZ(12,"span",98),t.TgZ(13,"span",49),t._uU(14),t.ALo(15,"titlecase"),t.qZA(),t.TgZ(16,"span",99),t._uU(17),t.qZA()()(),t.YNc(18,tr,8,3,"ng-container",35),t.qZA(),t.YNc(19,er,2,0,"mat-error",1),t.YNc(20,nr,2,0,"mat-error",1),t.YNc(21,or,2,0,"mat-error",1),t.YNc(22,ir,2,0,"mat-error",1),t.qZA(),t.TgZ(23,"mat-form-field",100),t.YNc(24,ar,2,0,"mat-label",1),t._UZ(25,"mat-icon",68)(26,"input",101),t.YNc(27,rr,2,0,"mat-error",1),t.qZA(),t.ynx(28),t.TgZ(29,"div",102)(30,"button",103),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw(2);return t.KtG(s.removePhoneNumberField(r))}),t._UZ(31,"mat-icon",48),t.qZA()(),t.BQk(),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.index,a=o.first,r=t.oxw(2);t.xp6(3),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("type","tel")("formControl",e.get("phoneNumber"))("placeholder","Tel\xe9fono")("minlength",7)("maxlength",7),t.xp6(1),t.Q6J("formControl",e.get("stateCode")),t.xp6(4),t.Oqu(r.contactForm.get("phoneNumbers").value[i].stateCode),t.xp6(1),t.Q6J("value","+535"),t.xp6(4),t.Oqu(t.lcZ(15,26,"celular")),t.xp6(3),t.Oqu("+535"),t.xp6(1),t.Q6J("ngForOf",r.statesCodes)("ngForTrackBy",r.trackByFn),t.xp6(1),t.Q6J("ngIf",e.get("phoneNumber").hasError("minlength")||e.get("phoneNumber").hasError("maxlength")),t.xp6(1),t.Q6J("ngIf",e.get("phoneNumber").hasError("pattern")),t.xp6(1),t.Q6J("ngIf",e.get("stateCode").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.get("phoneNumber").hasError("required")),t.xp6(2),t.Q6J("ngIf",a),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:tag"),t.xp6(1),t.Q6J("formControl",e.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),t.xp6(1),t.Q6J("ngIf",e.get("label").hasError("maxlength")||e.get("label").hasError("minlength")),t.xp6(2),t.Q6J("ngClass",t.VKq(28,Zt,a)),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function sr(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Correos Electr\xf3nicos"),t.qZA())}function lr(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El correos electr\xf3nicos no posee un formato v\xe1lido. "),t.qZA())}function mr(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," El correos electr\xf3nicos es obligatorio "),t.qZA())}function _r(n,o){1&n&&(t.TgZ(0,"mat-label"),t._uU(1,"Etiqueta"),t.qZA())}function pr(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La etiqueta debe contener entre 3 y 255 caracteres. "),t.qZA())}function gr(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",104)(2,"mat-form-field",93),t.YNc(3,sr,2,0,"mat-label",1),t._UZ(4,"mat-icon",68)(5,"input",105),t.YNc(6,lr,2,0,"mat-error",1),t.YNc(7,mr,2,0,"mat-error",1),t.qZA(),t.TgZ(8,"mat-form-field",100),t.YNc(9,_r,2,0,"mat-label",1),t._UZ(10,"mat-icon",68)(11,"input",101),t.YNc(12,pr,2,0,"mat-error",1),t.qZA(),t.ynx(13),t.TgZ(14,"div",102)(15,"button",106),t.NdJ("click",function(){const r=t.CHM(e).index,s=t.oxw(2);return t.KtG(s.removeEmailField(r))}),t._UZ(16,"mat-icon",48),t.qZA()(),t.BQk(),t.qZA(),t.BQk()}if(2&n){const e=o.$implicit,i=o.first;t.xp6(3),t.Q6J("ngIf",i),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:mail"),t.xp6(1),t.Q6J("formControl",e.get("email"))("spellcheck",!1),t.xp6(1),t.Q6J("ngIf",e.get("email").hasError("email")),t.xp6(1),t.Q6J("ngIf",e.get("email").hasError("required")),t.xp6(2),t.Q6J("ngIf",i),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:tag"),t.xp6(1),t.Q6J("formControl",e.get("label"))("placeholder","Etiqueta")("minLength",3)("maxLength",255),t.xp6(1),t.Q6J("ngIf",e.get("label").hasError("maxlength")||e.get("label").hasError("minlength")),t.xp6(2),t.Q6J("ngClass",t.VKq(15,Zt,i)),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:trash")}}function ur(n,o){if(1&n&&(t.TgZ(0,"mat-option",91),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e),t.xp6(1),t.hij(" ",e," ")}}function dr(n,o){if(1&n&&(t.TgZ(0,"mat-option",91),t._uU(1),t.qZA()),2&n){const e=o.$implicit;t.Q6J("value",e.city),t.xp6(1),t.hij(" ",e.city," ")}}function fr(n,o){1&n&&(t.TgZ(0,"mat-error"),t._uU(1," La direcci\xf3n debe contener entre 3 y 255 caracteres. "),t.qZA())}function xr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",107),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.deleteContact())}),t._uU(1," Eliminar "),t.qZA()}2&n&&t.Q6J("color","warn")("matTooltip","Eliminar")}const bt=function(n){return{"cursor-not-allowed":n}};function hr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",108),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.updateContact())}),t._uU(1," Actualizar "),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.contactForm.invalid)("matTooltip","Salvar")("disabled",e.contactForm.invalid)("ngClass",t.VKq(5,bt,e.contactForm.invalid))}}function Cr(n,o){if(1&n){const e=t.EpF();t.TgZ(0,"button",108),t.NdJ("click",function(){t.CHM(e);const a=t.oxw(2);return t.KtG(a.createContact())}),t._uU(1," Guardar "),t.qZA()}if(2&n){const e=t.oxw(2);t.Q6J("color","primary")("disabled",e.contactForm.invalid)("matTooltip","Salvar")("disabled",e.contactForm.invalid)("ngClass",t.VKq(5,bt,e.contactForm.invalid))}}function vr(n,o){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"div",7),t.YNc(2,wa,2,1,"ng-container",1),t.TgZ(3,"div",8)(4,"button",9),t._UZ(5,"mat-icon",10),t.qZA()()(),t.TgZ(6,"div",52)(7,"div",12)(8,"form",53)(9,"div",54)(10,"div",55),t._UZ(11,"div",56),t.TgZ(12,"div",57),t.YNc(13,Da,5,3,"div",1),t.YNc(14,La,3,1,"div",1),t.qZA(),t.YNc(15,Ya,1,1,"img",15),t.YNc(16,Ea,3,3,"div",16),t.qZA()(),t.TgZ(17,"span",58),t._uU(18,"Informaci\xf3n General "),t.qZA(),t.TgZ(19,"div",59)(20,"div",60)(21,"mat-form-field",61)(22,"mat-label"),t._uU(23,"Cliente"),t.qZA(),t.TgZ(24,"mat-select",62),t.YNc(25,Ba,2,2,"mat-option",63),t.ALo(26,"async"),t.qZA(),t.YNc(27,Sa,2,0,"mat-error",1),t.TgZ(28,"mat-hint"),t._uU(29,"Negocio cliente al cual est\xe1 asociado el contacto"),t.qZA()()(),t.TgZ(30,"div",60)(31,"mat-form-field",61)(32,"mat-label"),t._uU(33,"Nombre"),t.qZA(),t._UZ(34,"input",64),t.YNc(35,Oa,2,0,"mat-error",1),t.YNc(36,Ma,2,0,"mat-error",1),t.YNc(37,$a,2,0,"mat-error",1),t.qZA()(),t.TgZ(38,"div",60)(39,"mat-form-field",61)(40,"mat-label"),t._uU(41,"Primer Apellido"),t.qZA(),t._UZ(42,"input",65),t.YNc(43,Ra,2,0,"mat-error",1),t.YNc(44,ja,2,0,"mat-error",1),t.YNc(45,Pa,2,0,"mat-error",1),t.qZA()(),t.TgZ(46,"div",60)(47,"mat-form-field",61)(48,"mat-label"),t._uU(49,"Segundo Apellido"),t.qZA(),t._UZ(50,"input",66),t.YNc(51,za,2,0,"mat-error",1),t.YNc(52,Ha,2,0,"mat-error",1),t.YNc(53,Ga,2,0,"mat-error",1),t.qZA()(),t.TgZ(54,"div",60)(55,"mat-form-field",61)(56,"mat-label"),t._uU(57,"Cargo"),t.qZA(),t.TgZ(58,"mat-select",67),t.YNc(59,Ka,2,2,"mat-option",63),t.ALo(60,"async"),t.qZA()()(),t.TgZ(61,"div",60)(62,"mat-form-field",61)(63,"mat-label"),t._uU(64,"N\xfamero de identidad"),t.qZA(),t._UZ(65,"mat-icon",68)(66,"input",69),t.YNc(67,Wa,2,0,"mat-error",1),t.YNc(68,Va,2,0,"mat-error",1),t.qZA()(),t.TgZ(69,"div",70)(70,"mat-form-field",71)(71,"mat-label"),t._uU(72,"Descripci\xf3n del contacto"),t.qZA(),t._UZ(73,"mat-icon",68)(74,"textarea",72),t.TgZ(75,"mat-hint",73),t._uU(76),t.qZA()()()(),t.TgZ(77,"span",58),t._uU(78,"Informaci\xf3n de contacto"),t.qZA(),t.TgZ(79,"div",74)(80,"div",70)(81,"div",75),t.YNc(82,cr,32,30,"ng-container",35),t.qZA(),t.TgZ(83,"div",76),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addPhoneNumberField())}),t._UZ(84,"mat-icon",48),t.TgZ(85,"span",77),t._uU(86,"Agregar tel\xe9fono"),t.qZA()()(),t.TgZ(87,"div",70)(88,"div",75),t.YNc(89,gr,17,17,"ng-container",35),t.qZA(),t.TgZ(90,"div",76),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.addEmailField())}),t._UZ(91,"mat-icon",48),t.TgZ(92,"span",77),t._uU(93,"Agregar correo electr\xf3nico"),t.qZA()()()(),t.TgZ(94,"span",58),t._uU(95,"Domicilio"),t.qZA(),t.TgZ(96,"div",78)(97,"div",60)(98,"mat-form-field",79)(99,"mat-label"),t._uU(100,"Pa\xeds"),t.qZA(),t.TgZ(101,"mat-select",67)(102,"mat-option",80),t._uU(103,"Cuba"),t.qZA()(),t._UZ(104,"mat-icon",81),t.qZA()(),t.TgZ(105,"div",60)(106,"mat-form-field",61)(107,"mat-label"),t._uU(108,"Provincia"),t.qZA(),t.TgZ(109,"mat-select",67),t.YNc(110,ur,2,2,"mat-option",63),t.qZA(),t._UZ(111,"mat-icon",81),t.qZA()(),t.TgZ(112,"div",60)(113,"mat-form-field",61)(114,"mat-label"),t._uU(115,"Municipio"),t.qZA(),t.TgZ(116,"mat-select",67),t.YNc(117,dr,2,2,"mat-option",63),t.qZA(),t._UZ(118,"mat-icon",81),t.qZA()(),t.TgZ(119,"div",70)(120,"mat-form-field",71)(121,"mat-label"),t._uU(122,"Direcci\xf3n"),t.qZA(),t._UZ(123,"mat-icon",68)(124,"textarea",82),t.YNc(125,fr,2,0,"mat-error",1),t.qZA()()(),t.TgZ(126,"div",83),t.YNc(127,xr,2,2,"button",84),t.TgZ(128,"button",85),t.NdJ("click",function(){t.CHM(e);const a=t.oxw();return t.KtG(a.toggleEditMode("view"))}),t._uU(129," Cancelar "),t.qZA(),t.YNc(130,hr,2,7,"button",86),t.YNc(131,Cr,2,7,"button",86),t.qZA()()()(),t.BQk()}if(2&n){const e=t.oxw();t.xp6(2),t.Q6J("ngIf",e.contact&&e.contact.customer&&e.contact.customer.coverUrl),t.xp6(2),t.Q6J("matTooltip","Cerrar")("routerLink",t.DdM(81,q)),t.xp6(1),t.Q6J("svgIcon","heroicons_outline:x"),t.xp6(3),t.Q6J("formGroup",e.contactForm)("autocomplete","off"),t.xp6(5),t.Q6J("ngIf",!e.contactForm.get("imageUrl").value),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("imageUrl").value),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("imageUrl").value),t.xp6(1),t.Q6J("ngIf",e.contact&&!e.contactForm.get("imageUrl").value),t.xp6(8),t.Q6J("formControlName","customerId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(26,77,e.customers$))("ngForTrackBy",e.trackByFn),t.xp6(2),t.Q6J("ngIf",e.contactForm.get("customerId").hasError("required")),t.xp6(7),t.Q6J("type","text")("formControlName","name")("minlength",3)("maxlength",255)("placeholder","Nombre del negocio"),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("name").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("name").hasError("maxlength")||e.contactForm.get("name").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("name").hasError("pattern")),t.xp6(5),t.Q6J("type","text")("formControlName","lastname1")("minlength",3)("maxlength",255),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("lastname1").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("lastname1").hasError("maxlength")||e.contactForm.get("lastname1").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("lastname1").hasError("pattern")),t.xp6(5),t.Q6J("type","text")("formControlName","lastname2")("minlength",3)("maxlength",255),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("lastname2").hasError("required")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("lastname2").hasError("maxlength")||e.contactForm.get("lastname2").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("lastname2").hasError("pattern")),t.xp6(5),t.Q6J("formControlName","chargeId"),t.xp6(1),t.Q6J("ngForOf",t.lcZ(60,79,e.charges$))("ngForTrackBy",e.trackByFn),t.xp6(6),t.Q6J("svgIcon","heroicons_solid:identification"),t.xp6(1),t.Q6J("type","text")("formControlName","idNumber")("maxlength",11)("minlength",11),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("idNumber").hasError("maxlength")||e.contactForm.get("idNumber").hasError("minlength")),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("idNumber").hasError("pattern")),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:menu-alt-2"),t.xp6(1),t.Q6J("formControlName","description")("rows",4)("maxlength",1e3)("spellcheck",!1),t.xp6(2),t.hij("",(null==e.contactForm.get("description").value?null:e.contactForm.get("description").value.length)||0,"/1000"),t.xp6(6),t.Q6J("ngForOf",e.contactForm.get("phoneNumbers").controls)("ngForTrackBy",e.trackByFn),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:plus-circle"),t.xp6(5),t.Q6J("ngForOf",e.contactForm.get("emails").controls)("ngForTrackBy",e.trackByFn),t.xp6(2),t.Q6J("svgIcon","heroicons_solid:plus-circle"),t.xp6(10),t.Q6J("formControlName","country"),t.xp6(3),t.Q6J("svgIcon","heroicons_solid:globe"),t.xp6(5),t.Q6J("formControlName","state"),t.xp6(1),t.Q6J("ngForOf",e.states)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:map"),t.xp6(5),t.Q6J("formControlName","city"),t.xp6(1),t.Q6J("ngForOf",e.cities)("ngForTrackBy",e.trackByFn),t.xp6(1),t.Q6J("svgIcon","heroicons_solid:location-marker"),t.xp6(5),t.Q6J("svgIcon","heroicons_solid:home"),t.xp6(1),t.Q6J("formControlName","address")("minLength",3)("maxlength",255),t.xp6(1),t.Q6J("ngIf",e.contactForm.get("address").hasError("maxlength")||e.contactForm.get("address").hasError("minlength")),t.xp6(2),t.Q6J("ngIf","add"!==e.actionMode),t.xp6(1),t.Q6J("matTooltip","Cancelar"),t.xp6(2),t.Q6J("ngIf","edit"===e.actionMode),t.xp6(1),t.Q6J("ngIf","add"===e.actionMode)}}const Zr=[{path:"contacts",component:on,children:[{path:"",component:vt,resolve:{contacts:ft},children:[{path:":entity/:id",component:(()=>{class n{constructor(e,i,a,r,s,_,p,h,w,D,yr,Ir,kr){this._contactsListComponent=e,this._activatedRoute=i,this._changeDetectorRef=a,this._contactsService=r,this._customersService=s,this._chargesService=_,this._locationService=p,this._formBuilder=h,this._fuseConfirmationService=w,this._router=D,this._snackBar=yr,this._imagesService=Ir,this.store=kr,this.actionMode="view",this.cities=[],this.customers$=null,this.charges$=null,this.states=[],this.statesCodes=[],this._unsubscribeAll=new k.x}ngOnInit(){this._contactsListComponent.matDrawer.open(),this.store.select(F.Qs).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.currentMerchant=e}),this.store.select(an).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.contact=e,this.actionMode="view",this._changeDetectorRef.markForCheck()}),this.store.select(cn).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.client=e,this._changeDetectorRef.markForCheck()}),this.store.select(N.H5).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.customer=e,this._changeDetectorRef.markForCheck()}),this.store.select(P.hf).pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.employee=e,this._changeDetectorRef.markForCheck()}),this.customers$=this._customersService.findAllActiveCustomers(this.currentMerchant.id),this.charges$=this._chargesService.findAllActiveCharges(this.currentMerchant.id),this._locationService.states$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.states=e,this._changeDetectorRef.markForCheck()}),this._locationService.statesCodes$.pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this.statesCodes=e,this._changeDetectorRef.markForCheck()}),this.contactForm=this._formBuilder.group({id:[""],merchantId:[this.currentMerchant.id,[c.kI.required]],customerId:["",[c.kI.required]],chargeId:[null],name:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(255),v.L.onlyAlphabetsWithAccentPattern()]],lastname1:["",[c.kI.required,c.kI.minLength(3),c.kI.maxLength(255),v.L.onlyAlphabetsWithAccentPattern()]],lastname2:[null,[c.kI.minLength(3),c.kI.maxLength(255),v.L.onlyAlphabetsWithAccentPattern()]],idNumber:[null,[c.kI.maxLength(11),c.kI.minLength(11),v.L.onlyNumbersPattern()]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),description:["",[c.kI.maxLength(1e3)]],address:["",[c.kI.minLength(3),c.kI.maxLength(255)]],country:[{value:"Cuba",disabled:!0}],state:[""],city:[""],imageUrl:[null]}),this.contactForm.get("state").valueChanges.pipe((0,m.R)(this._unsubscribeAll)).subscribe(e=>{this._getCitiesByState(e),this._changeDetectorRef.markForCheck()}),this._activatedRoute.params.pipe((0,m.R)(this._unsubscribeAll)).subscribe(({id:e,entity:i})=>{this.selectedEntity=i,this.actionMode="new"===e?"add":"view","contact"===i?this.fillForm():this.actionMode="view",this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this.store.dispatch((0,d.Di)())}addEmailField(){const e=this._formBuilder.group({email:["",[c.kI.required,c.kI.email,c.kI.maxLength(255)]],label:["",[c.kI.minLength(3),c.kI.maxLength(255)]]});this.contactForm.get("emails").push(e),this._changeDetectorRef.markForCheck()}removeEmailField(e){this.contactForm.get("emails").removeAt(e),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const e=this._formBuilder.group({stateCode:["+535",[c.kI.required]],phoneNumber:["",[c.kI.required,c.kI.minLength(7),c.kI.maxLength(7),v.L.onlyNumbersPattern()]],label:["",[c.kI.minLength(3),c.kI.maxLength(255)]]});this.contactForm.get("phoneNumbers").push(e),this._changeDetectorRef.markForCheck()}removePhoneNumberField(e){this.contactForm.get("phoneNumbers").removeAt(e),this._changeDetectorRef.markForCheck()}createContact(){let e=this.contactForm.getRawValue();delete e.id,e=A(e).omitBy(A.isNull).omitBy(A.isEmpty).value(),this._fuseConfirmationService.open({title:"Crear Contacto",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._contactsService.createContact(e).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",appearance:"fill"}}),this._router.navigate(["../",r.contact.id],{relativeTo:this._activatedRoute})),this._changeDetectorRef.markForCheck()})})}updateContact(){let e=this.contactForm.getRawValue();e=A(e).omitBy(A.isNull).value(),delete e.imageUrl,this._fuseConfirmationService.open({title:"Actualizar Contacto",message:"\xbfEsta seguro que todos los datos son correctos?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._contactsService.updateContact(e).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{r&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",appearance:"fill",type:"success"}}),this.store.dispatch((0,d.sy)({contact:r.contact}))),this._changeDetectorRef.markForCheck()})})}deleteContact(){this._fuseConfirmationService.open({title:"Eliminar Cargo",message:"\xbfEsta seguro que desea Eliminar el contacto? Perder\xe1 el acceso a todos los datos asociados al mismo.",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"info"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{"confirmed"===i&&this._contactsService.removeContact(this.contact.id).pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{a&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:a.message,title:"Confirmaci\xf3n",appearance:"fill",type:"success"}}),this._router.navigate(["../"],{relativeTo:this._activatedRoute}))})})}uploadImage(e){if(!e.length)return;const a=e[0];a.size/1024/1024>1?this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:"Tama\xf1o demasiado grande. La imagen no debe superar a 1MB",title:"Confirmaci\xf3n",type:"error",svgIcon:"heroicons_solid:check"}}):!["image/jpeg","image/jpg","image/webp","image/png"].includes(a.type)||this._imagesService.uploadImage("Contact",a).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.contactForm.get("imageUrl").setValue(r.imageUrl),"edit"===this.actionMode&&this._contactsService.updateContactImage({id:this.contact.id,imageUrl:r.imageUrl}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()},r=>{console.warn(r)})}removeImage(){const e=this.contactForm.get("imageUrl").value;this._fuseConfirmationService.open({title:"Cuidado",message:"\xbfEst\xe1 seguro que desea eliminar esta imagen?",icon:{show:!0,name:"heroicons_outline:question-mark-circle",color:"warning"},actions:{confirm:{label:"Aceptar",color:"primary"}}}).afterClosed().pipe((0,m.R)(this._unsubscribeAll)).subscribe(a=>{"confirmed"===a&&this._imagesService.removeImage(e).pipe((0,m.R)(this._unsubscribeAll)).subscribe(r=>{this.contactForm.get("imageUrl").setValue(null),"edit"===this.actionMode&&this._contactsService.updateContactImage({id:this.contact.id,imageUrl:null}).pipe((0,m.R)(this._unsubscribeAll)).subscribe(s=>{s&&(this._snackBar.openFromComponent(x.h,{panelClass:["p-0","bg-transparent"],horizontalPosition:"end",verticalPosition:"bottom",duration:5e3,data:{message:r.message,title:"Confirmaci\xf3n",type:"success",svgIcon:"heroicons_solid:check"}}),this._changeDetectorRef.markForCheck())}),this._changeDetectorRef.markForCheck()})})}toggleEditMode(e){this.actionMode=e,this._changeDetectorRef.markForCheck(),"view"===e&&!this.contact&&this._router.navigate(["../../"],{relativeTo:this._activatedRoute})}trackByFn(e,i){return i.id||e}closeDrawer(){return this._contactsListComponent.matDrawer.close()}_getCitiesByState(e){this._locationService.getCitiesByState(e).pipe((0,m.R)(this._unsubscribeAll)).subscribe(i=>{this.cities=i,this._changeDetectorRef.markForCheck()})}fillForm(){if("edit"===this.actionMode||"view"===this.actionMode){this._getCitiesByState(this.contact.state),this.contactForm.get("emails").clear(),this.contactForm.get("phoneNumbers").clear(),this.contactForm.patchValue(this.contact);const e=[];this.contact.emails.length>0&&this.contact.emails.forEach(a=>{e.push(this._formBuilder.group({email:[a.email,[c.kI.required,c.kI.email,c.kI.maxLength(255)]],label:[a.label,[c.kI.minLength(3),c.kI.maxLength(255)]]}))}),e.forEach(a=>{this.contactForm.get("emails").push(a)});const i=[];this.contact.phoneNumbers.length>0&&this.contact.phoneNumbers.forEach(a=>{i.push(this._formBuilder.group({stateCode:[a.stateCode,[c.kI.required]],phoneNumber:[a.phoneNumber,[c.kI.required,c.kI.minLength(7),c.kI.maxLength(7),v.L.onlyNumbersPattern()]],label:[a.label,[c.kI.minLength(3),c.kI.maxLength(255)]]}))}),i.forEach(a=>{this.contactForm.get("phoneNumbers").push(a)})}}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(vt),t.Y36(u.gz),t.Y36(t.sBO),t.Y36(R),t.Y36(y.v),t.Y36(gi.Z),t.Y36(rt.a),t.Y36(c.qu),t.Y36(z.R),t.Y36(u.F0),t.Y36(H.ux),t.Y36(at.C),t.Y36(Z.yh))},n.\u0275cmp=t.Xpm({type:n,selectors:[["contact-details"]],decls:14,vars:5,consts:[[1,"flex","flex-col","w-full"],[4,"ngIf"],["clientContent",""],["employeesContent",""],["customerContent",""],["contactContent",""],[4,"ngTemplateOutlet"],[1,"relative","w-full","h-40","px-8","sm:h-48","sm:px-12","bg-accent-100","dark:bg-accent-700"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","pt-6","mx-auto"],["mat-icon-button","",1,"bg-gray-300","bg-opacity-50","hover:bg-gray-400",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","items-center","flex-auto","p-6","pt-0","sm:p-12","sm:pt-0"],[1,"w-full","max-w-3xl"],[1,"flex","items-end","flex-auto","-mt-16"],[1,"flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full overflow-hidden font-bold leading-none text-gray-600 uppercase bg-gray-200 rounded text-8xl dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"mt-3","text-4xl","font-bold","truncate"],[1,"flex","items-center","justify-center","px-3","py-1","mt-2","mb-8","mr-3","leading-normal","text-gray-500","bg-gray-100","rounded-full","w-36","dark:text-gray-300","dark:bg-gray-700"],[1,"text-sm","font-medium","whitespace-nowrap"],["class","flex flex-col pt-6 mt-4 space-y-8 border-t",4,"ngIf"],[1,"absolute","inset-0","object-cover","w-full","h-full",3,"src"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","overflow-hidden","font-bold","leading-none","text-gray-600","uppercase","bg-gray-200","rounded","text-8xl","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","flex-col","pt-6","mt-4","space-y-8","border-t"],[1,"flex"],[3,"svgIcon"],[1,"flex","items-center","min-w-0","ml-6","leading-6"],["target","_blank",1,"hover:underline","text-primary-500",3,"href"],[1,"ml-2.5","font-mono",3,"href"],[1,"flex","sm:items-center"],[1,"ml-6","leading-6"],[1,"flex","items-center","justify-center","w-20","px-3","py-1","mt-2","mb-8","mr-3","leading-normal","text-gray-500","bg-gray-100","rounded-full","dark:text-gray-300","dark:bg-gray-700"],["matTooltip","Cargo",3,"svgIcon"],[1,"min-w-0","ml-6","space-y-1"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"flex","items-center","leading-6"],["class","truncate text-md text-secondary",4,"ngIf"],[1,"truncate","text-md","text-secondary"],[1,"mx-2"],[1,"font-medium"],["matTooltip","Sector",3,"svgIcon"],["matTooltip","Sitio web",3,"svgIcon"],["target","_blank",1,"ml-6","hover:underline","text-primary-500",3,"href"],["matTooltip","Descripci\xf3n",3,"svgIcon"],[1,"ml-6","prose-sm","prose","max-w-none",3,"innerHTML"],[1,"flex","items-center","mb-1","ml-auto"],["mat-stroked-button","",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],[1,"flex","items-center","justify-center","w-20","px-3","py-1","mt-2","mb-3","mb-8","mr-3","leading-normal","text-gray-500","bg-gray-100","rounded-full","dark:text-gray-300","dark:bg-gray-700"],["matTooltip","Cliente",3,"svgIcon"],[1,"relative","flex","flex-col","items-center","flex-auto","px-6","sm:px-12"],[3,"formGroup","autocomplete"],[1,"flex","items-end","flex-auto","mb-8","-mt-16"],[1,"relative","flex","items-center","justify-center","w-32","h-32","overflow-hidden","rounded-full","ring-4","ring-bg-card"],[1,"absolute","inset-0","z-10","bg-black","bg-opacity-50"],[1,"absolute","inset-0","z-20","flex","items-center","justify-center"],[1,"text-gray-400"],[1,"grid","pt-8","pb-8","pl-4","pr-4","border-t-2","sm:grid-cols-2","gap-y-3","gap-x-4","sm:col-span-2"],[1,"sm:col-span-1"],[1,"w-full"],["required","",3,"formControlName"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["matInput","","required","",3,"type","formControlName","minlength","maxlength","placeholder"],["matInput","","required","",3,"type","formControlName","minlength","maxlength"],["matInput","",3,"type","formControlName","minlength","maxlength"],[3,"formControlName"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"type","formControlName","maxlength","minlength"],[1,"sm:col-span-2"],[1,"w-full","fuse-mat-textarea"],["matInput","","matTextareaAutosize","",3,"formControlName","rows","maxlength","spellcheck"],[1,"text-right"],[1,"grid","pt-8","pb-8","pl-4","pr-4","border-t-2","sm:grid-cols-2","gap-y-6","sm:col-span-2"],[1,""],[1,"inline-flex","items-center","px-4","-ml-4","rounded","cursor-pointer","group",3,"click"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],[1,"grid","pt-8","pb-4","pl-4","pr-4","border-t-2","sm:grid-cols-2","gap-y-3","gap-x-4","sm:col-span-2"],[1,"w-full","fuse-mat-no-subscript"],["value","Cuba"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","minLength","maxlength"],[1,"flex","items-center","py-4","pl-1","pr-4","mt-10","-mx-6","border-t","sm:-mx-12","sm:pr-12","sm:pl-7","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click",4,"ngIf"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["class","ml-2","mat-flat-button","",3,"color","disabled","matTooltip","ngClass","click",4,"ngIf"],["id","imageUrl-file-input","type","file",1,"absolute","invisible","w-0","h-0","opacity-0","pointer-events-none",3,"multiple","accept","change"],["imageUrlFileInput",""],["for","imageUrl-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["mat-icon-button","",3,"click"],[3,"value"],[1,"relative","flex","flex-col","sm:flex-row"],[1,"flex-auto"],["matInput","",3,"type","formControl","placeholder","minlength","maxlength"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"flex","items-center"],[1,"sm:mx-0.5","font-medium","text-default"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2","font-medium"],[1,"flex-auto","w-full","mt-6","sm:mt-0","sm:max-w-50","sm:ml-4"],["matInput","",3,"formControl","placeholder","minLength","maxLength"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Eliminar tel\xe9fono",1,"w-8","h-8","min-h-8",3,"click"],[1,"flex","flex-col","sm:flex-row"],["matInput","",3,"formControl","spellcheck"],["mat-icon-button","","matTooltip","Eliminar",1,"w-8","h-8","min-h-8",3,"click"],["mat-button","",3,"color","matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","ngClass","click"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.YNc(1,fi,2,1,"ng-container",1),t.YNc(2,hi,2,1,"ng-container",1),t.YNc(3,vi,2,1,"ng-container",1),t.YNc(4,bi,2,1,"ng-container",1),t.YNc(5,qi,1,1,"ng-template",null,2,t.W1O),t.YNc(7,Vi,1,1,"ng-template",null,3,t.W1O),t.YNc(9,da,1,1,"ng-template",null,4,t.W1O),t.YNc(11,qa,1,1,"ng-template",null,5,t.W1O),t.YNc(13,vr,132,82,"ng-container",1),t.qZA()),2&e&&(t.xp6(1),t.Q6J("ngIf","contact"===i.selectedEntity),t.xp6(1),t.Q6J("ngIf","employee"===i.selectedEntity),t.xp6(1),t.Q6J("ngIf","customer"===i.selectedEntity),t.xp6(1),t.Q6J("ngIf","client"===i.selectedEntity),t.xp6(9),t.Q6J("ngIf","add"===i.actionMode||"edit"===i.actionMode))},dependencies:[u.rH,g.mk,g.sg,g.O5,g.tP,c._Y,c.Fj,c.JJ,c.JL,c.Q7,c.wO,c.nD,c.oH,c.sg,c.u,J.ey,L.lW,Q.Hw,f.TO,f.KE,f.bx,f.hX,f.qo,E.Nt,J.wG,B.gD,B.$L,G.gM,g.Ov,g.rS,g.uU,Ct.V,ui],encapsulation:2,changeDetection:0}),n})(),resolve:{contact:Tn},canDeactivate:[(()=>{class n{canDeactivate(e,i,a,r){let s=r.root;for(;s.firstChild;)s=s.firstChild;return!(r.url.includes("/contacts")&&!s.paramMap.get("id"))||e.closeDrawer().then(()=>!0)}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()]}]}]}];let br=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({}),n})(),Tr=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(Zr),br,it.m,pt.Rq]}),n})(),Ar=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[u.Bz.forChild(nn),it.m,Tr]}),n})()}}]);